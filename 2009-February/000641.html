<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Griffith-svn] r1169 - in trunk: . glade lib lib/plugins/movie
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/griffith-svn/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1169%20-%20in%20trunk%3A%20.%20glade%20lib%20lib/plugins/movie&In-Reply-To=%3C200902282158.n1SLwqS5025450%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000640.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Griffith-svn] r1169 - in trunk: . glade lib lib/plugins/movie</H1>
    <B>mikej06 at mail.berlios.de</B> 
    <A HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1169%20-%20in%20trunk%3A%20.%20glade%20lib%20lib/plugins/movie&In-Reply-To=%3C200902282158.n1SLwqS5025450%40sheep.berlios.de%3E"
       TITLE="[Griffith-svn] r1169 - in trunk: . glade lib lib/plugins/movie">mikej06 at mail.berlios.de
       </A><BR>
    <I>Sat Feb 28 22:58:52 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000640.html">[Griffith-svn] r1168 - trunk/lib
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#641">[ date ]</a>
              <a href="thread.html#641">[ thread ]</a>
              <a href="subject.html#641">[ subject ]</a>
              <a href="author.html#641">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mikej06
Date: 2009-02-28 22:58:24 +0100 (Sat, 28 Feb 2009)
New Revision: 1169

Modified:
   trunk/ChangeLog
   trunk/glade/griffith.glade
   trunk/lib/add.py
   trunk/lib/config.py
   trunk/lib/plugins/movie/PluginMovieAmazon.py
   trunk/lib/preferences.py
   trunk/lib/widgets.py
Log:
screenplay, cameraman, resolution and barcode added to Search-For section in preferences

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/ChangeLog	2009-02-28 21:58:24 UTC (rev 1169)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O&#380;arowski
 
 
+2009-02-28  Michael Jahn
+	* screenplay, cameraman, resolution and barcode added to Search-For section in preferences
+
 2009-02-24  Michael Jahn
 	* Amazon posters: removing of temporary files fixed
 

Modified: trunk/glade/griffith.glade
===================================================================
--- trunk/glade/griffith.glade	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/glade/griffith.glade	2009-02-28 21:58:24 UTC (rev 1169)
@@ -3202,12 +3202,79 @@
                         &lt;child&gt;
                           &lt;widget class=&quot;GtkTable&quot; id=&quot;table16&quot;&gt;
                             &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-                            &lt;property name=&quot;n_rows&quot;&gt;6&lt;/property&gt;
+                            &lt;property name=&quot;n_rows&quot;&gt;7&lt;/property&gt;
                             &lt;property name=&quot;n_columns&quot;&gt;3&lt;/property&gt;
                             &lt;child&gt;
-                              &lt;placeholder/&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_s_screenplay&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Screenplay&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;7&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
                             &lt;/child&gt;
                             &lt;child&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_s_cameraman&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Cameraman&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;7&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_s_barcode&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Barcode&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;7&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_s_resolution&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Resolution&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;5&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
                               &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_s_cast&quot;&gt;
                                 &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
                                 &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/add.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -181,7 +181,8 @@
     
     fields_to_fetch = ['o_title', 'title', 'director', 'plot', 'cast', 'country', 'genre',
                 'classification', 'studio', 'o_site', 'site', 'trailer', 'year',
-                'notes', 'runtime', 'image', 'rating', 'screenplay', 'cameraman']
+                'notes', 'runtime', 'image', 'rating', 'screenplay', 'cameraman',
+                'resolution', 'barcode']
     # remove fields that user doesn't want to fetch: (see preferences window)
     fields_to_fetch = [ i for i in fields_to_fetch if self.config.get(&quot;s_%s&quot; % i, True, section='add') ]
 

Modified: trunk/lib/config.py
===================================================================
--- trunk/lib/config.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/config.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -162,6 +162,10 @@
         self._cfg.set('add', 's_title', 'True')
         self._cfg.set('add', 's_trailer', 'True')
         self._cfg.set('add', 's_year', 'True')
+        self._cfg.set('add', 's_screenplay', 'True')
+        self._cfg.set('add', 's_cameraman', 'True')
+        self._cfg.set('add', 's_resolution', 'True')
+        self._cfg.set('add', 's_barcode', 'True')
         self._cfg.set('database', 'file', 'griffith.db')
         self._cfg.set('database', 'host', 'localhost')
         self._cfg.set('database', 'name', 'griffith')

Modified: trunk/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -218,6 +218,9 @@
         if hasattr(self.page.ItemAttributes, 'EAN'):
             self.notes = 'EAN: ' + self.page.ItemAttributes.EAN
 
+    def get_barcode(self):
+        if hasattr(self.page.ItemAttributes, 'EAN'):
+            self.barcode = self.page.ItemAttributes.EAN
 
 class SearchPlugin(movie.SearchMovie):
 

Modified: trunk/lib/preferences.py
===================================================================
--- trunk/lib/preferences.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/preferences.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -148,6 +148,10 @@
     w['s_trailer'].set_active(bool(self.config.get('s_trailer', True, section='add')))
     w['s_cast'].set_active(bool(self.config.get('s_cast', True, section='add')))
     w['s_year'].set_active(bool(self.config.get('s_year', True, section='add')))
+    w['s_screenplay'].set_active(bool(self.config.get('s_screenplay', True, section='add')))
+    w['s_cameraman'].set_active(bool(self.config.get('s_cameraman', True, section='add')))
+    w['s_resolution'].set_active(bool(self.config.get('s_resolution', True, section='add')))
+    w['s_barcode'].set_active(bool(self.config.get('s_barcode', True, section='add')))
     
     if self.config.get('sortby', section='mainlist'):
         tmp = self.sort_criteria.index(self.config.get('sortby', section='mainlist'))
@@ -353,6 +357,10 @@
     c.set('s_trailer', w['s_trailer'].get_active(), section='add')
     c.set('s_cast', w['s_cast'].get_active(), section='add')
     c.set('s_year', w['s_year'].get_active(), section='add')
+    c.set('s_screenplay', w['s_screenplay'].get_active(), section='add')
+    c.set('s_cameraman', w['s_cameraman'].get_active(), section='add')
+    c.set('s_resolution', w['s_resolution'].get_active(), section='add')
+    c.set('s_barcode', w['s_barcode'].get_active(), section='add')
     
     mcounter = 0
     for p in self.plugins:

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/widgets.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -212,6 +212,10 @@
         's_trailer'         : get('p_s_trailer'),
         's_cast'            : get('p_s_cast'),
         's_year'            : get('p_s_year'),
+        's_screenplay'      : get('p_s_screenplay'),
+        's_cameraman'       : get('p_s_cameraman'),
+        's_resolution'      : get('p_s_resolution'),
+        's_barcode'         : get('p_s_barcode'),
         's_limit'           : get('p_sp_s_limit'),
         'vcodec'            : get('p_vcodec'),
         'view_image'        : get('view_image'),


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000640.html">[Griffith-svn] r1168 - trunk/lib
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#641">[ date ]</a>
              <a href="thread.html#641">[ thread ]</a>
              <a href="subject.html#641">[ subject ]</a>
              <a href="author.html#641">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/griffith-svn">More information about the Griffith-svn
mailing list</a><br>
</body></html>
