From piotrek at mail.berlios.de  Sun Feb  1 16:14:10 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 16:14:10 +0100
Subject: [Griffith-svn] r1140 - in trunk: . lib
Message-ID: <200902011514.n11FEAgc006147@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 16:14:09 +0100 (Sun, 01 Feb 2009)
New Revision: 1140

Modified:
   trunk/ChangeLog
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
   trunk/lib/gconsole.py
Log:
* Add interactive shell (--shell commandline option)
* Add barcode column to the movie table
* Change default type of runtime and year to SmallInteger


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-01-31 21:51:20 UTC (rev 1139)
+++ trunk/ChangeLog	2009-02-01 15:14:09 UTC (rev 1140)
@@ -5,6 +5,11 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-01  Piotr O?arowski
+	* Add interactive shell (--shell commandline option)
+	* Add barcode column to the movie table
+	* Change default type of runtime and year to SmallInteger
+
 2009-01-31  Michael Jahn
 	* Allocine movie plugin updated
 	* small unicode fixes for 7arte movie plugin

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-01-31 21:51:20 UTC (rev 1139)
+++ trunk/lib/db.py	2009-02-01 15:14:09 UTC (rev 1140)
@@ -168,8 +168,9 @@
     Column('layers', SmallInteger),
     Column('region', SmallInteger),
     Column('media_num', SmallInteger),
-    Column('runtime', Integer),
-    Column('year', Integer),
+    Column('runtime', SmallInteger),
+    Column('year', SmallInteger),
+    Column('barcode', Integer, unique=True),
     Column('o_title', Unicode(256), index=True),
     Column('title', Unicode(256), index=True),
     Column('director', Unicode(256)),
@@ -350,44 +351,3 @@
 mapper(Filter, filters_table)
 #}}}
 
-
-
-# for debugging (run: ipython db.py)
-if __name__ == '__main__':
-    import os.path
-    import sqlalchemy
-    logging.basicConfig()
-    log.setLevel(logging.INFO)
-    log.info("SQLAlchemy version: %s", sqlalchemy.__version__)
-
-    ### ENGINE ###
-    mem_engine = create_engine('sqlite:///:memory:', echo=False)
-
-    # create tables
-    metadata.create_all(mem_engine)
-
-    ### MEMORY SESSION ###
-    # create a configured "Session" class
-    Session = sessionmaker(bind=mem_engine)
-    # create a Session
-    mem_sess = Session()
-
-
-    griffith_dir = os.path.expanduser("~/.griffith/")
-    url = "sqlite:///%s" % os.path.join(griffith_dir, 'griffith.db')
-    my_engine = create_engine(url, echo=False)
-    Session2 = sessionmaker(bind=my_engine)
-    my_sess = Session2()
-
-    print "\nAvailable variables:"
-    print "my_sess:  %s" % my_sess
-    print "mem_sess: %s" % mem_sess
-
-    my_movie1 = my_sess.query(Movie).first()
-    if my_movie1:
-        mem_movie1 = mem_sess.merge(my_movie1)
-        mem_movie1.title = u'updated movie title'
-        mem_sess.add(mem_movie1)
-        mem_sess.commit()
-        print "my_movie1:  %s - title: %s" % (my_movie1, my_movie1.title)
-        print "mem_movie1: %s - title: %s" % (mem_movie1, mem_movie1.title)

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-01-31 21:51:20 UTC (rev 1139)
+++ trunk/lib/dbupgrade.py	2009-02-01 15:14:09 UTC (rev 1140)
@@ -192,7 +192,19 @@
     if False and version == 3:    # fix changes between v3 and v4
         version += 1
         log.info("Upgrading database to version %d...", version)
+        
+        log.info('... adding new columns')
+        # common SQL statements
+        queries = {'barcode': 'ALTER TABLE movies ADD barcode INTEGER NULL;',
+                  }
+        for key, query in queries.items():
+            try:
+                self.session.bind.execute(query)
+            except Exception, e:
+                log.error("Cannot add '%s' column: %s", key, e)
+                return False
 
+        log.info('... creading missing indexes')
         i = Index('ix_movies_title', db.movies_table.c.title)
         i.create(bind=b)
         i = Index('ix_movies_o_title', db.movies_table.c.o_title)

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2009-01-31 21:51:20 UTC (rev 1139)
+++ trunk/lib/gconsole.py	2009-02-01 15:14:09 UTC (rev 1140)
@@ -32,7 +32,7 @@
 options = ('hvDCo:t:d:c:y:s:', ('help', 'debug', 'sqlecho', 'clean', 'check-dep',
     'show-dep', 'original_title=', 'title=', 'director=', 'cast=', 'year=',
     'sort=', 'seen=', 'loaned=', 'number=', 'runtime=', 'rating=', 'home=',
-    'config=', 'version' ))
+    'config=', 'shell', 'version' ))
 
 def check_args():
     default_lang, default_enc = getdefaultlocale()
@@ -95,6 +95,7 @@
             sys.exit(3)
 
         sort = None
+        shell = False
         where = {}
         for o, a in opts:
             if o in ('-C', '--clean'):
@@ -124,8 +125,12 @@
                 where['runtime'] = a
             elif o == '--rating':
                 where['rating'] = a
+            elif o == '--shell':
+                shell = True
         if where:
             con_search_movie(self, where, sort)
+        if shell:
+            run_shell(self)
 
 def con_search_movie(self, where, sort=None):
     # for search function
@@ -234,3 +239,76 @@
     print "-y <number>, --year=<number>"
     print "-s <columns>, --sort=<columns>"
 
+def run_shell(self):
+    import sqlalchemy as sa
+    from sqlalchemy.orm import sessionmaker
+    import db
+
+    # settings
+    banner = """
+Griffith Interactive Shell
+
+
+Available variables:
+* sess - database session (try f.e. `sess.bind.echo = True`)
+* mem_sess - in memory session (playground)
+* sa - SQLAlchemy module
+* orm - SQLAlchemy's orm module
+* db - ORM stuff (f.e. db.Movie class)
+* gsql - GriffithSQL instance
+
+
+Examples:
+>>> movie = sess.query(db.Movie).first()
+>>> print movie.title
+
+>>> mem_movie = mem_sess.merge(movie)
+>>> mem_movie.seen = False
+>>> mem_sess.add(mem_movie)
+>>> mem_sess.commit()
+
+>>> seen_movies = sess.query(db.Movie).filter_by(seen=True)
+>>> for movie in seen_movies:
+        print movie.title, movie.loaned
+
+>>> person = sess.query(db.Person).first()
+>>> print "%s has %d movies loaned" % (person.name, person.loaned_movies_count)
+"""
+    
+    ### prepare local env. ###
+    
+    # create a playground in memory
+    mem_engine = sa.create_engine('sqlite:///:memory:')
+    db.metadata.create_all(bind=mem_engine) # create tables
+    MemSession = sessionmaker(bind=mem_engine)
+    mem_session = MemSession()
+
+    locs = {'mem_sess': mem_session,
+            'meta': db.metadata,
+            'db': db,
+            'sa': sa,
+            'orm': sa.orm,
+            'gsql': self.db,
+            'sess': self.db.session,
+            #'griffith': self,
+           }
+ 
+    ### prepare the shell ###
+    try:
+        ipython_args = [] # TODO: do we want to pass some args here?
+        # try to use IPython if possible
+        from IPython.Shell import IPShellEmbed
+
+        shell = IPShellEmbed(argv=ipython_args)
+        shell.set_banner(shell.IP.BANNER + banner)
+        shell(local_ns=locs, global_ns={})
+    except ImportError:
+        log.debug('IPython is not available')
+        import code
+        shell = code.InteractiveConsole(locals=locs)
+        try:
+            import readline
+        except ImportError:
+            log.debug('readline is not available')
+        shell.interact(banner)
+    sys.exit(0)



From piotrek at mail.berlios.de  Sun Feb  1 21:57:46 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 21:57:46 +0100
Subject: [Griffith-svn] r1141 - in trunk: . lib
Message-ID: <200902012057.n11KvkrZ029096@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 21:57:45 +0100 (Sun, 01 Feb 2009)
New Revision: 1141

Modified:
   trunk/ChangeLog
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
   trunk/lib/gconsole.py
Log:
Add resolution (width and height columns) to the movie table


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-01 15:14:09 UTC (rev 1140)
+++ trunk/ChangeLog	2009-02-01 20:57:45 UTC (rev 1141)
@@ -8,6 +8,7 @@
 2009-02-01  Piotr O?arowski
 	* Add interactive shell (--shell commandline option)
 	* Add barcode column to the movie table
+	* Add resolution (width and height columns) to the movie table
 	* Change default type of runtime and year to SmallInteger
 
 2009-01-31  Michael Jahn

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 15:14:09 UTC (rev 1140)
+++ trunk/lib/db.py	2009-02-01 20:57:45 UTC (rev 1141)
@@ -103,6 +103,54 @@
         return "<Loan:%s (movie:%s person:%s)>" % (self.loan_id, self.movie_id, self.person_id)
 
 class Movie(object):
+    _res_aliases = {'CGA': (320, 200),
+                    'HD 1080': (1920, 1080),
+                    'HD 720': (1280, 720),
+                    'NTSC': (720, 480),
+                    'PAL': (768, 576),
+                    'QSXGA': (2560, 1600),
+                    'QVGA': (320, 240),
+                    'QXGA': (2048, 1536),
+                    'SVGA': (800, 600),
+                    'SXGA': (1280, 1024),
+                    'SXGA+': (1400, 1050),
+                    'VGA': (640, 480),
+                    'WSXGA+': (1680, 1050),
+                    'WUXGA': (1920, 1200),
+                    'WVGA': (854, 480),
+                    'XGA': (1024, 768),
+                    'UXGA': (1600, 1200),
+                    #'': (1152, 768),
+                    #'': (1280, 854),
+                    #'': (1280, 960),
+                    #'': (1440, 960),
+    }
+    _res_alias_repr = {}
+    for i in _res_aliases.iteritems():
+        _res_alias_repr["%dx%d" % i[1]] = i[0]
+    print _res_alias_repr
+
+    def _set_resolution(self, res_string):
+        if res_string in Movie._res_aliases:
+            self.width, self.height = Movie._res_aliases[res_string]
+        elif res_string in Movie._res_alias_repr:
+            self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string]]
+        elif 'x' in res_string[1:]:
+            self.width, self.height = map(int, res_string.split('x'))
+        else:
+            raise ValueError('Use standard resolution name or \d+x\d+')
+
+    def _get_resolution(self):
+        if not self.width or not self.height:
+            return None
+        res_string = "%dx%d" % (self.width, self.height)
+        if res_string in Movie._res_alias_repr:
+            return Movie._res_alias_repr[res_string]
+        else:
+            return res_string
+    resolution = property(_get_resolution, _set_resolution)
+
+
     def __repr__(self):
         return "<Movie:%s (number=%s)>" % (self.movie_id, self.number)
 
@@ -113,7 +161,8 @@
     def __getitem__(self, name):
         if name in self:
             return getattr(self, name)
-        else: raise AttributeError, name
+        else:
+            raise AttributeError, name
 
 class MovieLang(object):
     def __init__(self, lang_id=None, type=None, acodec_id=None, achannel_id=None, subformat_id=None):
@@ -170,7 +219,9 @@
     Column('media_num', SmallInteger),
     Column('runtime', SmallInteger),
     Column('year', SmallInteger),
-    Column('barcode', Integer, unique=True),
+    Column('width', SmallInteger),
+    Column('height', SmallInteger),
+    Column('barcode', Unicode(32), unique=True),
     Column('o_title', Unicode(256), index=True),
     Column('title', Unicode(256), index=True),
     Column('director', Unicode(256)),

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-01 15:14:09 UTC (rev 1140)
+++ trunk/lib/dbupgrade.py	2009-02-01 20:57:45 UTC (rev 1141)
@@ -195,7 +195,9 @@
         
         log.info('... adding new columns')
         # common SQL statements
-        queries = {'barcode': 'ALTER TABLE movies ADD barcode INTEGER NULL;',
+        queries = {'barcode': 'ALTER TABLE movies ADD barcode VARCHAR(32) NULL;',
+                   'width': 'ALTER TABLE movies ADD width SMALLINT NULL;',
+                   'height': 'ALTER TABLE movies ADD height SMALLINT NULL;',
                   }
         for key, query in queries.items():
             try:

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2009-02-01 15:14:09 UTC (rev 1140)
+++ trunk/lib/gconsole.py	2009-02-01 20:57:45 UTC (rev 1141)
@@ -229,6 +229,7 @@
     print "-C, --clean\tfind and delete orphan files in posters directory"
     print "--check-dep\tcheck dependencies"
     print "--show-dep\tshow dependencies"
+    print "--shell\topen interactive shell"
     print "--sqlecho\tprint SQL queries"
     print "--home DIR \tset Griffith's home directory (instead of the default ~/.griffith)"
     print "\n printing movie list:"
@@ -292,6 +293,7 @@
             'sess': self.db.session,
             #'griffith': self,
            }
+    #exec 'from db import *' in locs
  
     ### prepare the shell ###
     try:



From piotrek at mail.berlios.de  Sun Feb  1 22:12:59 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 22:12:59 +0100
Subject: [Griffith-svn] r1142 - trunk/lib
Message-ID: <200902012112.n11LCx1v030283@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 22:12:57 +0100 (Sun, 01 Feb 2009)
New Revision: 1142

Modified:
   trunk/lib/db.py
Log:
remove debug output, fix "movie.resolution = None"


Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 20:57:45 UTC (rev 1141)
+++ trunk/lib/db.py	2009-02-01 21:12:57 UTC (rev 1142)
@@ -128,14 +128,16 @@
     _res_alias_repr = {}
     for i in _res_aliases.iteritems():
         _res_alias_repr["%dx%d" % i[1]] = i[0]
-    print _res_alias_repr
 
     def _set_resolution(self, res_string):
-        if res_string in Movie._res_aliases:
+        if not res_string:
+            self.width = None
+            self.height = None
+        elif res_string in Movie._res_aliases:
             self.width, self.height = Movie._res_aliases[res_string]
         elif res_string in Movie._res_alias_repr:
             self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string]]
-        elif 'x' in res_string[1:]:
+        elif 'x' in res_string:
             self.width, self.height = map(int, res_string.split('x'))
         else:
             raise ValueError('Use standard resolution name or \d+x\d+')
@@ -148,9 +150,9 @@
             return Movie._res_alias_repr[res_string]
         else:
             return res_string
+
     resolution = property(_get_resolution, _set_resolution)
 
-
     def __repr__(self):
         return "<Movie:%s (number=%s)>" % (self.movie_id, self.number)
 



From piotrek at mail.berlios.de  Sun Feb  1 23:42:33 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 23:42:33 +0100
Subject: [Griffith-svn] r1143 - in trunk: . glade lib
Message-ID: <200902012242.n11MgXvT003127@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 23:42:31 +0100 (Sun, 01 Feb 2009)
New Revision: 1143

Modified:
   trunk/glade/griffith.glade
   trunk/griffith
   trunk/lib/add.py
   trunk/lib/db.py
   trunk/lib/main_treeview.py
   trunk/lib/widgets.py
Log:
add barcode and resolution in "add" window


Modified: trunk/glade/griffith.glade
===================================================================
--- trunk/glade/griffith.glade	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/glade/griffith.glade	2009-02-01 22:42:31 UTC (rev 1143)
@@ -60,7 +60,7 @@
                         <signal name="activate" handler="on_restore_activate"/>
                         <child internal-child="image">
                           <widget class="GtkImage" id="menu-item-image11">
-							<property name="stock">gtk-revert-to-saved</property>
+                            <property name="stock">gtk-revert-to-saved</property>
                           </widget>
                         </child>
                       </widget>
@@ -911,11 +911,11 @@
                             <property name="column_spacing">5</property>
                             <property name="row_spacing">2</property>
                             <child>
-                              <widget class="GtkLabel" id="m_vcodec">
+                              <widget class="GtkLabel" id="m_ratio">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">video codec</property>
+                                <property name="label">ratio</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -923,51 +923,54 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">8</property>
-                                <property name="bottom_attach">9</property>
+                                <property name="top_attach">9</property>
+                                <property name="bottom_attach">10</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label196">
+                              <widget class="GtkLabel" id="label19">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Video codec</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">8</property>
-                                <property name="bottom_attach">9</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">9</property>
+                                <property name="bottom_attach">10</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label278">
+                              <widget class="GtkLabel" id="label17">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Aspect ratio</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="top_attach">9</property>
+                                <property name="bottom_attach">10</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label277">
+                              <widget class="GtkLabel" id="m_cameraman">
                                 <property name="visible">True</property>
+                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label">cameraman</property>
+                                <property name="wrap">True</property>
+                                <property name="selectable">True</property>
+                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
                                 <property name="top_attach">3</property>
                                 <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -975,15 +978,18 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label274">
+                              <widget class="GtkLabel" id="m_screenplay">
                                 <property name="visible">True</property>
+                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label">screenplay</property>
+                                <property name="wrap">True</property>
+                                <property name="selectable">True</property>
+                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
                                 <property name="top_attach">2</property>
                                 <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -991,116 +997,115 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label237">
+                              <widget class="GtkLabel" id="Color2">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Cameraman</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label284">
+                              <widget class="GtkLabel" id="Color1">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Screenplay</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label285">
+                              <widget class="GtkLabel" id="label27">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Country</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">6</property>
-                                <property name="bottom_attach">7</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label286">
+                              <widget class="GtkLabel" id="m_genre">
                                 <property name="visible">True</property>
+                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label">genre</property>
+                                <property name="wrap">True</property>
+                                <property name="selectable">True</property>
+                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">7</property>
-                                <property name="bottom_attach">8</property>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label287">
+                              <widget class="GtkLabel" id="label29">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Genre</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">8</property>
-                                <property name="bottom_attach">9</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label22">
+                              <widget class="GtkLabel" id="m_studio">
                                 <property name="visible">True</property>
+                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Director</property>
+                                <property name="label">studio</property>
+                                <property name="wrap">True</property>
+                                <property name="selectable">True</property>
+                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                               </widget>
                               <packing>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label290">
+                              <widget class="GtkLabel" id="label34">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Studio</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_country">
+                              <widget class="GtkLabel" id="m_classification">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">country</property>
+                                <property name="label" translatable="yes">classification</property>
+                                <property name="use_markup">True</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -1108,18 +1113,31 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_director">
+                              <widget class="GtkLabel" id="label33">
                                 <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Classification</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="m_color">
+                                <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">director</property>
+                                <property name="label">color</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -1127,6 +1145,9 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
+                                <property name="top_attach">7</property>
+                                <property name="bottom_attach">8</property>
+                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
@@ -1144,11 +1165,11 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_color">
+                              <widget class="GtkLabel" id="m_director">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">color</property>
+                                <property name="label">director</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -1156,32 +1177,15 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">7</property>
-                                <property name="bottom_attach">8</property>
-                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label33">
+                              <widget class="GtkLabel" id="m_country">
                                 <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Classification</property>
-                              </widget>
-                              <packing>
-                                <property name="top_attach">6</property>
-                                <property name="bottom_attach">7</property>
-                                <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
-                              </packing>
-                            </child>
-                            <child>
-                              <widget class="GtkLabel" id="m_classification">
-                                <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">classification</property>
-                                <property name="use_markup">True</property>
+                                <property name="label">country</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -1189,128 +1193,127 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">6</property>
-                                <property name="bottom_attach">7</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label34">
+                              <widget class="GtkLabel" id="label290">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Studio</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_studio">
+                              <widget class="GtkLabel" id="label22">
                                 <property name="visible">True</property>
-                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">studio</property>
-                                <property name="wrap">True</property>
-                                <property name="selectable">True</property>
-                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                                <property name="label" translatable="yes">Director</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label29">
+                              <widget class="GtkLabel" id="label287">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Genre</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">8</property>
+                                <property name="bottom_attach">9</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_genre">
+                              <widget class="GtkLabel" id="label286">
                                 <property name="visible">True</property>
-                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">genre</property>
-                                <property name="wrap">True</property>
-                                <property name="selectable">True</property>
-                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">7</property>
+                                <property name="bottom_attach">8</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label27">
+                              <widget class="GtkLabel" id="label285">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Country</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="Color1">
+                              <widget class="GtkLabel" id="label284">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Screenplay</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">2</property>
-                                <property name="bottom_attach">3</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="Color2">
+                              <widget class="GtkLabel" id="label237">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Cameraman</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_screenplay">
+                              <widget class="GtkLabel" id="label274">
                                 <property name="visible">True</property>
-                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">screenplay</property>
-                                <property name="wrap">True</property>
-                                <property name="selectable">True</property>
-                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="top_attach">2</property>
                                 <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -1318,18 +1321,15 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_cameraman">
+                              <widget class="GtkLabel" id="label277">
                                 <property name="visible">True</property>
-                                <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">cameraman</property>
-                                <property name="wrap">True</property>
-                                <property name="selectable">True</property>
-                                <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="top_attach">3</property>
                                 <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -1337,40 +1337,40 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label17">
+                              <widget class="GtkLabel" id="label278">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Aspect ratio</property>
+                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                                <property name="use_markup">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">9</property>
-                                <property name="bottom_attach">10</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label19">
+                              <widget class="GtkLabel" id="label196">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                                <property name="use_markup">True</property>
+                                <property name="label" translatable="yes">Video codec</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">9</property>
-                                <property name="bottom_attach">10</property>
+                                <property name="top_attach">8</property>
+                                <property name="bottom_attach">9</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="m_ratio">
+                              <widget class="GtkLabel" id="m_vcodec">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label">16:9</property>
+                                <property name="label">video codec</property>
                                 <property name="wrap">True</property>
                                 <property name="selectable">True</property>
                                 <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -1378,8 +1378,8 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">9</property>
-                                <property name="bottom_attach">10</property>
+                                <property name="top_attach">8</property>
+                                <property name="bottom_attach">9</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
@@ -2162,50 +2162,45 @@
                         <property name="column_spacing">5</property>
                         <property name="row_spacing">2</property>
                         <child>
-                          <widget class="GtkLabel" id="m_condition">
+                          <widget class="GtkLabel" id="label48">
                             <property name="visible">True</property>
-                            <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">condition</property>
-                            <property name="wrap">True</property>
-                            <property name="selectable">True</property>
-                            <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                            <property name="use_markup">True</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">2</property>
-                            <property name="right_attach">3</property>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label110">
+                          <widget class="GtkLabel" id="label14">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Condition</property>
+                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                            <property name="use_markup">True</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="m_layers">
+                          <widget class="GtkLabel" id="label13">
                             <property name="visible">True</property>
-                            <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">layers</property>
-                            <property name="wrap">True</property>
-                            <property name="selectable">True</property>
-                            <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
+                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                            <property name="use_markup">True</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">2</property>
-                            <property name="right_attach">3</property>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
                             <property name="top_attach">2</property>
                             <property name="bottom_attach">3</property>
                             <property name="x_options">GTK_FILL</property>
@@ -2213,24 +2208,27 @@
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label109">
+                          <widget class="GtkLabel" id="label8">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">DVD layers</property>
+                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
+                            <property name="use_markup">True</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">2</property>
-                            <property name="bottom_attach">3</property>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="m_region">
+                          <widget class="GtkLabel" id="m_medium">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">region</property>
+                            <property name="label">2 x medium</property>
                             <property name="wrap">True</property>
                             <property name="selectable">True</property>
                             <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -2238,42 +2236,39 @@
                           <packing>
                             <property name="left_attach">2</property>
                             <property name="right_attach">3</property>
-                            <property name="top_attach">1</property>
-                            <property name="bottom_attach">2</property>
-                            <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label108">
+                          <widget class="GtkLabel" id="label38">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">DVD region</property>
+                            <property name="label" translatable="yes">Medium</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">1</property>
-                            <property name="bottom_attach">2</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label38">
+                          <widget class="GtkLabel" id="label108">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Medium</property>
+                            <property name="label" translatable="yes">DVD region</property>
                           </widget>
                           <packing>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="m_medium">
+                          <widget class="GtkLabel" id="m_region">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">2 x medium</property>
+                            <property name="label">region</property>
                             <property name="wrap">True</property>
                             <property name="selectable">True</property>
                             <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
@@ -2281,35 +2276,38 @@
                           <packing>
                             <property name="left_attach">2</property>
                             <property name="right_attach">3</property>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
+                            <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label8">
+                          <widget class="GtkLabel" id="label109">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                            <property name="use_markup">True</property>
+                            <property name="label" translatable="yes">DVD layers</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
-                            <property name="right_attach">2</property>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label13">
+                          <widget class="GtkLabel" id="m_layers">
                             <property name="visible">True</property>
+                            <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                            <property name="use_markup">True</property>
+                            <property name="label">layers</property>
+                            <property name="wrap">True</property>
+                            <property name="selectable">True</property>
+                            <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
-                            <property name="right_attach">2</property>
+                            <property name="left_attach">2</property>
+                            <property name="right_attach">3</property>
                             <property name="top_attach">2</property>
                             <property name="bottom_attach">3</property>
                             <property name="x_options">GTK_FILL</property>
@@ -2317,31 +2315,33 @@
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label14">
+                          <widget class="GtkLabel" id="label110">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                            <property name="use_markup">True</property>
+                            <property name="label" translatable="yes">Condition</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
-                            <property name="right_attach">2</property>
-                            <property name="top_attach">1</property>
-                            <property name="bottom_attach">2</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label48">
+                          <widget class="GtkLabel" id="m_condition">
                             <property name="visible">True</property>
+                            <property name="can_focus">True</property>
                             <property name="xalign">0</property>
-                            <property name="label">&lt;b&gt;:&lt;/b&gt;</property>
-                            <property name="use_markup">True</property>
+                            <property name="label">condition</property>
+                            <property name="wrap">True</property>
+                            <property name="selectable">True</property>
+                            <property name="ellipsize">PANGO_ELLIPSIZE_END</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
-                            <property name="right_attach">2</property>
+                            <property name="left_attach">2</property>
+                            <property name="right_attach">3</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
@@ -2709,46 +2709,51 @@
                             <property name="column_spacing">8</property>
                             <property name="row_spacing">8</property>
                             <child>
-                              <widget class="GtkCheckButton" id="view_image">
+                              <widget class="GtkCheckButton" id="view_rating">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Image</property>
+                                <property name="label" translatable="yes">Rating</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
-                                <signal name="clicked" handler="on_view_image_clicked"/>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
+                                <property name="left_attach">4</property>
+                                <property name="right_attach">5</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_number">
+                              <widget class="GtkCheckButton" id="view_runtime">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Number</property>
+                                <property name="label" translatable="yes">Runtime</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
+                                <property name="left_attach">4</property>
+                                <property name="right_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_otitle">
+                              <widget class="GtkCheckButton" id="view_year">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Original Title</property>
+                                <property name="label" translatable="yes">Year</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
+                                <property name="left_attach">3</property>
+                                <property name="right_attach">4</property>
                                 <property name="top_attach">1</property>
                                 <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -2756,28 +2761,26 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_title">
+                              <widget class="GtkCheckButton" id="view_seen">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Title</property>
+                                <property name="label" translatable="yes">Seen it</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="left_attach">3</property>
+                                <property name="right_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_director">
+                              <widget class="GtkCheckButton" id="view_genre">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Director</property>
+                                <property name="label" translatable="yes">Genre</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -2785,17 +2788,15 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_genre">
+                              <widget class="GtkCheckButton" id="view_director">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Genre</property>
+                                <property name="label" translatable="yes">Director</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -2803,38 +2804,40 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_seen">
+                              <widget class="GtkCheckButton" id="view_title">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Seen it</property>
+                                <property name="label" translatable="yes">Title</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">3</property>
-                                <property name="right_attach">4</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_year">
+                              <widget class="GtkCheckButton" id="view_otitle">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Year</property>
+                                <property name="label" translatable="yes">Original Title</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">3</property>
-                                <property name="right_attach">4</property>
                                 <property name="top_attach">1</property>
                                 <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
@@ -2842,35 +2845,32 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_runtime">
+                              <widget class="GtkCheckButton" id="view_number">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Runtime</property>
+                                <property name="label" translatable="yes">Number</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">4</property>
-                                <property name="right_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="view_rating">
+                              <widget class="GtkCheckButton" id="view_image">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Rating</property>
+                                <property name="label" translatable="yes">Image</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
+                                <signal name="clicked" handler="on_view_image_clicked"/>
                               </widget>
                               <packing>
-                                <property name="left_attach">4</property>
-                                <property name="right_attach">5</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
@@ -2965,76 +2965,70 @@
                             <property name="n_rows">6</property>
                             <property name="n_columns">2</property>
                             <child>
-                              <widget class="GtkLabel" id="label141">
+                              <widget class="GtkComboBox" id="p_vcodec">
                                 <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Media</property>
+                                <property name="items"></property>
                               </widget>
                               <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
+                                <property name="y_options">GTK_FILL</property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label142">
+                              <widget class="GtkLabel" id="label219">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Condition</property>
+                                <property name="label" translatable="yes">Video codec</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label143">
+                              <widget class="GtkComboBox" id="p_region">
                                 <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Region</property>
+                                <property name="items"></property>
                               </widget>
                               <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="top_attach">2</property>
                                 <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
+                                <property name="y_options">GTK_FILL</property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label144">
+                              <widget class="GtkComboBox" id="p_color">
                                 <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Layers</property>
+                                <property name="items"></property>
                               </widget>
                               <packing>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
-                                <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
-                              </packing>
-                            </child>
-                            <child>
-                              <widget class="GtkLabel" id="label145">
-                                <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Color</property>
-                              </widget>
-                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
                                 <property name="top_attach">4</property>
                                 <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
+                                <property name="y_options">GTK_FILL</property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkComboBox" id="p_media">
+                              <widget class="GtkComboBox" id="p_layers">
                                 <property name="visible">True</property>
                                 <property name="items"></property>
                               </widget>
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options">GTK_FILL</property>
                               </packing>
@@ -3054,72 +3048,78 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkComboBox" id="p_layers">
+                              <widget class="GtkComboBox" id="p_media">
                                 <property name="visible">True</property>
                                 <property name="items"></property>
                               </widget>
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options">GTK_FILL</property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkComboBox" id="p_color">
+                              <widget class="GtkLabel" id="label145">
                                 <property name="visible">True</property>
-                                <property name="items"></property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Color</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
                                 <property name="top_attach">4</property>
                                 <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options">GTK_FILL</property>
+                                <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkComboBox" id="p_region">
+                              <widget class="GtkLabel" id="label144">
                                 <property name="visible">True</property>
-                                <property name="items"></property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Layers</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="label143">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Region</property>
+                              </widget>
+                              <packing>
                                 <property name="top_attach">2</property>
                                 <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options">GTK_FILL</property>
+                                <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label219">
+                              <widget class="GtkLabel" id="label142">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Video codec</property>
+                                <property name="label" translatable="yes">Condition</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkComboBox" id="p_vcodec">
+                              <widget class="GtkLabel" id="label141">
                                 <property name="visible">True</property>
-                                <property name="items"></property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Media</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
                                 <property name="x_options">GTK_FILL</property>
-                                <property name="y_options">GTK_FILL</property>
+                                <property name="y_options"></property>
                               </packing>
                             </child>
                           </widget>
@@ -3208,23 +3208,26 @@
                               <placeholder/>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_classification">
+                              <widget class="GtkCheckButton" id="p_s_cast">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Classification</property>
+                                <property name="label" translatable="yes">Cast</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
+                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_country">
+                              <widget class="GtkCheckButton" id="p_s_year">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Country</property>
+                                <property name="label" translatable="yes">Year</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3232,14 +3235,17 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
+                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_director">
+                              <widget class="GtkCheckButton" id="p_s_site">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Director</property>
+                                <property name="label" translatable="yes">Site</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3247,66 +3253,69 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
+                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_trailer">
+                              <widget class="GtkCheckButton" id="p_s_runtime">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Trailer</property>
+                                <property name="label" translatable="yes">Runtime</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_title">
+                              <widget class="GtkCheckButton" id="p_s_rating">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Title</property>
+                                <property name="label" translatable="yes">Rating</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_studio">
+                              <widget class="GtkCheckButton" id="p_s_plot">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Studio</property>
+                                <property name="label" translatable="yes">Plot</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">4</property>
-                                <property name="bottom_attach">5</property>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_image">
+                              <widget class="GtkCheckButton" id="p_s_o_title">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Image</property>
+                                <property name="label" translatable="yes">Original title</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3314,24 +3323,24 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_genre">
+                              <widget class="GtkCheckButton" id="p_s_o_site">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Genre</property>
+                                <property name="label" translatable="yes">Official site</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
@@ -3355,26 +3364,26 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_o_site">
+                              <widget class="GtkCheckButton" id="p_s_genre">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Official site</property>
+                                <property name="label" translatable="yes">Genre</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">2</property>
-                                <property name="bottom_attach">3</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_o_title">
+                              <widget class="GtkCheckButton" id="p_s_image">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Original title</property>
+                                <property name="label" translatable="yes">Image</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3382,69 +3391,69 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">2</property>
-                                <property name="bottom_attach">3</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_plot">
+                              <widget class="GtkCheckButton" id="p_s_studio">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Plot</property>
+                                <property name="label" translatable="yes">Studio</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">2</property>
-                                <property name="right_attach">3</property>
-                                <property name="top_attach">2</property>
-                                <property name="bottom_attach">3</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_rating">
+                              <widget class="GtkCheckButton" id="p_s_title">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Rating</property>
+                                <property name="label" translatable="yes">Title</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_runtime">
+                              <widget class="GtkCheckButton" id="p_s_trailer">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Runtime</property>
+                                <property name="label" translatable="yes">Trailer</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="left_attach">1</property>
-                                <property name="right_attach">2</property>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">4</property>
+                                <property name="bottom_attach">5</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_site">
+                              <widget class="GtkCheckButton" id="p_s_director">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Site</property>
+                                <property name="label" translatable="yes">Director</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3452,17 +3461,14 @@
                               <packing>
                                 <property name="left_attach">2</property>
                                 <property name="right_attach">3</property>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
-                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_year">
+                              <widget class="GtkCheckButton" id="p_s_country">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Year</property>
+                                <property name="label" translatable="yes">Country</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
@@ -3470,25 +3476,19 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
-                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkCheckButton" id="p_s_cast">
+                              <widget class="GtkCheckButton" id="p_s_classification">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
-                                <property name="label" translatable="yes">Cast</property>
+                                <property name="label" translatable="yes">Classification</property>
                                 <property name="use_underline">True</property>
                                 <property name="response_id">0</property>
                                 <property name="draw_indicator">True</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">5</property>
-                                <property name="bottom_attach">6</property>
-                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
@@ -3548,71 +3548,65 @@
                           <placeholder/>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label123">
+                          <widget class="GtkEntry" id="mail_smtp_port">
                             <property name="visible">True</property>
-                            <property name="xalign">0</property>
-                            <property name="label" translatable="yes">SMTP server</property>
-                          </widget>
-                          <packing>
-                            <property name="x_options">GTK_FILL</property>
-                            <property name="y_options"></property>
-                          </packing>
-                        </child>
-                        <child>
-                          <widget class="GtkEntry" id="mail_smtp_server">
-                            <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="invisible_char">*</property>
+                            <property name="text">25</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
+                            <property name="top_attach">6</property>
+                            <property name="bottom_attach">7</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label124">
+                          <widget class="GtkLabel" id="label307">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Password</property>
+                            <property name="label" translatable="yes">SMTP port</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="top_attach">6</property>
+                            <property name="bottom_attach">7</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkEntry" id="mail_password">
+                          <widget class="GtkCheckButton" id="mail_use_tls">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="visibility">False</property>
-                            <property name="invisible_char">*</property>
+                            <property name="use_underline">True</property>
+                            <property name="response_id">0</property>
+                            <property name="draw_indicator">True</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">3</property>
-                            <property name="bottom_attach">4</property>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
+                            <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label122">
+                          <widget class="GtkLabel" id="label306">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Username</property>
+                            <property name="label" translatable="yes">Use TLS?</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">2</property>
-                            <property name="bottom_attach">3</property>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkEntry" id="mail_username">
+                          <widget class="GtkEntry" id="mail_email">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="invisible_char">*</property>
@@ -3620,12 +3614,25 @@
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">2</property>
-                            <property name="bottom_attach">3</property>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
+                          <widget class="GtkLabel" id="label125">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Sender E-mail address</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
+                            <property name="x_options">GTK_FILL</property>
+                            <property name="y_options"></property>
+                          </packing>
+                        </child>
+                        <child>
                           <widget class="GtkCheckButton" id="mail_use_auth">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
@@ -3644,90 +3651,83 @@
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label125">
+                          <widget class="GtkEntry" id="mail_username">
                             <property name="visible">True</property>
-                            <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Sender E-mail address</property>
-                          </widget>
-                          <packing>
-                            <property name="top_attach">4</property>
-                            <property name="bottom_attach">5</property>
-                            <property name="x_options">GTK_FILL</property>
-                            <property name="y_options"></property>
-                          </packing>
-                        </child>
-                        <child>
-                          <widget class="GtkEntry" id="mail_email">
-                            <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="invisible_char">*</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">4</property>
-                            <property name="bottom_attach">5</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label306">
+                          <widget class="GtkLabel" id="label122">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Use TLS?</property>
+                            <property name="label" translatable="yes">Username</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">5</property>
-                            <property name="bottom_attach">6</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkCheckButton" id="mail_use_tls">
+                          <widget class="GtkEntry" id="mail_password">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
-                            <property name="draw_indicator">True</property>
+                            <property name="visibility">False</property>
+                            <property name="invisible_char">*</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">5</property>
-                            <property name="bottom_attach">6</property>
-                            <property name="x_options">GTK_FILL</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label307">
+                          <widget class="GtkLabel" id="label124">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">SMTP port</property>
+                            <property name="label" translatable="yes">Password</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">6</property>
-                            <property name="bottom_attach">7</property>
+                            <property name="top_attach">3</property>
+                            <property name="bottom_attach">4</property>
                             <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkEntry" id="mail_smtp_port">
+                          <widget class="GtkEntry" id="mail_smtp_server">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
                             <property name="invisible_char">*</property>
-                            <property name="text">25</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">6</property>
-                            <property name="bottom_attach">7</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
+                        <child>
+                          <widget class="GtkLabel" id="label123">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">SMTP server</property>
+                          </widget>
+                          <packing>
+                            <property name="x_options">GTK_FILL</property>
+                            <property name="y_options"></property>
+                          </packing>
+                        </child>
                       </widget>
                     </child>
                   </widget>
@@ -5180,73 +5180,35 @@
                             <property name="column_spacing">4</property>
                             <property name="row_spacing">2</property>
                             <child>
-                              <widget class="GtkLabel" id="label190">
+                              <widget class="GtkEntry" id="p_db_passwd">
                                 <property name="visible">True</property>
-                                <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Host</property>
+                                <property name="can_focus">True</property>
+                                <property name="visibility">False</property>
+                                <property name="invisible_char">*</property>
                               </widget>
                               <packing>
-                                <property name="x_options">GTK_FILL</property>
-                                <property name="y_options"></property>
-                              </packing>
-                            </child>
-                            <child>
-                              <widget class="GtkHBox" id="hbox99">
-                                <property name="visible">True</property>
-                                <child>
-                                  <widget class="GtkEntry" id="p_db_host">
-                                    <property name="visible">True</property>
-                                    <property name="can_focus">True</property>
-                                    <property name="invisible_char">*</property>
-                                  </widget>
-                                </child>
-                                <child>
-                                  <widget class="GtkLabel" id="label191">
-                                    <property name="visible">True</property>
-                                    <property name="xalign">0</property>
-                                    <property name="label" translatable="yes">Port</property>
-                                  </widget>
-                                  <packing>
-                                    <property name="expand">False</property>
-                                    <property name="fill">False</property>
-                                    <property name="padding">4</property>
-                                    <property name="position">1</property>
-                                  </packing>
-                                </child>
-                                <child>
-                                  <widget class="GtkSpinButton" id="p_db_port">
-                                    <property name="visible">True</property>
-                                    <property name="can_focus">True</property>
-                                    <property name="adjustment">0 0 65536 1 10 10</property>
-                                    <property name="climb_rate">1</property>
-                                  </widget>
-                                  <packing>
-                                    <property name="position">2</property>
-                                  </packing>
-                                </child>
-                              </widget>
-                              <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="x_options">GTK_FILL</property>
-                                <property name="y_options">GTK_FILL</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
+                                <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label194">
+                              <widget class="GtkLabel" id="label193">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Database</property>
+                                <property name="label" translatable="yes">Password</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">3</property>
+                                <property name="bottom_attach">4</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkEntry" id="p_db_name">
+                              <widget class="GtkEntry" id="p_db_user">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="invisible_char">*</property>
@@ -5254,8 +5216,8 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">1</property>
-                                <property name="bottom_attach">2</property>
+                                <property name="top_attach">2</property>
+                                <property name="bottom_attach">3</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
@@ -5273,7 +5235,7 @@
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkEntry" id="p_db_user">
+                              <widget class="GtkEntry" id="p_db_name">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>
                                 <property name="invisible_char">*</property>
@@ -5281,36 +5243,74 @@
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">2</property>
-                                <property name="bottom_attach">3</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkLabel" id="label193">
+                              <widget class="GtkLabel" id="label194">
                                 <property name="visible">True</property>
                                 <property name="xalign">0</property>
-                                <property name="label" translatable="yes">Password</property>
+                                <property name="label" translatable="yes">Database</property>
                               </widget>
                               <packing>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
+                                <property name="top_attach">1</property>
+                                <property name="bottom_attach">2</property>
                                 <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
                             <child>
-                              <widget class="GtkEntry" id="p_db_passwd">
+                              <widget class="GtkHBox" id="hbox99">
                                 <property name="visible">True</property>
-                                <property name="can_focus">True</property>
-                                <property name="visibility">False</property>
-                                <property name="invisible_char">*</property>
+                                <child>
+                                  <widget class="GtkEntry" id="p_db_host">
+                                    <property name="visible">True</property>
+                                    <property name="can_focus">True</property>
+                                    <property name="invisible_char">*</property>
+                                  </widget>
+                                </child>
+                                <child>
+                                  <widget class="GtkLabel" id="label191">
+                                    <property name="visible">True</property>
+                                    <property name="xalign">0</property>
+                                    <property name="label" translatable="yes">Port</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="expand">False</property>
+                                    <property name="fill">False</property>
+                                    <property name="padding">4</property>
+                                    <property name="position">1</property>
+                                  </packing>
+                                </child>
+                                <child>
+                                  <widget class="GtkSpinButton" id="p_db_port">
+                                    <property name="visible">True</property>
+                                    <property name="can_focus">True</property>
+                                    <property name="adjustment">0 0 65536 1 10 10</property>
+                                    <property name="climb_rate">1</property>
+                                  </widget>
+                                  <packing>
+                                    <property name="position">2</property>
+                                  </packing>
+                                </child>
                               </widget>
                               <packing>
                                 <property name="left_attach">1</property>
                                 <property name="right_attach">2</property>
-                                <property name="top_attach">3</property>
-                                <property name="bottom_attach">4</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options">GTK_FILL</property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkLabel" id="label190">
+                                <property name="visible">True</property>
+                                <property name="xalign">0</property>
+                                <property name="label" translatable="yes">Host</property>
+                              </widget>
+                              <packing>
+                                <property name="x_options">GTK_FILL</property>
                                 <property name="y_options"></property>
                               </packing>
                             </child>
@@ -5744,57 +5744,72 @@
                           <placeholder/>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label12">
+                          <widget class="GtkHSeparator" id="hseparator12">
                             <property name="visible">True</property>
-                            <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Original Title</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">1</property>
-                            <property name="bottom_attach">2</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">4</property>
+                            <property name="bottom_attach">5</property>
                             <property name="x_options">GTK_FILL</property>
-                            <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkEntry" id="am_original_title">
+                          <widget class="GtkLabel" id="label172">
                             <property name="visible">True</property>
-                            <property name="can_focus">True</property>
-                            <property name="has_focus">True</property>
-                            <property name="invisible_char">*</property>
+                            <property name="label" translatable="yes">Type in the original film tile, select source and choose &lt;i&gt;Get from web&lt;/i&gt;. Griffith will try to fetch all the related information from the Web.</property>
+                            <property name="use_markup">True</property>
+                            <property name="justify">GTK_JUSTIFY_CENTER</property>
+                            <property name="wrap">True</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">1</property>
-                            <property name="bottom_attach">2</property>
-                            <property name="y_options"></property>
+                            <property name="x_options">GTK_FILL</property>
+                            <property name="y_options">GTK_EXPAND</property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label16">
+                          <widget class="GtkImage" id="image_add_rating">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Title</property>
+                            <property name="pixbuf">nill.png</property>
                           </widget>
                           <packing>
-                            <property name="top_attach">2</property>
-                            <property name="bottom_attach">3</property>
+                            <property name="left_attach">1</property>
+                            <property name="right_attach">2</property>
+                            <property name="top_attach">6</property>
+                            <property name="bottom_attach">7</property>
                             <property name="x_options">GTK_FILL</property>
-                            <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkEntry" id="am_title">
+                          <widget class="GtkHScale" id="rating_scale_add">
                             <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="invisible_char">*</property>
+                            <property name="adjustment">0 0 10 1 1 0</property>
+                            <property name="digits">0</property>
+                            <property name="value_pos">GTK_POS_RIGHT</property>
+                            <signal name="value_changed" handler="on_rating_scale_add_value_changed"/>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">2</property>
-                            <property name="bottom_attach">3</property>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
+                            <property name="x_options">GTK_FILL</property>
+                            <property name="y_options">GTK_FILL</property>
+                          </packing>
+                        </child>
+                        <child>
+                          <widget class="GtkLabel" id="label128">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Rating</property>
+                          </widget>
+                          <packing>
+                            <property name="top_attach">5</property>
+                            <property name="bottom_attach">6</property>
+                            <property name="x_options">GTK_FILL</property>
                             <property name="y_options"></property>
                           </packing>
                         </child>
@@ -5814,73 +5829,58 @@
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label128">
+                          <widget class="GtkEntry" id="am_title">
                             <property name="visible">True</property>
-                            <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Rating</property>
-                          </widget>
-                          <packing>
-                            <property name="top_attach">5</property>
-                            <property name="bottom_attach">6</property>
-                            <property name="x_options">GTK_FILL</property>
-                            <property name="y_options"></property>
-                          </packing>
-                        </child>
-                        <child>
-                          <widget class="GtkHScale" id="rating_scale_add">
-                            <property name="visible">True</property>
                             <property name="can_focus">True</property>
-                            <property name="adjustment">0 0 10 1 1 0</property>
-                            <property name="digits">0</property>
-                            <property name="value_pos">GTK_POS_RIGHT</property>
-                            <signal name="value_changed" handler="on_rating_scale_add_value_changed"/>
+                            <property name="invisible_char">*</property>
                           </widget>
                           <packing>
                             <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="top_attach">5</property>
-                            <property name="bottom_attach">6</property>
-                            <property name="x_options">GTK_FILL</property>
-                            <property name="y_options">GTK_FILL</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
+                            <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkImage" id="image_add_rating">
+                          <widget class="GtkLabel" id="label16">
                             <property name="visible">True</property>
                             <property name="xalign">0</property>
-                            <property name="pixbuf">nill.png</property>
+                            <property name="label" translatable="yes">Title</property>
                           </widget>
                           <packing>
-                            <property name="left_attach">1</property>
-                            <property name="right_attach">2</property>
-                            <property name="top_attach">6</property>
-                            <property name="bottom_attach">7</property>
+                            <property name="top_attach">2</property>
+                            <property name="bottom_attach">3</property>
                             <property name="x_options">GTK_FILL</property>
+                            <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkLabel" id="label172">
+                          <widget class="GtkEntry" id="am_original_title">
                             <property name="visible">True</property>
-                            <property name="label" translatable="yes">Type in the original film tile, select source and choose &lt;i&gt;Get from web&lt;/i&gt;. Griffith will try to fetch all the related information from the Web.</property>
-                            <property name="use_markup">True</property>
-                            <property name="justify">GTK_JUSTIFY_CENTER</property>
-                            <property name="wrap">True</property>
+                            <property name="can_focus">True</property>
+                            <property name="has_focus">True</property>
+                            <property name="invisible_char">*</property>
                           </widget>
                           <packing>
+                            <property name="left_attach">1</property>
                             <property name="right_attach">2</property>
-                            <property name="x_options">GTK_FILL</property>
-                            <property name="y_options">GTK_EXPAND</property>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
+                            <property name="y_options"></property>
                           </packing>
                         </child>
                         <child>
-                          <widget class="GtkHSeparator" id="hseparator12">
+                          <widget class="GtkLabel" id="label12">
                             <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Original Title</property>
                           </widget>
                           <packing>
-                            <property name="right_attach">2</property>
-                            <property name="top_attach">4</property>
-                            <property name="bottom_attach">5</property>
+                            <property name="top_attach">1</property>
+                            <property name="bottom_attach">2</property>
                             <property name="x_options">GTK_FILL</property>
+                            <property name="y_options"></property>
                           </packing>
                         </child>
                       </widget>
@@ -6071,7 +6071,7 @@
                 <property name="column_spacing">2</property>
                 <property name="row_spacing">2</property>
                 <child>
-                  <widget class="GtkEntry" id="am_director">
+                  <widget class="GtkEntry" id="am_cameraman">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6079,159 +6079,66 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">2</property>
-                    <property name="bottom_attach">3</property>
+                    <property name="top_attach">4</property>
+                    <property name="bottom_attach">5</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label43">
+                  <widget class="GtkEntry" id="am_screenplay">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Year</property>
+                    <property name="can_focus">True</property>
+                    <property name="invisible_char">*</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">1</property>
-                    <property name="bottom_attach">2</property>
-                    <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
-                  </packing>
-                </child>
-                <child>
-                  <widget class="GtkHBox" id="hbox66">
-                    <property name="visible">True</property>
-                    <property name="spacing">4</property>
-                    <child>
-                      <widget class="GtkSpinButton" id="am_year">
-                        <property name="visible">True</property>
-                        <property name="can_focus">True</property>
-                        <property name="adjustment">1899 1899 2100 1 10 10</property>
-                        <property name="climb_rate">1</property>
-                        <property name="numeric">True</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                      </packing>
-                    </child>
-                    <child>
-                      <widget class="GtkAlignment" id="alignment35">
-                        <property name="visible">True</property>
-                        <property name="xalign">1</property>
-                        <property name="xscale">0</property>
-                        <child>
-                          <widget class="GtkLabel" id="label45">
-                            <property name="visible">True</property>
-                            <property name="xalign">0</property>
-                            <property name="label" translatable="yes">Runtime</property>
-                          </widget>
-                        </child>
-                      </widget>
-                      <packing>
-                        <property name="position">1</property>
-                      </packing>
-                    </child>
-                    <child>
-                      <widget class="GtkSpinButton" id="am_runtime">
-                        <property name="visible">True</property>
-                        <property name="can_focus">True</property>
-                        <property name="adjustment">0 0 99999 1 10 10</property>
-                        <property name="climb_rate">1</property>
-                        <property name="numeric">True</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                        <property name="position">2</property>
-                      </packing>
-                    </child>
-                    <child>
-                      <widget class="GtkLabel" id="label132">
-                        <property name="visible">True</property>
-                        <property name="label" translatable="yes">minutes</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                        <property name="fill">False</property>
-                        <property name="position">3</property>
-                      </packing>
-                    </child>
-                  </widget>
-                  <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">1</property>
-                    <property name="bottom_attach">2</property>
-                    <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
+                    <property name="top_attach">3</property>
+                    <property name="bottom_attach">4</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label11">
+                  <widget class="GtkLabel" id="label15">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Number</property>
+                    <property name="label" translatable="yes">Cameraman</property>
                   </widget>
                   <packing>
+                    <property name="top_attach">4</property>
+                    <property name="bottom_attach">5</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHBox" id="hbox65">
+                  <widget class="GtkLabel" id="label7">
                     <property name="visible">True</property>
-                    <child>
-                      <widget class="GtkSpinButton" id="am_number">
-                        <property name="visible">True</property>
-                        <property name="can_focus">True</property>
-                        <property name="adjustment">0 0 1000000 1 10 10</property>
-                        <property name="climb_rate">1</property>
-                        <property name="numeric">True</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                      </packing>
-                    </child>
-                    <child>
-                      <widget class="GtkAlignment" id="alignment34">
-                        <property name="visible">True</property>
-                        <property name="xscale">0.5</property>
-                        <child>
-                          <widget class="GtkCheckButton" id="am_seen">
-                            <property name="visible">True</property>
-                            <property name="can_focus">True</property>
-                            <property name="label" translatable="yes">Seen it</property>
-                            <property name="use_underline">True</property>
-                            <property name="response_id">0</property>
-                            <property name="draw_indicator">True</property>
-                          </widget>
-                        </child>
-                      </widget>
-                      <packing>
-                        <property name="position">1</property>
-                      </packing>
-                    </child>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Screenplay</property>
                   </widget>
                   <packing>
-                    <property name="left_attach">1</property>
-                    <property name="right_attach">2</property>
+                    <property name="top_attach">3</property>
+                    <property name="bottom_attach">4</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label53">
+                  <widget class="GtkLabel" id="label42">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Trailer</property>
+                    <property name="label" translatable="yes">Director</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">12</property>
-                    <property name="bottom_attach">13</property>
+                    <property name="top_attach">2</property>
+                    <property name="bottom_attach">3</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_trailer">
+                  <widget class="GtkEntry" id="am_country">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6239,26 +6146,26 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">12</property>
-                    <property name="bottom_attach">13</property>
+                    <property name="top_attach">5</property>
+                    <property name="bottom_attach">6</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label52">
+                  <widget class="GtkLabel" id="label44">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Site</property>
+                    <property name="label" translatable="yes">Country</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">11</property>
-                    <property name="bottom_attach">12</property>
+                    <property name="top_attach">5</property>
+                    <property name="bottom_attach">6</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_imdb">
+                  <widget class="GtkEntry" id="am_genre">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6266,26 +6173,26 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">11</property>
-                    <property name="bottom_attach">12</property>
+                    <property name="top_attach">6</property>
+                    <property name="bottom_attach">7</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label51">
+                  <widget class="GtkLabel" id="label46">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Official site</property>
+                    <property name="label" translatable="yes">Genre</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">10</property>
-                    <property name="bottom_attach">11</property>
+                    <property name="top_attach">6</property>
+                    <property name="bottom_attach">7</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_site">
+                  <widget class="GtkEntry" id="am_classification">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6293,33 +6200,20 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">10</property>
-                    <property name="bottom_attach">11</property>
+                    <property name="top_attach">7</property>
+                    <property name="bottom_attach">8</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHSeparator" id="hseparator1">
+                  <widget class="GtkLabel" id="label49">
                     <property name="visible">True</property>
-                  </widget>
-                  <packing>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">9</property>
-                    <property name="bottom_attach">10</property>
-                    <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
-                    <property name="y_padding">4</property>
-                  </packing>
-                </child>
-                <child>
-                  <widget class="GtkLabel" id="label50">
-                    <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Studio</property>
+                    <property name="label" translatable="yes">Classification</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">8</property>
-                    <property name="bottom_attach">9</property>
+                    <property name="top_attach">7</property>
+                    <property name="bottom_attach">8</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
@@ -6339,47 +6233,60 @@
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label49">
+                  <widget class="GtkLabel" id="label50">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Classification</property>
+                    <property name="label" translatable="yes">Studio</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">7</property>
-                    <property name="bottom_attach">8</property>
+                    <property name="top_attach">8</property>
+                    <property name="bottom_attach">9</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_classification">
+                  <widget class="GtkHSeparator" id="hseparator1">
                     <property name="visible">True</property>
+                  </widget>
+                  <packing>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">9</property>
+                    <property name="bottom_attach">10</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_padding">4</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkEntry" id="am_site">
+                    <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
                   </widget>
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">7</property>
-                    <property name="bottom_attach">8</property>
+                    <property name="top_attach">10</property>
+                    <property name="bottom_attach">11</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label46">
+                  <widget class="GtkLabel" id="label51">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Genre</property>
+                    <property name="label" translatable="yes">Official site</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">6</property>
-                    <property name="bottom_attach">7</property>
+                    <property name="top_attach">10</property>
+                    <property name="bottom_attach">11</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_genre">
+                  <widget class="GtkEntry" id="am_imdb">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6387,26 +6294,26 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">6</property>
-                    <property name="bottom_attach">7</property>
+                    <property name="top_attach">11</property>
+                    <property name="bottom_attach">12</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label44">
+                  <widget class="GtkLabel" id="label52">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Country</property>
+                    <property name="label" translatable="yes">Site</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">5</property>
-                    <property name="bottom_attach">6</property>
+                    <property name="top_attach">11</property>
+                    <property name="bottom_attach">12</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_country">
+                  <widget class="GtkEntry" id="am_trailer">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6414,66 +6321,159 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">5</property>
-                    <property name="bottom_attach">6</property>
+                    <property name="top_attach">12</property>
+                    <property name="bottom_attach">13</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label42">
+                  <widget class="GtkLabel" id="label53">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Director</property>
+                    <property name="label" translatable="yes">Trailer</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">2</property>
-                    <property name="bottom_attach">3</property>
+                    <property name="top_attach">12</property>
+                    <property name="bottom_attach">13</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label7">
+                  <widget class="GtkHBox" id="hbox65">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Screenplay</property>
+                    <child>
+                      <widget class="GtkSpinButton" id="am_number">
+                        <property name="visible">True</property>
+                        <property name="can_focus">True</property>
+                        <property name="adjustment">0 0 1000000 1 10 10</property>
+                        <property name="climb_rate">1</property>
+                        <property name="numeric">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkAlignment" id="alignment34">
+                        <property name="visible">True</property>
+                        <property name="xscale">0.5</property>
+                        <child>
+                          <widget class="GtkCheckButton" id="am_seen">
+                            <property name="visible">True</property>
+                            <property name="can_focus">True</property>
+                            <property name="label" translatable="yes">Seen it</property>
+                            <property name="use_underline">True</property>
+                            <property name="response_id">0</property>
+                            <property name="draw_indicator">True</property>
+                          </widget>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
                   </widget>
                   <packing>
-                    <property name="top_attach">3</property>
-                    <property name="bottom_attach">4</property>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
+                    <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label15">
+                  <widget class="GtkLabel" id="label11">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Cameraman</property>
+                    <property name="label" translatable="yes">Number</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">4</property>
-                    <property name="bottom_attach">5</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_screenplay">
+                  <widget class="GtkHBox" id="hbox66">
                     <property name="visible">True</property>
-                    <property name="can_focus">True</property>
-                    <property name="invisible_char">*</property>
+                    <property name="spacing">4</property>
+                    <child>
+                      <widget class="GtkSpinButton" id="am_year">
+                        <property name="visible">True</property>
+                        <property name="can_focus">True</property>
+                        <property name="adjustment">1899 1899 2100 1 10 10</property>
+                        <property name="climb_rate">1</property>
+                        <property name="numeric">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkAlignment" id="alignment35">
+                        <property name="visible">True</property>
+                        <property name="xalign">1</property>
+                        <property name="xscale">0</property>
+                        <child>
+                          <widget class="GtkLabel" id="label45">
+                            <property name="visible">True</property>
+                            <property name="xalign">0</property>
+                            <property name="label" translatable="yes">Runtime</property>
+                          </widget>
+                        </child>
+                      </widget>
+                      <packing>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkSpinButton" id="am_runtime">
+                        <property name="visible">True</property>
+                        <property name="can_focus">True</property>
+                        <property name="adjustment">0 0 99999 1 10 10</property>
+                        <property name="climb_rate">1</property>
+                        <property name="numeric">True</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="position">2</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkLabel" id="label132">
+                        <property name="visible">True</property>
+                        <property name="label" translatable="yes">minutes</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                        <property name="position">3</property>
+                      </packing>
+                    </child>
                   </widget>
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">3</property>
-                    <property name="bottom_attach">4</property>
+                    <property name="top_attach">1</property>
+                    <property name="bottom_attach">2</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options">GTK_FILL</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkLabel" id="label43">
+                    <property name="visible">True</property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Year</property>
+                  </widget>
+                  <packing>
+                    <property name="top_attach">1</property>
+                    <property name="bottom_attach">2</property>
+                    <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkEntry" id="am_cameraman">
+                  <widget class="GtkEntry" id="am_director">
                     <property name="visible">True</property>
                     <property name="can_focus">True</property>
                     <property name="invisible_char">*</property>
@@ -6481,8 +6481,8 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">4</property>
-                    <property name="bottom_attach">5</property>
+                    <property name="top_attach">2</property>
+                    <property name="bottom_attach">3</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
@@ -6506,166 +6506,210 @@
               <widget class="GtkTable" id="table_a_tech_info">
                 <property name="visible">True</property>
                 <property name="border_width">6</property>
-                <property name="n_rows">10</property>
+                <property name="n_rows">13</property>
                 <property name="n_columns">2</property>
                 <property name="column_spacing">2</property>
                 <property name="row_spacing">2</property>
                 <child>
-                  <widget class="GtkLabel" id="label57">
+                  <widget class="GtkEntry" id="am_barcode">
                     <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <property name="invisible_char">*</property>
+                  </widget>
+                  <packing>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">12</property>
+                    <property name="bottom_attach">13</property>
+                    <property name="y_options"></property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkEntry" id="am_resolution">
+                    <property name="visible">True</property>
+                    <property name="can_focus">True</property>
+                    <property name="invisible_char">*</property>
+                  </widget>
+                  <packing>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">10</property>
+                    <property name="bottom_attach">11</property>
+                    <property name="y_options"></property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkLabel" id="label21">
+                    <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Medium</property>
+                    <property name="label" translatable="yes">Barcode</property>
                   </widget>
                   <packing>
+                    <property name="top_attach">12</property>
+                    <property name="bottom_attach">13</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHBox" id="hbox58">
+                  <widget class="GtkHSeparator" id="hseparator2">
                     <property name="visible">True</property>
-                    <property name="spacing">4</property>
-                    <child>
-                      <widget class="GtkComboBox" id="am_media">
-                        <property name="visible">True</property>
-                        <property name="items"></property>
-                      </widget>
-                    </child>
-                    <child>
-                      <widget class="GtkLabel" id="label55">
-                        <property name="visible">True</property>
-                        <property name="xalign">0</property>
-                        <property name="label" translatable="yes">Discs</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                        <property name="fill">False</property>
-                        <property name="position">1</property>
-                      </packing>
-                    </child>
-                    <child>
-                      <widget class="GtkSpinButton" id="am_discs">
-                        <property name="visible">True</property>
-                        <property name="can_focus">True</property>
-                        <property name="adjustment">1 1 100 1 10 10</property>
-                        <property name="climb_rate">1</property>
-                      </widget>
-                      <packing>
-                        <property name="expand">False</property>
-                        <property name="fill">False</property>
-                        <property name="position">2</property>
-                      </packing>
-                    </child>
                   </widget>
                   <packing>
-                    <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
+                    <property name="top_attach">11</property>
+                    <property name="bottom_attach">12</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options">GTK_FILL</property>
+                    <property name="y_padding">4</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label115">
+                  <widget class="GtkLabel" id="label20">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Condition</property>
+                    <property name="label" translatable="yes">Resolution</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">1</property>
-                    <property name="bottom_attach">2</property>
+                    <property name="top_attach">10</property>
+                    <property name="bottom_attach">11</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label113">
+                  <widget class="GtkComboBox" id="am_vcodec">
                     <property name="visible">True</property>
+                    <property name="items"></property>
+                  </widget>
+                  <packing>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">9</property>
+                    <property name="bottom_attach">10</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options">GTK_FILL</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkLabel" id="label197">
+                    <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Region</property>
+                    <property name="label" translatable="yes">Video codec</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">2</property>
-                    <property name="bottom_attach">3</property>
+                    <property name="top_attach">9</property>
+                    <property name="bottom_attach">10</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label114">
+                  <widget class="GtkComboBox" id="am_color">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Layers</property>
+                    <property name="items"></property>
                   </widget>
                   <packing>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">8</property>
+                    <property name="bottom_attach">9</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options">GTK_FILL</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkComboBox" id="am_layers">
+                    <property name="visible">True</property>
+                    <property name="items"></property>
+                  </widget>
+                  <packing>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
                     <property name="top_attach">3</property>
                     <property name="bottom_attach">4</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
+                    <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label146">
+                  <widget class="GtkComboBox" id="am_region">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Volume</property>
+                    <property name="items"></property>
                   </widget>
                   <packing>
-                    <property name="top_attach">5</property>
-                    <property name="bottom_attach">6</property>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">2</property>
+                    <property name="bottom_attach">3</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
+                    <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label171">
+                  <widget class="GtkComboBox" id="am_condition">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Collection</property>
+                    <property name="items"></property>
                   </widget>
                   <packing>
-                    <property name="top_attach">6</property>
-                    <property name="bottom_attach">7</property>
+                    <property name="left_attach">1</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">1</property>
+                    <property name="bottom_attach">2</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
+                    <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label116">
+                  <widget class="GtkHSeparator" id="hseparator17">
                     <property name="visible">True</property>
-                    <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Color</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">8</property>
-                    <property name="bottom_attach">9</property>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">7</property>
+                    <property name="bottom_attach">8</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options"></property>
+                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_padding">4</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHBox" id="hbox74">
+                  <widget class="GtkHSeparator" id="hseparator9">
                     <property name="visible">True</property>
+                  </widget>
+                  <packing>
+                    <property name="right_attach">2</property>
+                    <property name="top_attach">4</property>
+                    <property name="bottom_attach">5</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_padding">4</property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkHBox" id="hbox73">
+                    <property name="visible">True</property>
                     <property name="spacing">4</property>
                     <child>
-                      <widget class="GtkComboBoxEntry" id="am_collection_combo">
+                      <widget class="GtkComboBoxEntry" id="am_volume_combo">
                         <property name="visible">True</property>
                         <property name="items" translatable="yes"></property>
-                        <signal name="changed" handler="on_am_collection_combo_changed"/>
+                        <signal name="changed" handler="on_am_volume_combo_changed"/>
                         <child internal-child="entry">
-                          <widget class="GtkEntry" id="comboboxentry-entry8">
+                          <widget class="GtkEntry" id="comboboxentry-entry9">
                           </widget>
                         </child>
                       </widget>
                     </child>
                     <child>
-                      <widget class="GtkButton" id="am_add_collection_button">
+                      <widget class="GtkButton" id="am_add_volume_button">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="tooltip" translatable="yes">add entered name to collections list</property>
+                        <property name="tooltip" translatable="yes">add entered name to volumes list</property>
                         <property name="response_id">0</property>
-                        <signal name="clicked" handler="on_am_add_collection_button_clicked"/>
+                        <signal name="clicked" handler="on_am_add_volume_button_clicked"/>
                         <child>
-                          <widget class="GtkImage" id="image422">
+                          <widget class="GtkImage" id="image420">
                             <property name="visible">True</property>
                             <property name="stock">gtk-add</property>
                           </widget>
@@ -6678,14 +6722,14 @@
                       </packing>
                     </child>
                     <child>
-                      <widget class="GtkButton" id="am_remove_collection_button">
+                      <widget class="GtkButton" id="am_remove_volume_button">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="tooltip" translatable="yes">remove selected collection</property>
+                        <property name="tooltip" translatable="yes">remove selected volume</property>
                         <property name="response_id">0</property>
-                        <signal name="clicked" handler="on_am_remove_collection_button_clicked"/>
+                        <signal name="clicked" handler="on_am_remove_volume_button_clicked"/>
                         <child>
-                          <widget class="GtkImage" id="image423">
+                          <widget class="GtkImage" id="image421">
                             <property name="visible">True</property>
                             <property name="stock">gtk-remove</property>
                           </widget>
@@ -6701,35 +6745,35 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">6</property>
-                    <property name="bottom_attach">7</property>
+                    <property name="top_attach">5</property>
+                    <property name="bottom_attach">6</property>
                     <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHBox" id="hbox73">
+                  <widget class="GtkHBox" id="hbox74">
                     <property name="visible">True</property>
                     <property name="spacing">4</property>
                     <child>
-                      <widget class="GtkComboBoxEntry" id="am_volume_combo">
+                      <widget class="GtkComboBoxEntry" id="am_collection_combo">
                         <property name="visible">True</property>
                         <property name="items" translatable="yes"></property>
-                        <signal name="changed" handler="on_am_volume_combo_changed"/>
+                        <signal name="changed" handler="on_am_collection_combo_changed"/>
                         <child internal-child="entry">
-                          <widget class="GtkEntry" id="comboboxentry-entry9">
+                          <widget class="GtkEntry" id="comboboxentry-entry8">
                           </widget>
                         </child>
                       </widget>
                     </child>
                     <child>
-                      <widget class="GtkButton" id="am_add_volume_button">
+                      <widget class="GtkButton" id="am_add_collection_button">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="tooltip" translatable="yes">add entered name to volumes list</property>
+                        <property name="tooltip" translatable="yes">add entered name to collections list</property>
                         <property name="response_id">0</property>
-                        <signal name="clicked" handler="on_am_add_volume_button_clicked"/>
+                        <signal name="clicked" handler="on_am_add_collection_button_clicked"/>
                         <child>
-                          <widget class="GtkImage" id="image420">
+                          <widget class="GtkImage" id="image422">
                             <property name="visible">True</property>
                             <property name="stock">gtk-add</property>
                           </widget>
@@ -6742,14 +6786,14 @@
                       </packing>
                     </child>
                     <child>
-                      <widget class="GtkButton" id="am_remove_volume_button">
+                      <widget class="GtkButton" id="am_remove_collection_button">
                         <property name="visible">True</property>
                         <property name="can_focus">True</property>
-                        <property name="tooltip" translatable="yes">remove selected volume</property>
+                        <property name="tooltip" translatable="yes">remove selected collection</property>
                         <property name="response_id">0</property>
-                        <signal name="clicked" handler="on_am_remove_volume_button_clicked"/>
+                        <signal name="clicked" handler="on_am_remove_collection_button_clicked"/>
                         <child>
-                          <widget class="GtkImage" id="image421">
+                          <widget class="GtkImage" id="image423">
                             <property name="visible">True</property>
                             <property name="stock">gtk-remove</property>
                           </widget>
@@ -6765,120 +6809,143 @@
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">5</property>
-                    <property name="bottom_attach">6</property>
+                    <property name="top_attach">6</property>
+                    <property name="bottom_attach">7</property>
                     <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHSeparator" id="hseparator9">
+                  <widget class="GtkLabel" id="label116">
                     <property name="visible">True</property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Color</property>
                   </widget>
                   <packing>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">4</property>
-                    <property name="bottom_attach">5</property>
+                    <property name="top_attach">8</property>
+                    <property name="bottom_attach">9</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
-                    <property name="y_padding">4</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkHSeparator" id="hseparator17">
+                  <widget class="GtkLabel" id="label171">
                     <property name="visible">True</property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Collection</property>
                   </widget>
                   <packing>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">7</property>
-                    <property name="bottom_attach">8</property>
+                    <property name="top_attach">6</property>
+                    <property name="bottom_attach">7</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
-                    <property name="y_padding">4</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkComboBox" id="am_condition">
+                  <widget class="GtkLabel" id="label146">
                     <property name="visible">True</property>
-                    <property name="items"></property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Volume</property>
                   </widget>
                   <packing>
-                    <property name="left_attach">1</property>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">1</property>
-                    <property name="bottom_attach">2</property>
+                    <property name="top_attach">5</property>
+                    <property name="bottom_attach">6</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkComboBox" id="am_region">
+                  <widget class="GtkLabel" id="label114">
                     <property name="visible">True</property>
-                    <property name="items"></property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Layers</property>
                   </widget>
                   <packing>
-                    <property name="left_attach">1</property>
-                    <property name="right_attach">2</property>
+                    <property name="top_attach">3</property>
+                    <property name="bottom_attach">4</property>
+                    <property name="x_options">GTK_FILL</property>
+                    <property name="y_options"></property>
+                  </packing>
+                </child>
+                <child>
+                  <widget class="GtkLabel" id="label113">
+                    <property name="visible">True</property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Region</property>
+                  </widget>
+                  <packing>
                     <property name="top_attach">2</property>
                     <property name="bottom_attach">3</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkComboBox" id="am_layers">
+                  <widget class="GtkLabel" id="label115">
                     <property name="visible">True</property>
-                    <property name="items"></property>
+                    <property name="xalign">0</property>
+                    <property name="label" translatable="yes">Condition</property>
                   </widget>
                   <packing>
-                    <property name="left_attach">1</property>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">3</property>
-                    <property name="bottom_attach">4</property>
+                    <property name="top_attach">1</property>
+                    <property name="bottom_attach">2</property>
                     <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
+                    <property name="y_options"></property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkComboBox" id="am_color">
+                  <widget class="GtkHBox" id="hbox58">
                     <property name="visible">True</property>
-                    <property name="items"></property>
+                    <property name="spacing">4</property>
+                    <child>
+                      <widget class="GtkComboBox" id="am_media">
+                        <property name="visible">True</property>
+                        <property name="items"></property>
+                      </widget>
+                    </child>
+                    <child>
+                      <widget class="GtkLabel" id="label55">
+                        <property name="visible">True</property>
+                        <property name="xalign">0</property>
+                        <property name="label" translatable="yes">Discs</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                        <property name="position">1</property>
+                      </packing>
+                    </child>
+                    <child>
+                      <widget class="GtkSpinButton" id="am_discs">
+                        <property name="visible">True</property>
+                        <property name="can_focus">True</property>
+                        <property name="adjustment">1 1 100 1 10 10</property>
+                        <property name="climb_rate">1</property>
+                      </widget>
+                      <packing>
+                        <property name="expand">False</property>
+                        <property name="fill">False</property>
+                        <property name="position">2</property>
+                      </packing>
+                    </child>
                   </widget>
                   <packing>
                     <property name="left_attach">1</property>
                     <property name="right_attach">2</property>
-                    <property name="top_attach">8</property>
-                    <property name="bottom_attach">9</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options">GTK_FILL</property>
                   </packing>
                 </child>
                 <child>
-                  <widget class="GtkLabel" id="label197">
+                  <widget class="GtkLabel" id="label57">
                     <property name="visible">True</property>
                     <property name="xalign">0</property>
-                    <property name="label" translatable="yes">Video codec</property>
+                    <property name="label" translatable="yes">Medium</property>
                   </widget>
                   <packing>
-                    <property name="top_attach">9</property>
-                    <property name="bottom_attach">10</property>
                     <property name="x_options">GTK_FILL</property>
                     <property name="y_options"></property>
                   </packing>
                 </child>
-                <child>
-                  <widget class="GtkComboBox" id="am_vcodec">
-                    <property name="visible">True</property>
-                    <property name="items"></property>
-                  </widget>
-                  <packing>
-                    <property name="left_attach">1</property>
-                    <property name="right_attach">2</property>
-                    <property name="top_attach">9</property>
-                    <property name="bottom_attach">10</property>
-                    <property name="x_options">GTK_FILL</property>
-                    <property name="y_options">GTK_FILL</property>
-                  </packing>
-                </child>
               </widget>
               <packing>
                 <property name="position">2</property>
@@ -7227,36 +7294,40 @@
               <placeholder/>
             </child>
             <child>
-              <widget class="GtkLabel" id="label78">
-                <property name="visible">True</property>
-                <property name="label" translatable="yes">Name</property>
+              <widget class="GtkEntry" id="ep_id">
+                <property name="can_focus">True</property>
+                <property name="invisible_char">*</property>
               </widget>
               <packing>
-                <property name="x_options">GTK_FILL</property>
+                <property name="left_attach">1</property>
+                <property name="right_attach">2</property>
+                <property name="top_attach">3</property>
+                <property name="bottom_attach">4</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ep_name">
+              <widget class="GtkEntry" id="ep_phone">
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
-                <property name="has_focus">True</property>
                 <property name="invisible_char">*</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
+                <property name="top_attach">2</property>
+                <property name="bottom_attach">3</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkLabel" id="label79">
+              <widget class="GtkLabel" id="label80">
                 <property name="visible">True</property>
-                <property name="label" translatable="yes">E-mail</property>
+                <property name="label" translatable="yes">Phone</property>
               </widget>
               <packing>
-                <property name="top_attach">1</property>
-                <property name="bottom_attach">2</property>
+                <property name="top_attach">2</property>
+                <property name="bottom_attach">3</property>
                 <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
               </packing>
@@ -7276,41 +7347,37 @@
               </packing>
             </child>
             <child>
-              <widget class="GtkLabel" id="label80">
+              <widget class="GtkLabel" id="label79">
                 <property name="visible">True</property>
-                <property name="label" translatable="yes">Phone</property>
+                <property name="label" translatable="yes">E-mail</property>
               </widget>
               <packing>
-                <property name="top_attach">2</property>
-                <property name="bottom_attach">3</property>
+                <property name="top_attach">1</property>
+                <property name="bottom_attach">2</property>
                 <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ep_phone">
+              <widget class="GtkEntry" id="ep_name">
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
+                <property name="has_focus">True</property>
                 <property name="invisible_char">*</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
-                <property name="top_attach">2</property>
-                <property name="bottom_attach">3</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ep_id">
-                <property name="can_focus">True</property>
-                <property name="invisible_char">*</property>
+              <widget class="GtkLabel" id="label78">
+                <property name="visible">True</property>
+                <property name="label" translatable="yes">Name</property>
               </widget>
               <packing>
-                <property name="left_attach">1</property>
-                <property name="right_attach">2</property>
-                <property name="top_attach">3</property>
-                <property name="bottom_attach">4</property>
+                <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
               </packing>
             </child>
@@ -7373,37 +7440,30 @@
             <property name="column_spacing">4</property>
             <property name="row_spacing">2</property>
             <child>
-              <widget class="GtkLabel" id="label73">
+              <widget class="GtkEntry" id="ap_phone">
                 <property name="visible">True</property>
-                <property name="label" translatable="yes">Name</property>
+                <property name="can_focus">True</property>
+                <property name="invisible_char">*</property>
               </widget>
               <packing>
-                <property name="x_options">GTK_FILL</property>
+                <property name="left_attach">1</property>
+                <property name="right_attach">2</property>
+                <property name="top_attach">2</property>
+                <property name="bottom_attach">3</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ap_name">
+              <widget class="GtkEntry" id="ap_email">
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
-                <property name="has_focus">True</property>
                 <property name="invisible_char">*</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
-                <property name="y_options"></property>
-              </packing>
-            </child>
-            <child>
-              <widget class="GtkLabel" id="label74">
-                <property name="visible">True</property>
-                <property name="label" translatable="yes">E-mail</property>
-              </widget>
-              <packing>
                 <property name="top_attach">1</property>
                 <property name="bottom_attach">2</property>
-                <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
               </packing>
             </child>
@@ -7420,33 +7480,40 @@
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ap_email">
+              <widget class="GtkLabel" id="label74">
                 <property name="visible">True</property>
-                <property name="can_focus">True</property>
-                <property name="invisible_char">*</property>
+                <property name="label" translatable="yes">E-mail</property>
               </widget>
               <packing>
-                <property name="left_attach">1</property>
-                <property name="right_attach">2</property>
                 <property name="top_attach">1</property>
                 <property name="bottom_attach">2</property>
+                <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
               </packing>
             </child>
             <child>
-              <widget class="GtkEntry" id="ap_phone">
+              <widget class="GtkEntry" id="ap_name">
                 <property name="visible">True</property>
                 <property name="can_focus">True</property>
+                <property name="has_focus">True</property>
                 <property name="invisible_char">*</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
-                <property name="top_attach">2</property>
-                <property name="bottom_attach">3</property>
                 <property name="y_options"></property>
               </packing>
             </child>
+            <child>
+              <widget class="GtkLabel" id="label73">
+                <property name="visible">True</property>
+                <property name="label" translatable="yes">Name</property>
+              </widget>
+              <packing>
+                <property name="x_options">GTK_FILL</property>
+                <property name="y_options"></property>
+              </packing>
+            </child>
           </widget>
           <packing>
             <property name="position">2</property>
@@ -7643,22 +7710,29 @@
               <placeholder/>
             </child>
             <child>
-              <widget class="GtkCheckButton" id="cover_simple_include_movie_number">
+              <widget class="GtkLabel" id="label71">
                 <property name="visible">True</property>
-                <property name="can_focus">True</property>
-                <property name="label" translatable="yes">Include movie number</property>
-                <property name="use_underline">True</property>
-                <property name="response_id">0</property>
-                <property name="active">True</property>
-                <property name="draw_indicator">True</property>
+                <property name="xalign">0</property>
+                <property name="label" translatable="yes">Size</property>
               </widget>
               <packing>
+                <property name="x_options">GTK_FILL</property>
+                <property name="y_options"></property>
+                <property name="x_padding">8</property>
+              </packing>
+            </child>
+            <child>
+              <widget class="GtkComboBox" id="cover_simple_size">
+                <property name="visible">True</property>
+                <property name="items" translatable="yes">Standard
+Slim
+Double Slim</property>
+              </widget>
+              <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
-                <property name="top_attach">1</property>
-                <property name="bottom_attach">2</property>
                 <property name="x_options">GTK_FILL</property>
-                <property name="y_options"></property>
+                <property name="y_options">GTK_FILL</property>
               </packing>
             </child>
             <child>
@@ -7681,29 +7755,22 @@
               </packing>
             </child>
             <child>
-              <widget class="GtkComboBox" id="cover_simple_size">
+              <widget class="GtkCheckButton" id="cover_simple_include_movie_number">
                 <property name="visible">True</property>
-                <property name="items" translatable="yes">Standard
-Slim
-Double Slim</property>
+                <property name="can_focus">True</property>
+                <property name="label" translatable="yes">Include movie number</property>
+                <property name="use_underline">True</property>
+                <property name="response_id">0</property>
+                <property name="active">True</property>
+                <property name="draw_indicator">True</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
+                <property name="top_attach">1</property>
+                <property name="bottom_attach">2</property>
                 <property name="x_options">GTK_FILL</property>
-                <property name="y_options">GTK_FILL</property>
-              </packing>
-            </child>
-            <child>
-              <widget class="GtkLabel" id="label71">
-                <property name="visible">True</property>
-                <property name="xalign">0</property>
-                <property name="label" translatable="yes">Size</property>
-              </widget>
-              <packing>
-                <property name="x_options">GTK_FILL</property>
                 <property name="y_options"></property>
-                <property name="x_padding">8</property>
               </packing>
             </child>
           </widget>
@@ -7952,22 +8019,17 @@
               <placeholder/>
             </child>
             <child>
-              <widget class="GtkCheckButton" id="cover_image_number">
+              <widget class="GtkComboBox" id="cover_image_size">
                 <property name="visible">True</property>
-                <property name="can_focus">True</property>
-                <property name="label" translatable="yes">Include movie number</property>
-                <property name="use_underline">True</property>
-                <property name="response_id">0</property>
-                <property name="active">True</property>
-                <property name="draw_indicator">True</property>
+                <property name="items" translatable="yes">Standard
+Slim
+Double Slim</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
-                <property name="top_attach">1</property>
-                <property name="bottom_attach">2</property>
                 <property name="x_options">GTK_FILL</property>
-                <property name="y_options"></property>
+                <property name="y_options">GTK_FILL</property>
               </packing>
             </child>
             <child>
@@ -7983,17 +8045,22 @@
               </packing>
             </child>
             <child>
-              <widget class="GtkComboBox" id="cover_image_size">
+              <widget class="GtkCheckButton" id="cover_image_number">
                 <property name="visible">True</property>
-                <property name="items" translatable="yes">Standard
-Slim
-Double Slim</property>
+                <property name="can_focus">True</property>
+                <property name="label" translatable="yes">Include movie number</property>
+                <property name="use_underline">True</property>
+                <property name="response_id">0</property>
+                <property name="active">True</property>
+                <property name="draw_indicator">True</property>
               </widget>
               <packing>
                 <property name="left_attach">1</property>
                 <property name="right_attach">2</property>
+                <property name="top_attach">1</property>
+                <property name="bottom_attach">2</property>
                 <property name="x_options">GTK_FILL</property>
-                <property name="y_options">GTK_FILL</property>
+                <property name="y_options"></property>
               </packing>
             </child>
           </widget>
@@ -8132,98 +8199,98 @@
                                 <property name="n_columns">3</property>
                                 <property name="homogeneous">True</property>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_loaned">
+                                  <widget class="GtkRadioButton" id="af_rb_seen_only_n">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">none</property>
+                                    <property name="label" translatable="yes">unseen only</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
+                                    <property name="group">af_rb_seen</property>
                                   </widget>
                                   <packing>
-                                    <property name="top_attach">1</property>
-                                    <property name="bottom_attach">2</property>
+                                    <property name="left_attach">2</property>
+                                    <property name="right_attach">3</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_seen">
+                                  <widget class="GtkRadioButton" id="af_rb_loaned_only_n">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">none</property>
+                                    <property name="label" translatable="yes">not loaned only</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
+                                    <property name="group">af_rb_loaned</property>
                                   </widget>
                                   <packing>
+                                    <property name="left_attach">2</property>
+                                    <property name="right_attach">3</property>
+                                    <property name="top_attach">1</property>
+                                    <property name="bottom_attach">2</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_loaned_only">
+                                  <widget class="GtkRadioButton" id="af_rb_seen_only">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">loaned only</property>
+                                    <property name="label" translatable="yes">seen only</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
-                                    <property name="group">af_rb_loaned</property>
+                                    <property name="group">af_rb_seen</property>
                                   </widget>
                                   <packing>
                                     <property name="left_attach">1</property>
                                     <property name="right_attach">2</property>
-                                    <property name="top_attach">1</property>
-                                    <property name="bottom_attach">2</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_seen_only">
+                                  <widget class="GtkRadioButton" id="af_rb_loaned_only">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">seen only</property>
+                                    <property name="label" translatable="yes">loaned only</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
-                                    <property name="group">af_rb_seen</property>
+                                    <property name="group">af_rb_loaned</property>
                                   </widget>
                                   <packing>
                                     <property name="left_attach">1</property>
                                     <property name="right_attach">2</property>
+                                    <property name="top_attach">1</property>
+                                    <property name="bottom_attach">2</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_loaned_only_n">
+                                  <widget class="GtkRadioButton" id="af_rb_seen">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">not loaned only</property>
+                                    <property name="label" translatable="yes">none</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
-                                    <property name="group">af_rb_loaned</property>
                                   </widget>
                                   <packing>
-                                    <property name="left_attach">2</property>
-                                    <property name="right_attach">3</property>
-                                    <property name="top_attach">1</property>
-                                    <property name="bottom_attach">2</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>
                                 <child>
-                                  <widget class="GtkRadioButton" id="af_rb_seen_only_n">
+                                  <widget class="GtkRadioButton" id="af_rb_loaned">
                                     <property name="visible">True</property>
                                     <property name="can_focus">True</property>
-                                    <property name="label" translatable="yes">unseen only</property>
+                                    <property name="label" translatable="yes">none</property>
                                     <property name="use_underline">True</property>
                                     <property name="response_id">0</property>
                                     <property name="draw_indicator">True</property>
-                                    <property name="group">af_rb_seen</property>
                                   </widget>
                                   <packing>
-                                    <property name="left_attach">2</property>
-                                    <property name="right_attach">3</property>
+                                    <property name="top_attach">1</property>
+                                    <property name="bottom_attach">2</property>
                                     <property name="y_options"></property>
                                   </packing>
                                 </child>

Modified: trunk/griffith
===================================================================
--- trunk/griffith	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/griffith	2009-02-01 22:42:31 UTC (rev 1143)
@@ -129,16 +129,17 @@
         self.clear_details()
         self.populate_treeview()
 
-        # adding some completion fields
+        # adding some completion fields - TODO: move it to initialize
         self.completion = gtk.EntryCompletion()
         self.widgets['add']['o_title'].set_completion(self.completion)
         self.completion.set_model(self.treemodel)
         self.completion.set_text_column(3)
+        # ... title
         self.completion_t = gtk.EntryCompletion()
         self.widgets['add']['title'].set_completion(self.completion_t)
         self.completion_t.set_model(self.treemodel)
         self.completion_t.set_text_column(4)
-        
+
         initialize.spellcheck(self)
 
         # add default folders to some select widgets

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/lib/add.py	2009-02-01 22:42:31 UTC (rev 1143)
@@ -340,6 +340,7 @@
     t_movies = {
         'cameraman'      : w['cameraman'].get_text().decode('utf-8'),
         'classification' : w['classification'].get_text().decode('utf-8'),
+        'barcode'        : unicode(gutils.digits_only(w['barcode'].get_text().decode('utf-8'))),
         'color'          : w['color'].get_active(),
         'cond'           : w['condition'].get_active(),
         'country'        : w['country'].get_text().decode('utf-8'),
@@ -353,6 +354,7 @@
         'o_title'        : w['o_title'].get_text().decode('utf-8'),
         'rating'         : w['rating_slider'].get_value(),
         'region'         : w['region'].get_active(),
+        'resolution'     : w['resolution'].get_text().strip().replace(' ', '').upper().decode('utf-8'),
         'runtime'        : w['runtime'].get_text().decode('utf-8'),
         'screenplay'     : w['screenplay'].get_text().decode('utf-8'),
         'site'           : w['site'].get_text().decode('utf-8'),
@@ -452,10 +454,23 @@
         w['year'].set_value( gutils.digits_only(item['year'], 2100))
     else:
         w['year'].set_value(0)
+    if 'resolution' in item and item['resolution']:
+        if self.config.get('use_resolution_alias', True):
+            w['resolution'].set_text(item['resolution'])
+        elif 'height' in item and item['height'] and 'width' in item and item['width']:
+            w['resolution'].set_text("%dx%d" % (item['width'], item['height']))
+        else: # failback to 'resolution'
+            w['resolution'].set_text(item['resolution'])
+    else:
+        w['resolution'].set_text('')
     if 'runtime' in item and item['runtime']:
         w['runtime'].set_value( gutils.digits_only(item['runtime']))
     else:
         w['runtime'].set_value(0)
+    if 'barcode' in item and item['barcode']:
+        w['barcode'].set_text(item['barcode'])
+    else:
+        w['barcode'].set_text('')
     if 'cameraman' in item and item['cameraman']:
         w['cameraman'].set_text(item['cameraman'])
     else:
@@ -745,6 +760,7 @@
     new_movie.cast           = movie.cast
     new_movie.classification = movie.classification
     new_movie.vcodec_id      = movie.vcodec_id
+    new_movie.barcode        = movie.barcode
     new_movie.cameraman      = movie.cameraman
     new_movie.collection_id  = movie.collection_id
     new_movie.volume_id      = movie.volume_id
@@ -767,6 +783,7 @@
     new_movie.rating         = movie.rating
     new_movie.region         = movie.region
     new_movie.runtime        = movie.runtime
+    new_movie.resolution     = movie.resolution
     new_movie.screenplay     = movie.screenplay
     new_movie.seen           = seen
     new_movie.o_site         = movie.o_site
@@ -802,8 +819,9 @@
             t_tags = details.pop('tags')
         if 'languages' in details:
             t_languages = details.pop('languages')
-        for i in db.movies_table.columns.keys():
-            if i in details:
+        #for i in db.movies_table.columns.keys():
+        for i in details:
+            if hasattr(movie, i):
                 setattr(movie, i, details[i])
 
         # clear previous data (in case of updates)

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/lib/db.py	2009-02-01 22:42:31 UTC (rev 1143)
@@ -126,8 +126,9 @@
                     #'': (1440, 960),
     }
     _res_alias_repr = {}
-    for i in _res_aliases.iteritems():
-        _res_alias_repr["%dx%d" % i[1]] = i[0]
+    for alias, res in _res_aliases.iteritems():
+        _res_alias_repr["%dx%d" % res] = alias
+    del alias, res
 
     def _set_resolution(self, res_string):
         if not res_string:
@@ -157,11 +158,13 @@
         return "<Movie:%s (number=%s)>" % (self.movie_id, self.number)
 
     def __contains__(self, name):
-        if name in ('volume','collection','medium','vcodec','loans','tags','languages','lectors','dubbings','subtitles'): return True
+        if name in ('volume','collection','medium','vcodec','loans','tags',\
+                    'languages','lectors','dubbings','subtitles','resolution'):
+            return True
         else: return name in movies_table.columns
 
     def __getitem__(self, name):
-        if name in self:
+        if hasattr(self, name):
             return getattr(self, name)
         else:
             raise AttributeError, name

Modified: trunk/lib/main_treeview.py
===================================================================
--- trunk/lib/main_treeview.py	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/lib/main_treeview.py	2009-02-01 22:42:31 UTC (rev 1143)
@@ -83,6 +83,17 @@
         w['year'].set_text(str(item['year']))
     else:
         w['year'].set_text('')
+    if False: # FIXME: add a field in main window
+    #if 'resolution' in item and item['resolution']:
+        if self.config.get('use_resolution_alias', True):
+            w['resolution'].set_text(item['resolution'])
+        elif 'height' in item and item['height'] and 'width' in item and item['width']:
+            w['resolution'].set_text("%dx%d" % (item['width'], item['height']))
+        else: # failback to 'resolution'
+            w['resolution'].set_text(item['resolution'])
+    else:
+        #w['resolution'].set_text('') # FIXME: add a field in main window
+        pass
     if 'runtime' in item and item['runtime']:
         w['runtime'].set_text(str(int(item['runtime'])))
     else:

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2009-02-01 21:12:57 UTC (rev 1142)
+++ trunk/lib/widgets.py	2009-02-01 22:42:31 UTC (rev 1143)
@@ -93,6 +93,7 @@
     self.widgets['add'] = {#{{{
         'window'           : get('add_movie'),
         'notebook'         : get('notebook_add'),
+        'barcode'          : get('am_barcode'),
         'classification'   : get('am_classification'),
         'cameraman'        : get('am_cameraman'),
         'collection'       : get('am_collection_combo'),
@@ -116,6 +117,7 @@
         'plugin_image'     : get('am_plugin_image'),
         #'ratio'            : get('am_ratio'), # TODO
         'region'           : get('am_region'),
+        'resolution'       : get('am_resolution'),
         'runtime'          : get('am_runtime'),
         'seen'             : get('am_seen'),
         'o_site'           : get('am_site'),



From piotrek at mail.berlios.de  Sun Feb  1 23:49:53 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 23:49:53 +0100
Subject: [Griffith-svn] r1144 - trunk/lib
Message-ID: <200902012249.n11MnrHI003684@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 23:49:52 +0100 (Sun, 01 Feb 2009)
New Revision: 1144

Modified:
   trunk/lib/db.py
Log:
use .lower() while checking if 'x' is in resolution string


Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 22:42:31 UTC (rev 1143)
+++ trunk/lib/db.py	2009-02-01 22:49:52 UTC (rev 1144)
@@ -138,7 +138,7 @@
             self.width, self.height = Movie._res_aliases[res_string]
         elif res_string in Movie._res_alias_repr:
             self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string]]
-        elif 'x' in res_string:
+        elif 'x' in res_string.lower():
             self.width, self.height = map(int, res_string.split('x'))
         else:
             raise ValueError('Use standard resolution name or \d+x\d+')



From piotrek at mail.berlios.de  Sun Feb  1 23:51:25 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 1 Feb 2009 23:51:25 +0100
Subject: [Griffith-svn] r1145 - trunk/lib
Message-ID: <200902012251.n11MpPg9003796@sheep.berlios.de>

Author: piotrek
Date: 2009-02-01 23:51:24 +0100 (Sun, 01 Feb 2009)
New Revision: 1145

Modified:
   trunk/lib/db.py
Log:
time for bed...


Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 22:49:52 UTC (rev 1144)
+++ trunk/lib/db.py	2009-02-01 22:51:24 UTC (rev 1145)
@@ -138,8 +138,8 @@
             self.width, self.height = Movie._res_aliases[res_string]
         elif res_string in Movie._res_alias_repr:
             self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string]]
-        elif 'x' in res_string.lower():
-            self.width, self.height = map(int, res_string.split('x'))
+        elif 'X' in res_string.upper():
+            self.width, self.height = map(int, res_string.upper().split('X'))
         else:
             raise ValueError('Use standard resolution name or \d+x\d+')
 



From piotrek at mail.berlios.de  Mon Feb  2 22:51:22 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Mon, 2 Feb 2009 22:51:22 +0100
Subject: [Griffith-svn] r1146 - in trunk: debian lib
Message-ID: <200902022151.n12LpMGj019821@sheep.berlios.de>

Author: piotrek
Date: 2009-02-02 22:51:22 +0100 (Mon, 02 Feb 2009)
New Revision: 1146

Modified:
   trunk/debian/changelog
   trunk/debian/control
   trunk/lib/add.py
   trunk/lib/db.py
Log:
add ipython to Suggests


Modified: trunk/debian/changelog
===================================================================
--- trunk/debian/changelog	2009-02-01 22:51:24 UTC (rev 1145)
+++ trunk/debian/changelog	2009-02-02 21:51:22 UTC (rev 1146)
@@ -6,6 +6,7 @@
     + pysqlite2 removed from alternative dependencies as python2.5 is now
       required
     + python-sqlite moved to Suggests
+    + ipython added to Suggests (--shell option)
 
  -- Piotr O?arowski <piotr at debian.org>  Sun, 18 Jan 2009 14:00:14 +0100
 

Modified: trunk/debian/control
===================================================================
--- trunk/debian/control	2009-02-01 22:51:24 UTC (rev 1145)
+++ trunk/debian/control	2009-02-02 21:51:22 UTC (rev 1146)
@@ -24,7 +24,8 @@
  python-psycopg2 (>= 1.1.21-6),
  python-mysqldb (>= 1.2.1-p2-2)
 Suggests: griffith-extra-artwork (>= 0.9),
- python-sqlite
+ python-sqlite,
+ ipython
 Description: film collection manager
  Adding items to the movie collection is as quick and easy as typing the film
  title and selecting a supported source. Griffith will then try to fetch all

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-01 22:51:24 UTC (rev 1145)
+++ trunk/lib/add.py	2009-02-02 21:51:22 UTC (rev 1146)
@@ -354,7 +354,7 @@
         'o_title'        : w['o_title'].get_text().decode('utf-8'),
         'rating'         : w['rating_slider'].get_value(),
         'region'         : w['region'].get_active(),
-        'resolution'     : w['resolution'].get_text().strip().replace(' ', '').upper().decode('utf-8'),
+        'resolution'     : w['resolution'].get_text().strip().decode('utf-8'),
         'runtime'        : w['runtime'].get_text().decode('utf-8'),
         'screenplay'     : w['screenplay'].get_text().decode('utf-8'),
         'site'           : w['site'].get_text().decode('utf-8'),

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-01 22:51:24 UTC (rev 1145)
+++ trunk/lib/db.py	2009-02-02 21:51:22 UTC (rev 1146)
@@ -134,12 +134,12 @@
         if not res_string:
             self.width = None
             self.height = None
-        elif res_string in Movie._res_aliases:
-            self.width, self.height = Movie._res_aliases[res_string]
-        elif res_string in Movie._res_alias_repr:
-            self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string]]
-        elif 'X' in res_string.upper():
-            self.width, self.height = map(int, res_string.upper().split('X'))
+        elif res_string.upper() in Movie._res_aliases:
+            self.width, self.height = Movie._res_aliases[res_string.upper()]
+        elif res_string.lower() in Movie._res_alias_repr:
+            self.width, self.height = Movie._res_aliases[Movie._res_alias_repr[res_string.lower()]]
+        elif 'x' in res_string.lower():
+            self.width, self.height = map(int, res_string.lower().split('x'))
         else:
             raise ValueError('Use standard resolution name or \d+x\d+')
 



From mikej06 at mail.berlios.de  Thu Feb  5 21:21:52 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Thu, 5 Feb 2009 21:21:52 +0100
Subject: [Griffith-svn] r1147 - trunk/lib
Message-ID: <200902052021.n15KLqTd032146@sheep.berlios.de>

Author: mikej06
Date: 2009-02-05 21:21:39 +0100 (Thu, 05 Feb 2009)
New Revision: 1147

Modified:
   trunk/lib/movie.py
Log:
decompress gzip compressed html pages before decoding to unicode

Modified: trunk/lib/movie.py
===================================================================
--- trunk/lib/movie.py	2009-02-02 21:51:22 UTC (rev 1146)
+++ trunk/lib/movie.py	2009-02-05 20:21:39 UTC (rev 1147)
@@ -160,6 +160,9 @@
             if retriever.html:
                 ifile = file(retriever.html[0], "rb")
                 data = ifile.read()
+                # check for gzip compressed pages before decoding to unicode
+                if len(data) > 2 and data[0:2] == '\037\213':
+                    data = gutils.decompress(data)
                 data = data.decode(self.encode)
         except IOError:
             pass
@@ -308,6 +311,9 @@
             if retriever.html:
                 ifile = file(retriever.html[0], 'rb')
                 self.page = ifile.read()
+                # check for gzip compressed pages before decoding to unicode
+                if len(self.page) > 2 and self.page[0:2] == '\037\213':
+                    self.page = gutils.decompress(self.page)
                 self.page = self.page.decode(self.encode, 'replace')
             else:
                 return False



From mikej06 at mail.berlios.de  Thu Feb  5 21:32:27 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Thu, 5 Feb 2009 21:32:27 +0100
Subject: [Griffith-svn] r1148 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200902052032.n15KWRKv000987@sheep.berlios.de>

Author: mikej06
Date: 2009-02-05 21:31:57 +0100 (Thu, 05 Feb 2009)
New Revision: 1148

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieAniDB.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieAniDB.py
Log:
AniDB movie plugin updated

Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-02-05 20:21:39 UTC (rev 1147)
+++ branches/0.9.x/ChangeLog	2009-02-05 20:31:57 UTC (rev 1148)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-05  Michael Jahn
+	* AniDB movie plugin updated
+
 2009-01-31  Michael Jahn
 	* Allocine movie plugin updated
 

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieAniDB.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieAniDB.py	2009-02-05 20:21:39 UTC (rev 1147)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieAniDB.py	2009-02-05 20:31:57 UTC (rev 1148)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Piotr O?arowski
+# Copyright (c) 2005-2009 Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -31,7 +31,7 @@
 plugin_language     = _('English')
 plugin_author       = 'Piotr O?arowski'
 plugin_author_email = '<ozarow+griffith at gmail.com>'
-plugin_version      = '2.5'
+plugin_version      = '2.6'
 
 aid_pattern = re.compile('[?&;]aid=(\d+)')
 
@@ -60,31 +60,33 @@
 			self.page = self.page[:pos]
 
 	def get_image(self):
-		match = re.search('http://img\d*.anidb.net/pics/anime/\d*.jpg', self.page)
+		match = re.search('img\d*.anidb.net/pics/anime/\d*.jpg', self.page)
 		if match is not None:
-			self.image_url = match.group()
+			self.image_url = 'http://' + match.group()
 		else:
 			self.image_url = ''
 
 	def get_o_title(self):
-		self.o_title = gutils.trim(self.page, '<h1>Anime: ', '</h1>')
+		self.o_title = gutils.trim(self.page, '<span>Info: ', '</span>')
 
 	def get_title(self):
 		self.title = gutils.trim(self.page, '"field">Official Title', '</td>')
-		self.title = gutils.trim(self.title, '<span>', '</span>')
+		self.title = gutils.trim(self.title, '<label>', '</label>')
 
 	def get_director(self):
 		self.director = ''
 
 	def get_plot(self):
 		self.plot = gutils.trim(self.page, 'class="desc">', '</div>')
+		self.plot = self.plot.replace('<br/>', '\n')
 
 	def get_year(self):
 		self.year = gutils.trim(self.page, '"field">Year', '</td>')
 		self.year = gutils.after(self.year, '"value">')[-4:]
 
 	def get_runtime(self):
-		self.runtime = ''
+		self.runtime = gutils.trim(self.page, '<label>Complete Movie</label>', '</tr>')
+		self.runtime = gutils.trim(self.runtime, '<td class="duration">', 'm')
 
 	def get_genre(self):
 		self.genre = gutils.trim(self.page, '>Categories<', '</td>')
@@ -103,7 +105,10 @@
 		self.classification = ''
 
 	def get_studio(self):
-		self.studio = gutils.trim(self.page, '"field">Producers', '</td>')
+		self.studio = gutils.trim(self.page, '<tr class="producers">', '</tr>')
+		if self.studio == '':
+			self.studio = gutils.trim(self.page, '<tr class="g_odd producers">', '</tr>')
+		self.studio = gutils.trim(self.studio, '<td class="value">', '</td>')
 		self.studio = gutils.strip_tags(self.studio)
 		if len(self.studio) and self.studio[:2] == " (":
 			self.studio = self.studio[2:]
@@ -125,20 +130,30 @@
 		self.country = ''
 
 	def get_rating(self):
-		self.rating = gutils.trim(self.page, '"field">Rating', '</td>')
+		self.rating = gutils.clean(gutils.after(gutils.trim(self.page, '<span class="rating', '</a>'), '>'))
+		if self.rating:
+			try:
+				self.rating = str(round(float(self.rating)))
+			except:
+				self.rating = ''
 
 	def get_notes(self):
 		self.notes = ''
-		# ...type
+		# ...type and episodes
 		atype = gutils.trim(self.page, '"field">Type', '</td>')
 		atype = gutils.clean(atype)
 		if atype != '':
 			self.notes += "Type: %s\n" % atype
-		# ...number of episodes
-		episodes = gutils.trim(self.page, '"field">Episodes', '</td>')
-		episodes = gutils.clean(episodes)
+		episodes = gutils.trim(self.page, '>Episode list<', '</table>')
 		if episodes != '':
-			self.notes += "Episodes: %s\n" % episodes
+			parts = string.split(episodes, '<tr ')
+			for index in range(2, len(parts), 1):
+				part = parts[index]
+				nr = gutils.clean(gutils.trim(part, 'class="id eid">', '</td>'))
+				title = gutils.clean(gutils.after(gutils.trim(part, '<label', '</td>'), '>'))
+				duration = gutils.clean(gutils.trim(part, 'class="duration">', '</td>'))
+				airdate = gutils.clean(gutils.trim(part, 'class="date airdate">', '</td>'))
+				self.notes += '\n' + nr + ': ' + title + ' (' + duration + ', ' + airdate + ')'
 
 class SearchPlugin(movie.SearchMovie):
 	def __init__(self):
@@ -150,17 +165,17 @@
 		self.open_search(parent_window)
 		self.page = decompress(self.page)
 
-		tmp = string.find(self.page, '<h1>Anime List - Search for: ')
+		tmp = string.find(self.page, '>Anime List - Search for: ')
 		if tmp == -1:		# already a movie page
-			self.page = ''
+			self.page = 'movie'
 		else:			# multiple matches
-			self.page = gutils.trim(self.page, 'class="anime_list"', '</table>');
+			self.page = gutils.trim(self.page, 'class="animelist"', '</table>');
 			self.page = gutils.after(self.page, '</tr>');
 
 		return self.page
 
 	def get_searches(self):
-		if self.page == '':	# already a movie page
+		if self.page == 'movie':    # already a movie page
 			self.number_results = 1
 			self.ids.append(self.url)
 			self.titles.append(self.title)
@@ -170,14 +185,16 @@
 
 			if len(elements[0]):
 				for element in elements:
-					element = gutils.trim(element, '<td', '</td>')
 					aid = aid_pattern.search(element)
 					if not aid:
 						continue
+					title = gutils.clean(gutils.trim(element, '<td class="name">', '</a>'))
+					type = gutils.clean(gutils.after(gutils.trim(element, '<td class="type', '</td>'), '>'))
 					self.ids.append(aid.groups()[0])
-					element = gutils.after(element, '">')
-					element = gutils.strip_tags(element)
-					self.titles.append(element)
+					if type:
+						self.titles.append(title + ' (' + type + ')')
+					else:
+						self.titles.append(title)
 			else:
 				self.number_results = 0
 

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-05 20:21:39 UTC (rev 1147)
+++ trunk/ChangeLog	2009-02-05 20:31:57 UTC (rev 1148)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-05  Michael Jahn
+	* AniDB movie plugin updated
+
 2009-02-01  Piotr O?arowski
 	* Add interactive shell (--shell commandline option)
 	* Add barcode column to the movie table

Modified: trunk/lib/plugins/movie/PluginMovieAniDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAniDB.py	2009-02-05 20:21:39 UTC (rev 1147)
+++ trunk/lib/plugins/movie/PluginMovieAniDB.py	2009-02-05 20:31:57 UTC (rev 1148)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Piotr O?arowski
+# Copyright (c) 2005-2009 Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -31,7 +31,7 @@
 plugin_language     = _('English')
 plugin_author       = 'Piotr O?arowski'
 plugin_author_email = '<ozarow+griffith at gmail.com>'
-plugin_version      = '2.5'
+plugin_version      = '2.6'
 
 aid_pattern = re.compile('[?&;]aid=(\d+)')
 
@@ -60,31 +60,33 @@
             self.page = self.page[:pos]
 
     def get_image(self):
-        match = re.search('http://img\d*.anidb.net/pics/anime/\d*.jpg', self.page)
+        match = re.search('img\d*.anidb.net/pics/anime/\d*.jpg', self.page)
         if match is not None:
-            self.image_url = match.group()
+            self.image_url = 'http://' + match.group()
         else:
             self.image_url = ''
 
     def get_o_title(self):
-        self.o_title = gutils.trim(self.page, '<h1>Anime: ', '</h1>')
+        self.o_title = gutils.trim(self.page, '<span>Info: ', '</span>')
 
     def get_title(self):
         self.title = gutils.trim(self.page, '"field">Official Title', '</td>')
-        self.title = gutils.trim(self.title, '<span>', '</span>')
+        self.title = gutils.trim(self.title, '<label>', '</label>')
 
     def get_director(self):
         self.director = ''
 
     def get_plot(self):
         self.plot = gutils.trim(self.page, 'class="desc">', '</div>')
+        self.plot = self.plot.replace('<br/>', '\n')
 
     def get_year(self):
         self.year = gutils.trim(self.page, '"field">Year', '</td>')
         self.year = gutils.after(self.year, '"value">')[-4:]
 
     def get_runtime(self):
-        self.runtime = ''
+        self.runtime = gutils.trim(self.page, '<label>Complete Movie</label>', '</tr>')
+        self.runtime = gutils.trim(self.runtime, '<td class="duration">', 'm')
 
     def get_genre(self):
         self.genre = gutils.trim(self.page, '>Categories<', '</td>')
@@ -103,7 +105,10 @@
         self.classification = ''
 
     def get_studio(self):
-        self.studio = gutils.trim(self.page, '"field">Producers', '</td>')
+        self.studio = gutils.trim(self.page, '<tr class="producers">', '</tr>')
+        if self.studio == '':
+            self.studio = gutils.trim(self.page, '<tr class="g_odd producers">', '</tr>')
+        self.studio = gutils.trim(self.studio, '<td class="value">', '</td>')
         self.studio = gutils.strip_tags(self.studio)
         if len(self.studio) and self.studio[:2] == " (":
             self.studio = self.studio[2:]
@@ -125,43 +130,52 @@
         self.country = ''
 
     def get_rating(self):
-        self.rating = gutils.trim(self.page, '"field">Rating', '</td>')
+        self.rating = gutils.clean(gutils.after(gutils.trim(self.page, '<span class="rating', '</a>'), '>'))
+        if self.rating:
+            try:
+                self.rating = str(round(float(self.rating)))
+            except:
+                self.rating = ''
 
     def get_notes(self):
         self.notes = ''
-        # ...type
+        # ...type and episodes
         atype = gutils.trim(self.page, '"field">Type', '</td>')
         atype = gutils.clean(atype)
         if atype != '':
             self.notes += "Type: %s\n" % atype
-        # ...number of episodes
-        episodes = gutils.trim(self.page, '"field">Episodes', '</td>')
-        episodes = gutils.clean(episodes)
+        episodes = gutils.trim(self.page, '>Episode list<', '</table>')
         if episodes != '':
-            self.notes += "Episodes: %s\n" % episodes
+            parts = string.split(episodes, '<tr ')
+            for index in range(2, len(parts), 1):
+                part = parts[index]
+                nr = gutils.clean(gutils.trim(part, 'class="id eid">', '</td>'))
+                title = gutils.clean(gutils.after(gutils.trim(part, '<label', '</td>'), '>'))
+                duration = gutils.clean(gutils.trim(part, 'class="duration">', '</td>'))
+                airdate = gutils.clean(gutils.trim(part, 'class="date airdate">', '</td>'))
+                self.notes += '\n' + nr + ': ' + title + ' (' + duration + ', ' + airdate + ')'
 
 class SearchPlugin(movie.SearchMovie):
     def __init__(self):
-        self.encode = 'utf-8'
-        self.original_url_search    = 'http://anidb.net/perl-bin/animedb.pl?show=animelist&do.search=search&adb.search='
-        self.translated_url_search    = 'http://anidb.net/perl-bin/animedb.pl?show=animelist&do.search=search&adb.search='
+        self.encode                = 'utf-8'
+        self.original_url_search   = 'http://anidb.net/perl-bin/animedb.pl?show=animelist&do.search=search&adb.search='
+        self.translated_url_search = 'http://anidb.net/perl-bin/animedb.pl?show=animelist&do.search=search&adb.search='
 
     def search(self,parent_window):
         if not self.open_search(parent_window):
             return None
-        self.page = decompress(self.page)
 
-        tmp = string.find(self.page, '<h1>Anime List - Search for: ')
+        tmp = string.find(self.page, '>Anime List - Search for: ')
         if tmp == -1:        # already a movie page
-            self.page = ''
+            self.page = 'movie'
         else:            # multiple matches
-            self.page = gutils.trim(self.page, 'class="anime_list"', '</table>');
+            self.page = gutils.trim(self.page, 'class="animelist"', '</table>');
             self.page = gutils.after(self.page, '</tr>');
 
         return self.page
 
     def get_searches(self):
-        if self.page == '':    # already a movie page
+        if self.page == 'movie':    # already a movie page
             self.number_results = 1
             self.ids.append(self.url)
             self.titles.append(self.title)
@@ -171,14 +185,16 @@
 
             if len(elements[0]):
                 for element in elements:
-                    element = gutils.trim(element, '<td', '</td>')
                     aid = aid_pattern.search(element)
                     if not aid:
                         continue
+                    title = gutils.clean(gutils.trim(element, '<td class="name">', '</a>'))
+                    type = gutils.clean(gutils.after(gutils.trim(element, '<td class="type', '</td>'), '>'))
                     self.ids.append(aid.groups()[0])
-                    element = gutils.after(element, '">')
-                    element = gutils.strip_tags(element)
-                    self.titles.append(element)
+                    if type:
+                        self.titles.append(title + ' (' + type + ')')
+                    else:
+                        self.titles.append(title)
             else:
                 self.number_results = 0
 



From mikej06 at mail.berlios.de  Sat Feb  7 22:27:26 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Sat, 7 Feb 2009 22:27:26 +0100
Subject: [Griffith-svn] r1149 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200902072127.n17LRQJG021331@sheep.berlios.de>

Author: mikej06
Date: 2009-02-07 22:27:00 +0100 (Sat, 07 Feb 2009)
New Revision: 1149

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieCineMovies.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieCineMovies.py
Log:
CineMovies movie plugin updated

Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-02-05 20:31:57 UTC (rev 1148)
+++ branches/0.9.x/ChangeLog	2009-02-07 21:27:00 UTC (rev 1149)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-07  Michael Jahn
+	* CineMovies movie plugin updated
+
 2009-02-05  Michael Jahn
 	* AniDB movie plugin updated
 

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieCineMovies.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieCineMovies.py	2009-02-05 20:31:57 UTC (rev 1148)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieCineMovies.py	2009-02-07 21:27:00 UTC (rev 1149)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2007 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -22,84 +22,101 @@
 # GNU General Public License, version 2 or later
 
 import gutils
-import movie,string
+import movie,string,re
 
-plugin_name = "Cinemovies"
-plugin_description = "Cinemovies"
-plugin_url = "www.cinemovies.fr"
-plugin_language = _("French")
-plugin_author = "Vasco Nunes"
-plugin_author_email="<vasco.m.nunes at gmail.com>"
-plugin_version = "0.2"
+plugin_name         = "Cinemovies"
+plugin_description  = "Cinemovies"
+plugin_url          = "www.cinemovies.fr"
+plugin_language     = _("French")
+plugin_author       = "Vasco Nunes"
+plugin_author_email = "<vasco.m.nunes at gmail.com>"
+plugin_version      = "0.3"
 
 class Plugin(movie.Movie):
 	def __init__(self, id):
-		self.encode='iso-8859-1'
+		self.encode   = 'iso-8859-1'
 		self.movie_id = id
-		self.url = "http://www.cinemovies.fr/fiche_film.php?IDfilm=" + str(self.movie_id)
+		self.url      = "http://www.cinemovies.fr/fiche_film.php?IDfilm=" + str(self.movie_id)
 
+	def initialize(self):
+		self.page = self.page.decode(self.encode)
+		self.page_cast = self.open_page(self.parent_window, url = 'http://www.cinemovies.fr/fiche_cast.php?IDfilm='+ str(self.movie_id))
+		self.page_cast = self.page_cast.decode(self.encode)
+
 	def get_image(self):
-		self.image_url = "http://www.cinemovies.fr/images/data/films/Pfilm"
-		self.image_url = self.image_url + string.strip(gutils.trim(self.page,"data/films/Pfilm",".jpg")) + ".jpg"
+		self.image_url = 'http://www.cinemovies.fr/images/data/affiches/Paff'
+		self.image_url = self.image_url + string.strip(gutils.trim(self.page, 'data/affiches/Paff', '.jpg')) + '.jpg'
 
 	def get_o_title(self):
-		self.o_title = string.capwords(gutils.trim(self.page,"Titre original</b></td>","</td>"))
+		self.o_title = gutils.trim(self.page, 'Titre original :', '</tr>')
+		self.o_title = self.o_title.encode(self.encode)
 
 	def get_title(self):
-		self.title = string.capwords(gutils.trim(self.page,"<TR><TD class=\"arial12blacknews\">"," :</TD></TR><TR><TD"))
+		self.title = gutils.trim(self.page, '<h1 class="h1artist">', '</h1>')
+		self.title = self.title.encode(self.encode)
 
 	def get_director(self):
-		self.director = string.strip(gutils.trim(self.page," par:</b></td>","</a>"))
+		self.director = string.strip(gutils.trim(self.page, 'par :</b></td>', '</a>'))
+		self.director = self.director.encode(self.encode)
 
 	def get_plot(self):
-		self.plot = gutils.trim(self.page,"L'histoire</font></td>","</p><br>")
+		self.plot = gutils.trim(gutils.after(self.page, '>L\'histoire<'), '<div id="story_fiche">', '</div>')
+		self.plot = self.plot.encode(self.encode)
 
 	def get_year(self):
-		self.year = gutils.trim(self.page,"<B>Ano:</B> <FONT SIze=-1>","</FONT>")
+		self.year = gutils.trim(self.page, 'Date(s) de Sortie(s)', '</a>')
+		if len(self.year) > 4:
+			self.year = self.year[len(self.year) - 4:len(self.year)].encode(self.encode)
 
 	def get_runtime(self):
-		self.runtime = gutils.trim(self.page,"height=\"12\">Dur?e: ","</td>")
+		self.runtime = gutils.clean(gutils.trim(self.page, u'>Dur?e :', '</tr>'))
+		if self.runtime:
+			self.runtime = str (int(gutils.before(self.runtime,"h"))*60 + int(gutils.after(self.runtime,"h")))
 
 	def get_genre(self):
-		self.genre = gutils.trim(self.page,"Genre: ","</b></a>")
+		self.genre = gutils.trim(self.page, 'Genre :', '</tr>')
+		self.genre = self.genre.encode(self.encode)
 
 	def get_cast(self):
-		self.cast = ""
-		self.cast = gutils.trim(self.page,"<b>Avec:</b>","</tr>")
+		self.cast = gutils.trim(self.page_cast, 'diens</b> :', '</table>')
+		self.cast = self.cast.replace('\n', '')
+		self.cast = self.cast.replace('</tr>', '\n')
+		self.cast = gutils.clean(self.cast)
+		self.cast = re.sub('\n[ \t]+', '\n', self.cast)
+		self.cast = re.sub('[.]+', _(' as '), self.cast)
+		self.cast = re.sub(_(' as ') + '(\n|$)', '\n', self.cast)
+		self.cast = self.cast.encode(self.encode)
 
 	def get_classification(self):
-		self.classification = gutils.trim(self.page,"<B>Idade:</B> <FONT SIze=-1>","</FONT>")
+		self.classification = ''
 
 	def get_studio(self):
-		self.studio = string.strip(gutils.trim(self.page,"&nbsp;Studio/Distributeur</b></td>","</td>"))
+		self.studio = string.strip(gutils.trim(self.page, 'Distributeur :', '</tr>'))
+		self.studio = self.studio.encode(self.encode)
 
 	def get_o_site(self):
-		self.o_site = gutils.trim(self.page,"<A HREF='", "' TARGET=_blank><IMG SRC='/imagens/bf_siteoficial.gif'")
+		self.o_site = gutils.after(gutils.after(gutils.trim(self.page, '>Site(s) Officiel(s):<', '</a'), '<a '), '>')
+		self.o_site = self.o_site.encode(self.encode)
 
 	def get_site(self):
-		self.site = gutils.trim(self.page,"/imagens/bf_siteoficial.gif' WIDTH=89 HEIGHT=18 BORDER=0 ALT=''>", "' TARGET=_blank><IMG SRC='/imagens/bf_imdb.gif'")
-		self.site = gutils.after(self.site,"<A HREF='")
-		self.site = string.replace(self.site,"'","")
+		self.site = self.url
 
 	def get_trailer(self):
-		self.trailer = gutils.trim(self.page,"/imagens/bf_imdb.gif' WIDTH=89 HEIGHT=18 BORDER=0 ALT=''>", "' TARGET=_blank><IMG SRC='/imagens/bf_trailer.gif'")
-		self.trailer = gutils.after(self.trailer,"<A HREF='")
+		self.trailer = ''
 
 	def get_country(self):
-		self.country = string.strip(gutils.trim(self.page,"&nbsp;Pays</b></td>","</td>"))
+		self.country = gutils.trim(self.page, 'Pays :', '</tr>')
+		self.country = self.country.encode(self.encode)
 
 	def get_rating(self):
-		tmp_rating = gutils.trim(self.page,"<td width=\"100%\" class=\"arial12blacknews\"><p align=\"center\"><font size=\"5\">","/5</font></td>")
-		if tmp_rating != "":
-			self.rating = str(float(tmp_rating)*2)
-		else:
-			self.rating = ""
+		self.rating = gutils.clean(gutils.trim(self.page, '<DIV id=scoree>', '</DIV>')).encode(self.encode)
 
+
 class SearchPlugin(movie.SearchMovie):
 	def __init__(self):
-		self.encode='iso-8859-1'
-		self.original_url_search	= "http://www.cinemovies.fr/resultat_recherche.php?cherche="
-		self.translated_url_search	= "http://www.cinemovies.fr/resultat_recherche.php?cherche="
+		self.encode                = 'iso-8859-1'
+		self.original_url_search   = "http://www.cinemovies.fr/resultat_recherche.php?typsearch=11&cherche="
+		self.translated_url_search = "http://www.cinemovies.fr/resultat_recherche.php?typsearch=11&cherche="
 
 	def search(self,parent_window):
 		self.open_search(parent_window)
@@ -107,15 +124,17 @@
 		return self.page
 
 	def sub_search(self):
-		self.page = gutils.trim(self.page,"height=\"6\">Films</td>", "height=\"6\">News</td>")
+		self.page = gutils.trim(self.page, '<div class=searchban>Les film', '<div class=spaceblank>')
 
 	def get_searches(self):
-		elements = string.split(self.page,"</tr>  <tr>")
+		elements = string.split(self.page, '<tr')
 		self.number_results = elements[-1]
 
 		if (elements[0]<>''):
 			for element in elements:
-				self.ids.append(gutils.trim(element,"?IDfilm=","\" class=\"arial"))
-				self.titles.append(gutils.convert_entities(gutils.strip_tags(gutils.trim(element,"12black3\">","</font><br>"))))
+				self.ids.append(gutils.trim(element, 'IDfilm=', '"'))
+				title = gutils.convert_entities(gutils.strip_tags(gutils.after(gutils.trim(element, 'IDfilm=', '</a>'), '>')))
+				year = gutils.after(gutils.trim(element, '<td valign="bottom"', '</td>'), '>')
+				self.titles.append(title + ' (' + year + ')')
 		else:
 			self.number_results = 0

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-05 20:31:57 UTC (rev 1148)
+++ trunk/ChangeLog	2009-02-07 21:27:00 UTC (rev 1149)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-07  Michael Jahn
+	* CineMovies movie plugin updated
+
 2009-02-05  Michael Jahn
 	* AniDB movie plugin updated
 

Modified: trunk/lib/plugins/movie/PluginMovieCineMovies.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCineMovies.py	2009-02-05 20:31:57 UTC (rev 1148)
+++ trunk/lib/plugins/movie/PluginMovieCineMovies.py	2009-02-07 21:27:00 UTC (rev 1149)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2007 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -22,84 +22,90 @@
 # GNU General Public License, version 2 or later
 
 import gutils
-import movie,string
+import movie,string,re
 
-plugin_name = "Cinemovies"
-plugin_description = "Cinemovies"
-plugin_url = "www.cinemovies.fr"
-plugin_language = _("French")
-plugin_author = "Vasco Nunes"
-plugin_author_email="<vasco.m.nunes at gmail.com>"
-plugin_version = "0.2"
+plugin_name         = "Cinemovies"
+plugin_description  = "Cinemovies"
+plugin_url          = "www.cinemovies.fr"
+plugin_language     = _("French")
+plugin_author       = "Vasco Nunes"
+plugin_author_email = "<vasco.m.nunes at gmail.com>"
+plugin_version      = "0.3"
 
 class Plugin(movie.Movie):
     def __init__(self, id):
-        self.encode='iso-8859-1'
+        self.encode   = 'iso-8859-1'
         self.movie_id = id
-        self.url = "http://www.cinemovies.fr/fiche_film.php?IDfilm=" + str(self.movie_id)
+        self.url      = "http://www.cinemovies.fr/fiche_film.php?IDfilm=" + str(self.movie_id)
 
+    def initialize(self):
+        self.page_cast = self.open_page(self.parent_window, url = 'http://www.cinemovies.fr/fiche_cast.php?IDfilm='+ str(self.movie_id))
+
     def get_image(self):
-        self.image_url = "http://www.cinemovies.fr/images/data/films/Pfilm"
-        self.image_url = self.image_url + string.strip(gutils.trim(self.page,"data/films/Pfilm",".jpg")) + ".jpg"
+        self.image_url = 'http://www.cinemovies.fr/images/data/affiches/Paff'
+        self.image_url = self.image_url + string.strip(gutils.trim(self.page, 'data/affiches/Paff', '.jpg')) + '.jpg'
 
     def get_o_title(self):
-        self.o_title = string.capwords(gutils.trim(self.page,"Titre original</b></td>","</td>"))
+        self.o_title = gutils.trim(self.page, 'Titre original :', '</tr>')
 
     def get_title(self):
-        self.title = string.capwords(gutils.trim(self.page,"<TR><TD class=\"arial12blacknews\">"," :</TD></TR><TR><TD"))
+        self.title = gutils.trim(self.page, '<h1 class="h1artist">', '</h1>')
 
     def get_director(self):
-        self.director = string.strip(gutils.trim(self.page," par:</b></td>","</a>"))
+        self.director = string.strip(gutils.trim(self.page, 'par :</b></td>', '</a>'))
 
     def get_plot(self):
-        self.plot = gutils.trim(self.page,"L'histoire</font></td>","</p><br>")
+        self.plot = gutils.trim(gutils.after(self.page, '>L\'histoire<'), '<div id="story_fiche">', '</div>')
 
     def get_year(self):
-        self.year = gutils.trim(self.page,"<B>Ano:</B> <FONT SIze=-1>","</FONT>")
+        self.year = gutils.trim(self.page, 'Date(s) de Sortie(s)', '</a>')
+        if len(self.year) > 4:
+            self.year = self.year[len(self.year) - 4:len(self.year)]
 
     def get_runtime(self):
-        self.runtime = gutils.trim(self.page,"height=\"12\">Dur?e: ","</td>")
+        self.runtime = gutils.clean(gutils.trim(self.page, u'>Dur?e :', '</tr>'))
+        if self.runtime:
+            self.runtime = str (int(gutils.before(self.runtime,"h"))*60 + int(gutils.after(self.runtime,"h")))
 
     def get_genre(self):
-        self.genre = gutils.trim(self.page,"Genre: ","</b></a>")
+        self.genre = gutils.trim(self.page, 'Genre :', '</tr>')
 
     def get_cast(self):
-        self.cast = ""
-        self.cast = gutils.trim(self.page,"<b>Avec:</b>","</tr>")
+        self.cast = gutils.trim(self.page_cast, 'diens</b> :', '</table>')
+        self.cast = self.cast.replace('\n', '')
+        self.cast = self.cast.replace('</tr>', '\n')
+        self.cast = gutils.clean(self.cast)
+        self.cast = re.sub('\n[ \t]+', '\n', self.cast)
+        self.cast = re.sub('[.]+', _(' as '), self.cast)
+        self.cast = re.sub(_(' as ') + '(\n|$)', '\n', self.cast)
 
     def get_classification(self):
-        self.classification = gutils.trim(self.page,"<B>Idade:</B> <FONT SIze=-1>","</FONT>")
+        self.classification = ''
 
     def get_studio(self):
-        self.studio = string.strip(gutils.trim(self.page,"&nbsp;Studio/Distributeur</b></td>","</td>"))
+        self.studio = string.strip(gutils.trim(self.page, 'Distributeur :', '</tr>'))
 
     def get_o_site(self):
-        self.o_site = gutils.trim(self.page,"<A HREF='", "' TARGET=_blank><IMG SRC='/imagens/bf_siteoficial.gif'")
+        self.o_site = gutils.after(gutils.after(gutils.trim(self.page, '>Site(s) Officiel(s):<', '</a'), '<a '), '>')
 
     def get_site(self):
-        self.site = gutils.trim(self.page,"/imagens/bf_siteoficial.gif' WIDTH=89 HEIGHT=18 BORDER=0 ALT=''>", "' TARGET=_blank><IMG SRC='/imagens/bf_imdb.gif'")
-        self.site = gutils.after(self.site,"<A HREF='")
-        self.site = string.replace(self.site,"'","")
+        self.site = self.url
 
     def get_trailer(self):
-        self.trailer = gutils.trim(self.page,"/imagens/bf_imdb.gif' WIDTH=89 HEIGHT=18 BORDER=0 ALT=''>", "' TARGET=_blank><IMG SRC='/imagens/bf_trailer.gif'")
-        self.trailer = gutils.after(self.trailer,"<A HREF='")
+        self.trailer = ''
 
     def get_country(self):
-        self.country = string.strip(gutils.trim(self.page,"&nbsp;Pays</b></td>","</td>"))
+        self.country = gutils.trim(self.page, 'Pays :', '</tr>')
 
     def get_rating(self):
-        tmp_rating = gutils.trim(self.page,"<td width=\"100%\" class=\"arial12blacknews\"><p align=\"center\"><font size=\"5\">","/5</font></td>")
-        if tmp_rating != "":
-            self.rating = str(float(tmp_rating)*2)
-        else:
-            self.rating = ""
+        self.rating = gutils.clean(gutils.trim(self.page, '<DIV id=scoree>', '</DIV>'))
 
+
 class SearchPlugin(movie.SearchMovie):
     def __init__(self):
-        self.encode='iso-8859-1'
-        self.original_url_search    = "http://www.cinemovies.fr/resultat_recherche.php?cherche="
-        self.translated_url_search    = "http://www.cinemovies.fr/resultat_recherche.php?cherche="
+        self.encode                = 'iso-8859-1'
+        self.original_url_search   = "http://www.cinemovies.fr/resultat_recherche.php?typsearch=11&cherche="
+        self.translated_url_search = "http://www.cinemovies.fr/resultat_recherche.php?typsearch=11&cherche="
 
     def search(self,parent_window):
         if not self.open_search(parent_window):
@@ -108,15 +114,17 @@
         return self.page
 
     def sub_search(self):
-        self.page = gutils.trim(self.page,"height=\"6\">Films</td>", "height=\"6\">News</td>")
+        self.page = gutils.trim(self.page, '<div class=searchban>Les film', '<div class=spaceblank>')
 
     def get_searches(self):
-        elements = string.split(self.page,"</tr>  <tr>")
+        elements = string.split(self.page, '<tr')
         self.number_results = elements[-1]
 
         if (elements[0]<>''):
             for element in elements:
-                self.ids.append(gutils.trim(element,"?IDfilm=","\" class=\"arial"))
-                self.titles.append(gutils.convert_entities(gutils.strip_tags(gutils.trim(element,"12black3\">","</font><br>"))))
+                self.ids.append(gutils.trim(element, 'IDfilm=', '"'))
+                title = gutils.convert_entities(gutils.strip_tags(gutils.after(gutils.trim(element, 'IDfilm=', '</a>'), '>')))
+                year = gutils.after(gutils.trim(element, '<td valign="bottom"', '</td>'), '>')
+                self.titles.append(title + ' (' + year + ')')
         else:
             self.number_results = 0



From mikej06 at mail.berlios.de  Sun Feb  8 22:11:38 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Sun, 8 Feb 2009 22:11:38 +0100
Subject: [Griffith-svn] r1150 - branches/0.9.x/lib trunk/lib
Message-ID: <200902082111.n18LBcEK007218@sheep.berlios.de>

Author: mikej06
Date: 2009-02-08 22:11:17 +0100 (Sun, 08 Feb 2009)
New Revision: 1150

Modified:
   branches/0.9.x/lib/initialize.py
   trunk/lib/gconsole.py
   trunk/lib/initialize.py
Log:
* fixed a start error with non-ascii characters (especially greek characters) within path names
* ported the 0.9.5 compatibility code (windows) to trunk

Modified: branches/0.9.x/lib/initialize.py
===================================================================
--- branches/0.9.x/lib/initialize.py	2009-02-07 21:27:00 UTC (rev 1149)
+++ branches/0.9.x/lib/initialize.py	2009-02-08 21:11:17 UTC (rev 1150)
@@ -48,11 +48,10 @@
 	locations['lib']  = os.path.dirname(__file__)
 	
 	if os.name == 'nt' or os.name.startswith('win'): # win32, win64
-		import winshell
 		from win32com.shell import shellcon, shell
 		import shutil
 		
-		mydocs = winshell.my_documents()
+		locations['home']           = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), u'griffith')
 		locations['movie_plugins']  = "%s\\lib\\plugins\\movie" % locations['exec']
 		locations['export_plugins'] = "%s\\lib\\plugins\\export" % locations['exec']
 		locations['images']         = "%s\\images" % locations['exec']
@@ -64,9 +63,10 @@
 		
 		# griffith dir location should point to 'Application Data'
 		# this is changed on 0.9.5+svn so we need to make it backward compatible
-		if os.path.exists(os.path.join(mydocs, 'griffith').decode(defaultEnc)):
-			shutil.move(os.path.join(mydocs, 'griffith').decode(defaultEnc),os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), 'griffith').decode(defaultEnc))
-		locations['home']           = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), 'griffith').decode(defaultEnc)
+		if not os.path.exists(locations['home']):
+			mydocs = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_PERSONAL | 0x4000, 0, 0), u'griffith')
+			if os.path.exists(mydocs):
+				shutil.move(mydocs, locations['home'])
 		
 		# windows hack for locale setting
 		lang = os.getenv('LANG')

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2009-02-07 21:27:00 UTC (rev 1149)
+++ trunk/lib/gconsole.py	2009-02-08 21:11:17 UTC (rev 1150)
@@ -41,7 +41,16 @@
     
     if os.name == 'nt' or os.name.startswith('win'): # win32, win64
         from win32com.shell import shellcon, shell
-        home = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), 'griffith').decode(default_enc)
+        import shutil
+        home = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), u'griffith')
+        # griffith dir location should point to 'Application Data'
+        # this is changed on 0.9.5+svn so we need to make it backward compatible
+        # I think the following lines can be savely removed with version 0.11 or 0.12
+        if not os.path.exists(home):
+            mydocs = os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_PERSONAL | 0x4000, 0, 0), u'griffith')
+            if os.path.exists(mydocs):
+                shutil.move(mydocs, home)
+        
     else:
         home = os.path.join(os.path.expanduser('~'), '.griffith').decode(default_enc)
     config = 'griffith.cfg'

Modified: trunk/lib/initialize.py
===================================================================
--- trunk/lib/initialize.py	2009-02-07 21:27:00 UTC (rev 1149)
+++ trunk/lib/initialize.py	2009-02-08 21:11:17 UTC (rev 1150)
@@ -55,7 +55,6 @@
         from win32com.shell import shellcon, shell
         import shutil
         
-        mydocs = winshell.my_documents()
         locations['movie_plugins']  = "%s\\lib\\plugins\\movie" % locations['exec']
         locations['export_plugins'] = "%s\\lib\\plugins\\export" % locations['exec']
         locations['images']         = "%s\\images" % locations['exec']
@@ -65,11 +64,6 @@
         locations['i18n']           = "%s\\i18n" % locations['exec']
         os.environ['PATH'] += ";lib;"
         
-        # griffith dir location should point to 'Application Data'
-        # this is changed on 0.9.5+svn so we need to make it backward compatible
-        if os.path.exists(os.path.join(mydocs, 'griffith').decode(defaultEnc)):
-            shutil.move(os.path.join(mydocs, 'griffith').decode(defaultEnc),os.path.join(shell.SHGetFolderPath(0, shellcon.CSIDL_APPDATA, 0, 0), 'griffith').decode(defaultEnc))
-        
         # windows hack for locale setting
         lang = os.getenv('LANG')
         if lang is None:



From piotrek at mail.berlios.de  Sun Feb  8 22:31:13 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 8 Feb 2009 22:31:13 +0100
Subject: [Griffith-svn] r1151 - trunk/lib
Message-ID: <200902082131.n18LVDRi011003@sheep.berlios.de>

Author: piotrek
Date: 2009-02-08 22:31:12 +0100 (Sun, 08 Feb 2009)
New Revision: 1151

Modified:
   trunk/lib/add.py
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
Log:
create unique constraint for barcode field while upgrading


Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-08 21:11:17 UTC (rev 1150)
+++ trunk/lib/add.py	2009-02-08 21:31:12 UTC (rev 1151)
@@ -389,6 +389,8 @@
         t_movies['vcodec_id'] = self.vcodecs_ids[t_movies['vcodec_id']]
     else:
         t_movies['vcodec_id'] = None
+    if t_movies['barcode'] == '0':
+        t_movies['barcode'] = None
     
     if w['seen'].get_active():
         t_movies['seen'] = True

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-08 21:11:17 UTC (rev 1150)
+++ trunk/lib/db.py	2009-02-08 21:31:12 UTC (rev 1151)
@@ -326,6 +326,7 @@
 
 filters_table = Table('filters', metadata,
     Column('name', Unicode(64), primary_key=True),
+    #Column('data', PickleType, nullable=False))
     Column('data', Binary, nullable=False))
 
 tables = {

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-08 21:11:17 UTC (rev 1150)
+++ trunk/lib/dbupgrade.py	2009-02-08 21:31:12 UTC (rev 1151)
@@ -199,11 +199,18 @@
                    'width': 'ALTER TABLE movies ADD width SMALLINT NULL;',
                    'height': 'ALTER TABLE movies ADD height SMALLINT NULL;',
                   }
+
+        if e_type in ('mysql', 'posters'):
+           queries['movies_barcode_key'] = 'ALTER TABLE movies ADD CONSTRAINT movies_barcode_key UNIQUE (barcode);'
+
         for key, query in queries.items():
             try:
                 self.session.bind.execute(query)
             except Exception, e:
-                log.error("Cannot add '%s' column: %s", key, e)
+                if 'key' in key:
+                    log.error("Cannot add '%s' key: %s", key, e)
+                else:
+                    log.error("Cannot add '%s' column: %s", key, e)
                 return False
 
         log.info('... creading missing indexes')



From piotrek at mail.berlios.de  Sun Feb  8 22:42:24 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Sun, 8 Feb 2009 22:42:24 +0100
Subject: [Griffith-svn] r1152 - trunk/lib
Message-ID: <200902082142.n18LgOED012041@sheep.berlios.de>

Author: piotrek
Date: 2009-02-08 22:42:23 +0100 (Sun, 08 Feb 2009)
New Revision: 1152

Modified:
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
   trunk/lib/sql.py
Log:
* allow duplicate barcodes
* bump DB version to 4


Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-08 21:31:12 UTC (rev 1151)
+++ trunk/lib/db.py	2009-02-08 21:42:23 UTC (rev 1152)
@@ -226,7 +226,7 @@
     Column('year', SmallInteger),
     Column('width', SmallInteger),
     Column('height', SmallInteger),
-    Column('barcode', Unicode(32), unique=True),
+    Column('barcode', Unicode(32)),
     Column('o_title', Unicode(256), index=True),
     Column('title', Unicode(256), index=True),
     Column('director', Unicode(256)),

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-08 21:31:12 UTC (rev 1151)
+++ trunk/lib/dbupgrade.py	2009-02-08 21:42:23 UTC (rev 1152)
@@ -189,7 +189,7 @@
         self.session.add(db_version)
         self.session.commit()
 
-    if False and version == 3:    # fix changes between v3 and v4
+    if version == 3:    # fix changes between v3 and v4
         version += 1
         log.info("Upgrading database to version %d...", version)
         
@@ -197,27 +197,23 @@
         # common SQL statements
         queries = {'barcode': 'ALTER TABLE movies ADD barcode VARCHAR(32) NULL;',
                    'width': 'ALTER TABLE movies ADD width SMALLINT NULL;',
-                   'height': 'ALTER TABLE movies ADD height SMALLINT NULL;',
-                  }
+                   'height': 'ALTER TABLE movies ADD height SMALLINT NULL;'}
 
-        if e_type in ('mysql', 'posters'):
-           queries['movies_barcode_key'] = 'ALTER TABLE movies ADD CONSTRAINT movies_barcode_key UNIQUE (barcode);'
-
         for key, query in queries.items():
             try:
                 self.session.bind.execute(query)
             except Exception, e:
-                if 'key' in key:
-                    log.error("Cannot add '%s' key: %s", key, e)
-                else:
-                    log.error("Cannot add '%s' column: %s", key, e)
+                log.error("Cannot add '%s' column: %s", key, e)
                 return False
 
         log.info('... creading missing indexes')
-        i = Index('ix_movies_title', db.movies_table.c.title)
-        i.create(bind=b)
-        i = Index('ix_movies_o_title', db.movies_table.c.o_title)
-        i.create(bind=b)
+        try:
+            i = Index('ix_movies_title', db.movies_table.c.title)
+            i.create(bind=b)
+            i = Index('ix_movies_o_title', db.movies_table.c.o_title)
+            i.create(bind=b)
+        except Exception, e:
+            log.error("Cannot create new index, skipping (%s)", e)
         
         db_version = self.session.query(db.Configuration).filter_by(param=u'version').one()
         db_version.value = unicode(version)

Modified: trunk/lib/sql.py
===================================================================
--- trunk/lib/sql.py	2009-02-08 21:31:12 UTC (rev 1151)
+++ trunk/lib/sql.py	2009-02-08 21:42:23 UTC (rev 1152)
@@ -35,7 +35,7 @@
 import db # ORM data (SQLAlchemy stuff)
 
 class GriffithSQL(object):
-    version = 3    # database format version, increase after changing data structures
+    version = 4 # database format version, increase after changing data structures
 
     def __init__(self, config, griffith_dir, locations, fallback=True):
         #mapper = Session.mapper



From piotrek at mail.berlios.de  Mon Feb  9 00:20:46 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Mon, 9 Feb 2009 00:20:46 +0100
Subject: [Griffith-svn] r1154 - in trunk: . debian lib lib/plugins/export
	lib/plugins/movie
Message-ID: <200902082320.n18NKkhO023181@sheep.berlios.de>

Author: piotrek
Date: 2009-02-09 00:20:39 +0100 (Mon, 09 Feb 2009)
New Revision: 1154

Modified:
   trunk/ChangeLog
   trunk/NEWS
   trunk/README
   trunk/debian/changelog
   trunk/lib/about.py
   trunk/lib/add.py
   trunk/lib/backup.py
   trunk/lib/config.py
   trunk/lib/cover.py
   trunk/lib/dbupgrade.py
   trunk/lib/delete.py
   trunk/lib/edit.py
   trunk/lib/gconsole.py
   trunk/lib/gutils.py
   trunk/lib/initialize.py
   trunk/lib/loan.py
   trunk/lib/main_treeview.py
   trunk/lib/movie.py
   trunk/lib/people.py
   trunk/lib/plugins/export/PluginExportHTML.py
   trunk/lib/plugins/movie/PluginMovieCinematografo.py
   trunk/lib/plugins/movie/PluginMovieIMDB-de.py
   trunk/lib/plugins/movie/PluginMovieKinoDe.py
   trunk/lib/plugins/movie/PluginMoviePTGate.py
   trunk/lib/plugins/movie/PluginMovieStopklatka.py
   trunk/lib/preferences.py
   trunk/lib/quick_filter.py
   trunk/lib/sql.py
   trunk/lib/test_movieplugins.py
   trunk/lib/version.py
   trunk/lib/view.py
   trunk/lib/widgets.py
   trunk/winpackage.iss
   trunk/winsetup.py
Log:
* change version to 0.10-beta2
* update copyright years
* add few NEWS


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/ChangeLog	2009-02-08 23:20:39 UTC (rev 1154)
@@ -5,6 +5,8 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+---- 0.10-beta1 ----
+
 2009-02-07  Michael Jahn
 	* CineMovies movie plugin updated
 
@@ -106,7 +108,7 @@
 	* Version changed to 0.10-beta2~svn
 	* command line's search fixed
 
----- 0.10-beta1 ---
+---- 0.10-beta1 ----
 
 2008-11-17  Piotr O?arowski
 	* Add --version/-v command line options
@@ -210,7 +212,7 @@
 	* Switch back to 4 spaces indentation
 	* Rewrite SQLAlchemy related data to use session (to ease accessing simultaneously multiple databases)
 
----- 0.9.7.1 ---
+---- 0.9.7.1 ----
 
 2008-07-26  Piotr O?arowski
 	* Links to Griffith's homepage and bug tracker updated
@@ -224,7 +226,7 @@
 	* updated INSTALL file to new versions (GTK, Glade, PyGTK, py2exe, pywin32, Inno Setup)
 	* fixed URL creation in setup script; added removing of .pyo files if deinstalled
 
----- 0.9.7 ---
+---- 0.9.7 ----
 
 2008-07-21  Piotr O?arowski
 	* Fixed HTML export plugin (sorting issue)
@@ -299,7 +301,7 @@
 	* hit enter key in title/original title box starts retrieving data from web for a new entry
 	* HTML export: replace linebreaks with <br /> in the data if "XHTML 1.0" is found in the template header
 
----- 0.9.6 ---
+---- 0.9.6 ----
 
 2008-01-27  Michael Jahn
 	* Zelluloid plugin updated
@@ -381,7 +383,7 @@
 2007-09-03  Vasco Nunes
 	* Some documentations updates
 
----- 0.9.5 ---
+---- 0.9.5 ----
 
 2007-09-02  Piotr O?arowski
 	* Translation files synchronized with Rosetta
@@ -423,7 +425,7 @@
 2007-08-16  Michael Jahn
 	* IMDB-de plugin updated
 
----- 0.9.4 ---
+---- 0.9.4 ----
 
 2007-08-05  Piotr O?arowski
 	* FDb movie plugin updated
@@ -463,12 +465,12 @@
 2007-07-03  Michael Jahn
 	* DVD-Palace and IMDB-de movie plugin updated
 
----- 0.9.3.1 ---
+---- 0.9.3.1 ----
 
 2007-07-01  Piotr O?arowski
 	* Problem with saving database preferences in config file fixed
 
----- 0.9.3 ---
+---- 0.9.3 ----
 
 2007-06-30  Piotr O?arowski
 	* Use python2.5's sqlite3 module if available (no need to install pysqlite2)
@@ -566,7 +568,7 @@
 	* Version changed to 0.9.2+svn
 	* New configuration file format (human readable) - please delete old one manually
 
----- 0.9.2 ---
+---- 0.9.2 ----
 
 2007-02-20  Piotr O?arowski
 	* IMDB movie plugin updated
@@ -580,7 +582,7 @@
 2007-02-14  Piotr O?arowski
 	* KinoDe and FilmeVonAZ movie plugins updated (thanks to Michael Jahn)
 
----- 0.9.1 ---
+---- 0.9.1 ----
 
 2007-02-13  Piotr O?arowski
 	* KinoDe movie plugin updated (thanks to Michael Jahn)
@@ -598,7 +600,7 @@
 2007-01-27  Piotr O?arowski
 	* English translation fixes (thanks Frijolie)
 
----- 0.9 ---
+---- 0.9 ----
 
 2007-01-26  Piotr O?arowski
 	* WP and Filmweb movie plugins updated
@@ -627,7 +629,7 @@
 2007-01-10  Vasco Nunes
 	* PTGate movie plugin updated
 
----- 0.9-rc3 ---
+---- 0.9-rc3 ----
 
 2007-01-09  Piotr O?arowski
 	* Catch some more bad cases while upgrading database
@@ -642,7 +644,7 @@
 2007-01-08  Vasco Nunes
 	* Italian translation updated (Thanks to Diego)
 
----- 0.9-rc2 ---
+---- 0.9-rc2 ----
 
 2007-01-07  Piotr O?arowski
 	* Copy title if original title is not available in FDb.pl movie plugin
@@ -706,7 +708,7 @@
 2006-12-30  Vasco Nunes
 	* Under MacOSX Preview.app is used for pdfs now
 
----- 0.9~rc1 ---
+---- 0.9~rc1 ----
 
 2006-12-24  Vasco Nunes
 	* Added some gtk dialogs when converting old db format
@@ -911,7 +913,7 @@
 2006-04-20  Piotr O?arowski
 	* ADOdb transition started
 
----- 0.6.2 ---
+---- 0.6.2 ----
 
 2006-08-08  Piotr O?arowski
 	* IMDb movie plugin updated.
@@ -965,7 +967,7 @@
 	* Minor fixes in doc files
 	* Added watch file for Debian package
 
----- 0.6.1 ---
+---- 0.6.1 ----
 
 2006-04-14  Piotr O?arowski
 	* Updated some docs (translation README and INSTALL notes)

Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/NEWS	2009-02-08 23:20:39 UTC (rev 1154)
@@ -1,6 +1,13 @@
 Griffith 0.10-beta2
 ===================
-*
+* Most movie plugins updated
+* New fields: barcode, resolution (width and height or PAL, NTSC, VGA, HD 1080, etc.)
+* Better results for Amazon poster search
+* HTML export plugin exports posters again
+* Reload movie plugin each time search is performed (in --debug mode only, this
+  should ease writing movie plugins)
+* Canceling search doesn't throw exception anymore
+* --shell command line option added (for advanced users/developers only!)
 
 
 Griffith 0.10-beta1
@@ -93,15 +100,18 @@
 
 Griffith 0.9.3
 ==============
-* New configuration file format (human readable) - please note that data from old config file is not used
-* Updated movie plugins: Filmweb, WP, FDb, IMDb, 7arte.net, Cineteka, Kino.de, DVD-Palace, E-Pipoca, Stopklatka
+* New configuration file format (human readable) - please note that data from
+  old config file is not used
+* Updated movie plugins: Filmweb, WP, FDb, IMDb, 7arte.net, Cineteka, Kino.de,
+  DVD-Palace, E-Pipoca, Stopklatka
 * New movie plugins: FilmDb, Zelluloid, IMDb-de
 * New translations:
   + Dutch (thanks to Marcel Dijkstra)
   + Danish (thanks to Joe Dalton)
   + Greek (thanka to Ioannis Koniaris)
   + Simplified Chinese (thanks to kempson)
-* Updated translations: German, Spanish, French, Polish and Portuguese Brazilian (from Rosetta)
+* Updated translations: German, Spanish, French, Polish and Portuguese
+  Brazilian (from Rosetta)
 * Added new alpha export plugin for iPods
 * Added Microsoft SQL support
 * Lots of bugs fixed

Modified: trunk/README
===================================================================
--- trunk/README	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/README	2009-02-08 23:20:39 UTC (rev 1154)
@@ -1,4 +1,4 @@
-Griffith 0.10-beta1 README
+Griffith 0.10-beta2 README
 ==========================
 
 This document was last updated on Thu Sep 02 2007.

Modified: trunk/debian/changelog
===================================================================
--- trunk/debian/changelog	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/debian/changelog	2009-02-08 23:20:39 UTC (rev 1154)
@@ -1,4 +1,4 @@
-griffith (0.10~beta2-1) UNRELEASED; urgency=low
+griffith (0.10~beta2-1) experimental; urgency=low
 
   * New upstream snapshot
   * Changes in dependencies:
@@ -8,7 +8,7 @@
     + python-sqlite moved to Suggests
     + ipython added to Suggests (--shell option)
 
- -- Piotr O?arowski <piotr at debian.org>  Sun, 18 Jan 2009 14:00:14 +0100
+ -- Piotr O?arowski <piotr at debian.org>  Mon, 09 Feb 2009 00:03:38 +0100
 
 griffith (0.10~beta1-1) experimental; urgency=low
 

Modified: trunk/lib/about.py
===================================================================
--- trunk/lib/about.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/about.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -34,7 +34,7 @@
         dialog = gtk.AboutDialog()
         dialog.set_name(version.pname)
         dialog.set_version(version.pversion)
-        dialog.set_copyright("Copyright ? 2005-2008 Vasco Nunes. Piotr O?arowski")
+        dialog.set_copyright("Copyright ? 2005-2009 Vasco Nunes. Piotr O?arowski")
         dialog.set_website(version.pwebsite)
         dialog.set_authors([
             _("Main Authors") + ':',

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/add.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -3,7 +3,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published byp

Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/backup.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/config.py
===================================================================
--- trunk/lib/config.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/config.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/cover.py
===================================================================
--- trunk/lib/cover.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/cover.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/dbupgrade.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -3,7 +3,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/delete.py
===================================================================
--- trunk/lib/delete.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/delete.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/edit.py
===================================================================
--- trunk/lib/edit.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/edit.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/gconsole.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/gutils.py
===================================================================
--- trunk/lib/gutils.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/gutils.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/initialize.py
===================================================================
--- trunk/lib/initialize.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/initialize.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/loan.py
===================================================================
--- trunk/lib/loan.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/loan.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/main_treeview.py
===================================================================
--- trunk/lib/main_treeview.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/main_treeview.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/movie.py
===================================================================
--- trunk/lib/movie.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/movie.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/people.py
===================================================================
--- trunk/lib/people.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/people.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/export/PluginExportHTML.py
===================================================================
--- trunk/lib/plugins/export/PluginExportHTML.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/export/PluginExportHTML.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -3,7 +3,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Piotr O?arowski
+# Copyright (c) 2005-2009 Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2007-2008 Michael Jahn
+# Copyright (c) 2007-2009 Michael Jahn
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/movie/PluginMovieKinoDe.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieKinoDe.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/movie/PluginMovieKinoDe.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2006-2008
+# Copyright (c) 2006-2009
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/movie/PluginMoviePTGate.py
===================================================================
--- trunk/lib/plugins/movie/PluginMoviePTGate.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/movie/PluginMoviePTGate.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr Ozarowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr Ozarowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/plugins/movie/PluginMovieStopklatka.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieStopklatka.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/plugins/movie/PluginMovieStopklatka.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Piotr O?arowski
+# Copyright (c) 2005-2009 Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/preferences.py
===================================================================
--- trunk/lib/preferences.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/preferences.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/quick_filter.py
===================================================================
--- trunk/lib/quick_filter.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/quick_filter.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/sql.py
===================================================================
--- trunk/lib/sql.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/sql.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -3,7 +3,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/test_movieplugins.py
===================================================================
--- trunk/lib/test_movieplugins.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/test_movieplugins.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2006-2008
+# Copyright (c) 2006-2009
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/version.py
===================================================================
--- trunk/lib/version.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/version.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -22,7 +22,7 @@
 # GNU General Public License, version 2 or later
 
 pname        = "Griffith"
-pversion     = "0.10-beta2~svn"
+pversion     = "0.10-beta2"
 pauthor      = "Vasco Nunes, Piotr O?arowski <griffith-private at lists.berlios.de>"
 pyear        = "2005-2009"
 pwebsite     = "http://www.griffith.cc/"

Modified: trunk/lib/view.py
===================================================================
--- trunk/lib/view.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/view.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/lib/widgets.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by

Modified: trunk/winpackage.iss
===================================================================
--- trunk/winpackage.iss	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/winpackage.iss	2009-02-08 23:20:39 UTC (rev 1154)
@@ -3,7 +3,7 @@
 
 [Setup]
 AppName=Griffith
-AppVerName=Griffith 0.10-beta1
+AppVerName=Griffith 0.10-beta2
 AppPublisher=Vasco Nunes, Piotr O?arowski
 AppPublisherURL=http://griffith.cc/
 AppSupportURL=http://griffith.cc/
@@ -14,7 +14,7 @@
 LicenseFile=COPYING
 InfoAfterFile=README
 OutputDir=installer
-OutputBaseFilename=griffith-0.10-beta1-win32
+OutputBaseFilename=griffith-0.10-beta2-win32
 SetupIconFile=images\griffith.ico
 Compression=lzma
 SolidCompression=true
@@ -22,8 +22,8 @@
 InternalCompressLevel=ultra
 AppCopyright=Vasco Nunes/Piotr Ozarowski
 DisableStartupPrompt=false
-AppVersion=0.10-beta1
-VersionInfoVersion=0.10.0
+AppVersion=0.10-beta2
+VersionInfoVersion=0.10.1
 
 [Languages]
 Name: eng; MessagesFile: compiler:Default.isl

Modified: trunk/winsetup.py
===================================================================
--- trunk/winsetup.py	2009-02-08 21:51:40 UTC (rev 1153)
+++ trunk/winsetup.py	2009-02-08 23:20:39 UTC (rev 1154)
@@ -54,10 +54,10 @@
 
 setup(
     name = "Griffith",
-    version = "0.10-beta1",
+    version = "0.10-beta2",
     description = 'Griffith - A film manager',
     author = 'Vasco Nunes/Piotr Ozarowski',
-    author_email = 'vasco.m.nunes at gmail.com',
+    author_email = 'griffith-private at lists.berlios.de',
     url = 'http://www.griffith.cc/',
     license = 'GPL',
     windows = [



From piotrek at mail.berlios.de  Mon Feb  9 23:34:37 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Mon, 9 Feb 2009 23:34:37 +0100
Subject: [Griffith-svn] r1156 - in trunk: . i18n/bg/LC_MESSAGES
	i18n/ca/LC_MESSAGES i18n/cs/LC_MESSAGES i18n/da/LC_MESSAGES
	i18n/de/LC_MESSAGES i18n/el/LC_MESSAGES
	i18n/en_GB/LC_MESSAGES i18n/es/LC_MESSAGES
	i18n/et/LC_MESSAGES i18n/fa/LC_MESSAGES i18n/fi/LC_MESSAGES
	i18n/fr/LC_MESSAGES i18n/hu/LC_MESSAGES i18n/id/LC_MESSAGES
	i18n/it/LC_MESSAGES i18n/ja/LC_MESSAGES i18n/ko/LC_MESSAGES
	i18n/lv/LC_MESSAGES i18n/nb/LC_MESSAGES i18n/nds/LC_MESSAGES
	i18n/nl/LC_MESSAGES i18n/oc/LC_MESSAGES i18n/pl/LC_MESSAGES
	i18n/ps/LC_MESSAGES i18n/pt/LC_MESSAGES
	i18n/pt_BR/LC_MESSAGES i18n/ru/LC_MESSAGES
	i18n/sk/LC_MESSAGES i18n/sr/LC_MESSAGES i18n/sv/LC_MESSAGES
	i18n/tr/LC_MESSAGES i18n/uk/LC_MESSAGES
	i18n/zh_CN/LC_MESSAGES lib po
Message-ID: <200902092234.n19MYb7w001404@sheep.berlios.de>

Author: piotrek
Date: 2009-02-09 23:34:34 +0100 (Mon, 09 Feb 2009)
New Revision: 1156

Modified:
   trunk/ChangeLog
   trunk/i18n/bg/LC_MESSAGES/griffith.mo
   trunk/i18n/ca/LC_MESSAGES/griffith.mo
   trunk/i18n/cs/LC_MESSAGES/griffith.mo
   trunk/i18n/da/LC_MESSAGES/griffith.mo
   trunk/i18n/de/LC_MESSAGES/griffith.mo
   trunk/i18n/el/LC_MESSAGES/griffith.mo
   trunk/i18n/en_GB/LC_MESSAGES/griffith.mo
   trunk/i18n/es/LC_MESSAGES/griffith.mo
   trunk/i18n/et/LC_MESSAGES/griffith.mo
   trunk/i18n/fa/LC_MESSAGES/griffith.mo
   trunk/i18n/fi/LC_MESSAGES/griffith.mo
   trunk/i18n/fr/LC_MESSAGES/griffith.mo
   trunk/i18n/hu/LC_MESSAGES/griffith.mo
   trunk/i18n/id/LC_MESSAGES/griffith.mo
   trunk/i18n/it/LC_MESSAGES/griffith.mo
   trunk/i18n/ja/LC_MESSAGES/griffith.mo
   trunk/i18n/ko/LC_MESSAGES/griffith.mo
   trunk/i18n/lv/LC_MESSAGES/griffith.mo
   trunk/i18n/nb/LC_MESSAGES/griffith.mo
   trunk/i18n/nds/LC_MESSAGES/griffith.mo
   trunk/i18n/nl/LC_MESSAGES/griffith.mo
   trunk/i18n/oc/LC_MESSAGES/griffith.mo
   trunk/i18n/pl/LC_MESSAGES/griffith.mo
   trunk/i18n/ps/LC_MESSAGES/griffith.mo
   trunk/i18n/pt/LC_MESSAGES/griffith.mo
   trunk/i18n/pt_BR/LC_MESSAGES/griffith.mo
   trunk/i18n/ru/LC_MESSAGES/griffith.mo
   trunk/i18n/sk/LC_MESSAGES/griffith.mo
   trunk/i18n/sr/LC_MESSAGES/griffith.mo
   trunk/i18n/sv/LC_MESSAGES/griffith.mo
   trunk/i18n/tr/LC_MESSAGES/griffith.mo
   trunk/i18n/uk/LC_MESSAGES/griffith.mo
   trunk/i18n/zh_CN/LC_MESSAGES/griffith.mo
   trunk/lib/movie.py
   trunk/po/bg.po
   trunk/po/ca.po
   trunk/po/cs.po
   trunk/po/da.po
   trunk/po/de.po
   trunk/po/el.po
   trunk/po/en_GB.po
   trunk/po/es.po
   trunk/po/et.po
   trunk/po/fa.po
   trunk/po/fi.po
   trunk/po/fr.po
   trunk/po/hu.po
   trunk/po/id.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/ko.po
   trunk/po/lv.po
   trunk/po/messages.pot
   trunk/po/nb.po
   trunk/po/nds.po
   trunk/po/nl.po
   trunk/po/oc.po
   trunk/po/pl.po
   trunk/po/ps.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sk.po
   trunk/po/sr.po
   trunk/po/sv.po
   trunk/po/tr.po
   trunk/po/uk.po
   trunk/po/zh_CN.po
Log:
* add get_resolution and get_barcode to Movie class
* translation files regenerated


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/ChangeLog	2009-02-09 22:34:34 UTC (rev 1156)
@@ -5,8 +5,11 @@
 (c) 2005-2009  Vasco Nunes, Piotr O??arowski
 
 
----- 0.10-beta1 ----
+---- 0.10-beta2 ----
 
+2009-02-09  Piotr O??arowski
+	* Releasing 0.10-beta2
+
 2009-02-07  Michael Jahn
 	* CineMovies movie plugin updated
 

Modified: trunk/i18n/bg/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ca/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/cs/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/da/LC_MESSAGES/griffith.mo
===================================================================
--- trunk/i18n/da/LC_MESSAGES/griffith.mo	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/i18n/da/LC_MESSAGES/griffith.mo	2009-02-09 22:34:34 UTC (rev 1156)
@@ -149,7 +149,7 @@
 utf_7 (all languages)
 utf_8 (all languages)
 Report-Msgid-Bugs-To: 
-POT-Creation-Date: 2009-02-09 00:28+0100
+POT-Creation-Date: 2009-02-09 23:22+0100
 PO-Revision-Date: 2008-07-23 17:55+0000
 Last-Translator: Piotr O??arowski <Unknown>
 Language-Team: Dansk-gruppen <dansk at dansk-gruppen.dk>

Modified: trunk/i18n/de/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/el/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/en_GB/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/es/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/et/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fa/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fi/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/hu/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/id/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/it/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ja/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ko/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/lv/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nb/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nds/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nl/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/oc/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pl/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ps/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pt/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pt_BR/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ru/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sk/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sv/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/tr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/uk/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/zh_CN/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/lib/movie.py
===================================================================
--- trunk/lib/movie.py	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/lib/movie.py	2009-02-09 22:34:34 UTC (rev 1156)
@@ -55,6 +55,8 @@
     year = None
     screenplay = None
     cameraman = None
+    resolution = None
+    barcode = None
     
     movie_id = None
     debug = False
@@ -74,6 +76,10 @@
     # functions that plugin should implement: {{{
     def initialize(self):
         pass
+    def get_barcode(self):
+        pass
+    def get_cameraman(self):
+        pass
     def get_cast(self):
         pass
     def get_classification(self):
@@ -96,8 +102,12 @@
         pass
     def get_rating(self):
         pass
+    def get_resolution(self):
+        pass
     def get_runtime(self):
         pass
+    def get_screenplay(self):
+        pass
     def get_site(self):
         pass
     def get_studio(self):
@@ -108,10 +118,6 @@
         pass
     def get_year(self):
         pass
-    def get_screenplay(self):
-        pass
-    def get_cameraman(self):
-        pass
     #}}}
 
     def __getitem__(self, key):

Modified: trunk/po/bg.po
===================================================================
--- trunk/po/bg.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/bg.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:19+0000\n"
 "Last-Translator: Emil Pavlov <emil.p.pavlov at gmail.com>\n"
 "Language-Team: Bulgarian <dict at fsa-bg.org>\n"
@@ -490,12 +490,12 @@
 msgid "No posters found for this movie."
 msgstr "???????? ???????????????? ?????????????? ???? ???????? ????????."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "?????????????????? ???? ????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "?????????????????? ????????????"
 
@@ -882,20 +882,20 @@
 msgid "Movie not loaned"
 msgstr "???????????? ???? ?? ??????????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "?????????????????? ???? ????????????????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "??????????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "???????????? ?????? ??????????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????????"
 

Modified: trunk/po/ca.po
===================================================================
--- trunk/po/ca.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/ca.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:38+0000\n"
 "Last-Translator: el_libre XDDDDDDDDDDDDDDDDDDDDDDDDDDD <el.libre at gmail.com>\n"
 "Language-Team: Catalan <ca at li.org>\n"
@@ -492,12 +492,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Espera un moment"
 
@@ -877,20 +877,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "S'est?? cercant"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Error de connexi??"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Cance??la"
 

Modified: trunk/po/cs.po
===================================================================
--- trunk/po/cs.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/cs.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:55+0000\n"
 "Last-Translator: Petr Pulc <petrpulc at gmail.com>\n"
 "Language-Team: Gnome Czech <gnome-cs-list at gnome.org>\n"
@@ -501,12 +501,12 @@
 msgid "No posters found for this movie."
 msgstr "????dn?? plak??ty pro tento film."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Stahuji plak??t"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Moment pros??m"
 
@@ -888,20 +888,20 @@
 msgid "Movie not loaned"
 msgstr "Filmy nebyl p??j??en"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Stahuji data"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Hled??m"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Chyba spojen??"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Storno"
 

Modified: trunk/po/da.po
===================================================================
--- trunk/po/da.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/da.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:55+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Dansk-gruppen <dansk at dansk-gruppen.dk>\n"
@@ -503,12 +503,12 @@
 msgid "No posters found for this movie."
 msgstr "Ingen plakater fundet vedr??rende denne film."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Henter plakater"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Vent et ??jeblik"
 
@@ -895,20 +895,20 @@
 msgid "Movie not loaned"
 msgstr "Film er ikke udl??nt"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Henter data"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "S??ger"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Forbindelsesfejl"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Annuller"
 

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/de.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-12-16 22:07+0000\n"
 "Last-Translator: Michael <mikej06 at hotmail.com>\n"
 "Language-Team: German <de at li.org>\n"
@@ -507,12 +507,12 @@
 msgid "No posters found for this movie."
 msgstr "Es wurden f??r diesen Film keine Poster gefunden."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Poster holen"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Bitte warten"
 
@@ -902,20 +902,20 @@
 msgid "Movie not loaned"
 msgstr "Film nicht verliehen"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Daten abrufen"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Suche"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Verbindungsfehler"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Abbrechen"
 

Modified: trunk/po/el.po
===================================================================
--- trunk/po/el.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/el.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2009-02-08 21:59+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Greek <el at li.org>\n"
@@ -506,12 +506,12 @@
 msgid "No posters found for this movie."
 msgstr "?????? ???????????????? ???????????? ????'???????? ?????? ????????????."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "???????? ????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "???????????????? ????????????????????"
 
@@ -900,20 +900,20 @@
 msgid "Movie not loaned"
 msgstr "?? ???????????? ?????? ????????????????????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "???????? ??????????????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "??????????????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "???????????? ????????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????????"
 

Modified: trunk/po/en_GB.po
===================================================================
--- trunk/po/en_GB.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/en_GB.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-12-05 13:45+0000\n"
 "Last-Translator: Josh Holland <Unknown>\n"
 "Language-Team: English (United Kingdom) <en_GB at li.org>\n"
@@ -507,12 +507,12 @@
 msgid "No posters found for this movie."
 msgstr "No posters found for this movie."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Fetching poster"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Wait a moment"
 
@@ -901,20 +901,20 @@
 msgid "Movie not loaned"
 msgstr "Film not loaned"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Fetching data"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Searching"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Connection error"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Cancel"
 

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/es.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2009-02-04 01:11+0000\n"
 "Last-Translator: DiegoJ <diegojromerolopez at gmail.com>\n"
 "Language-Team: Spanish <es at li.org>\n"
@@ -509,12 +509,12 @@
 msgid "No posters found for this movie."
 msgstr "No se ha encontrado cartel para esta pel??cula"
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Obteniendo cartel"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Espere un momento"
 
@@ -906,20 +906,20 @@
 msgid "Movie not loaned"
 msgstr "Pel??cula no prestada"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Obtener datos"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Buscando"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Error de conexi??n"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Cancelar"
 

Modified: trunk/po/et.po
===================================================================
--- trunk/po/et.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/et.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:17+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Estonian <et at li.org>\n"
@@ -488,12 +488,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -873,20 +873,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/fa.po
===================================================================
--- trunk/po/fa.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/fa.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-03-29 07:29+0000\n"
 "Last-Translator: Artin <Unknown>\n"
 "Language-Team: Persian <fa at li.org>\n"
@@ -482,12 +482,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -867,20 +867,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/fi.po
===================================================================
--- trunk/po/fi.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/fi.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-05-04 09:49+0000\n"
 "Last-Translator: Kari Argillander <Unknown>\n"
 "Language-Team: Finnish <fi at li.org>\n"
@@ -493,12 +493,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -878,20 +878,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/fr.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:56+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Fran??ais\n"
@@ -506,12 +506,12 @@
 msgid "No posters found for this movie."
 msgstr "Aucune affiche trouv??e pour ce film"
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "R??cup??ration de l'affiche"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Attendez un instant"
 
@@ -902,20 +902,20 @@
 msgid "Movie not loaned"
 msgstr "Film non pr??t??"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Rappatriement des donn??es"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Recherche"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Erreur de connexion"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Abandon"
 

Modified: trunk/po/hu.po
===================================================================
--- trunk/po/hu.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/hu.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 11:41+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Hungarian <hu at li.org>\n"
@@ -484,12 +484,12 @@
 msgid "No posters found for this movie."
 msgstr "Nem tal??lhat??k poszterek ebben a filmben."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -869,20 +869,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/id.po
===================================================================
--- trunk/po/id.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/id.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:17+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Indonesian <id at li.org>\n"
@@ -498,12 +498,12 @@
 msgid "No posters found for this movie."
 msgstr "Tidak ditemukan poster untuk film ini."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Ambil poster"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Tunggu sebentar"
 
@@ -888,20 +888,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Batal"
 

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/it.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-12-22 23:39+0000\n"
 "Last-Translator: Simone Oberti <Unknown>\n"
 "Language-Team: <tp at lists.linux.it>\n"
@@ -504,12 +504,12 @@
 msgid "No posters found for this movie."
 msgstr "Nessuna locandina trovata per questo film."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Prelevamento locandina"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Attendere un momento"
 
@@ -900,20 +900,20 @@
 msgid "Movie not loaned"
 msgstr "Film non prestato"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Acquisizione dati"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Ricerca in corso"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Errore di connessione"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Annulla"
 

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/ja.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 11:37+0000\n"
 "Last-Translator: Jack Nihil <jnihil at gmail.com>\n"
 "Language-Team: Japanese <ja at li.org>\n"
@@ -487,12 +487,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -872,20 +872,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/ko.po
===================================================================
--- trunk/po/ko.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/ko.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:13+0000\n"
 "Last-Translator: ChangeTheWorld <ssalki77 at gmail.com>\n"
 "Language-Team: Korean\n"
@@ -497,12 +497,12 @@
 msgid "No posters found for this movie."
 msgstr "?????? ???????????? ?????? ??? ???????????????."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "???????????? ???????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "????????? ????????? ????????????"
 
@@ -886,20 +886,20 @@
 msgid "Movie not loaned"
 msgstr "?????? ?????? ??????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "???????????? ????????????????????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "??????????????????."
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "?????? ??????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????"
 

Modified: trunk/po/lv.po
===================================================================
--- trunk/po/lv.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/lv.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:34+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Latvian <lv at li.org>\n"
@@ -482,12 +482,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Mirkliti uzgaidiet"
 
@@ -867,20 +867,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Notiek mekl????ana"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Atcelt"
 

Modified: trunk/po/messages.pot
===================================================================
--- trunk/po/messages.pot	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/messages.pot	2009-02-09 22:34:34 UTC (rev 1156)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:33+0100\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL at ADDRESS>\n"
 "Language-Team: LANGUAGE <LL at li.org>\n"
@@ -481,12 +481,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -866,20 +866,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr ""
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr ""
 

Modified: trunk/po/nb.po
===================================================================
--- trunk/po/nb.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/nb.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2009-01-30 19:31+0000\n"
 "Last-Translator: Eirik Fikkan <Unknown>\n"
 "Language-Team: Norwegian Bokmal <nb at li.org>\n"
@@ -500,12 +500,12 @@
 msgid "No posters found for this movie."
 msgstr "Ingen plakater er funnet for denne filmen."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Henter plakat"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Vent et ??yeblikk"
 
@@ -890,20 +890,20 @@
 msgid "Movie not loaned"
 msgstr "Filmen er ikke utl??nt"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Henter data"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "S??ker"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Feil med tilkobling"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Avbryt"
 

Modified: trunk/po/nds.po
===================================================================
--- trunk/po/nds.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/nds.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:30+0100\n"
 "PO-Revision-Date: 2009-01-01 15:46+0000\n"
 "Last-Translator: apank <Unknown>\n"
 "Language-Team: German, Low <nds at li.org>\n"
@@ -246,17 +246,7 @@
 
 #: ../lib/backup.py:36
 msgid "Save Griffith backup"
-msgstr ""
-"- Griffith-Backup speichern\r\n"
-"  (= save griffith backup)\r\n"
-"\r\n"
-"- Backup erstellen\r\n"
-"  (=create backup)\r\n"
-"\r\n"
-"- Backup der Datenbank erstellen\r\n"
-"  (= create a backup of the database)\r\n"
-"\r\n"
-"--> choose what matches the overall style best"
+msgstr "Backup erstellen"
 
 #: ../lib/backup.py:45 ../lib/plugins/export/PluginExportCSV.py:58
 #: ../lib/plugins/export/PluginExportiPod.py:105
@@ -522,12 +512,12 @@
 msgid "No posters found for this movie."
 msgstr "Keine Poster f??r diesen Film gefunden."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Lade Poster .."
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Bitte warten Sie einen Moment"
 
@@ -690,11 +680,7 @@
 #: ../lib/initialize.py:573 ../lib/plugins/export/PluginExportHTML.py:134
 #: ../lib/plugins/export/PluginExportPDF.py:171 ../glade/griffith.glade.h:38
 msgid "Cast"
-msgstr ""
-"- Besetzung\r\n"
-"\r\n"
-"- Darsteller und Mitwirkende\r\n"
-"  (= actors and participants)"
+msgstr "Besetzung"
 
 #: ../lib/initialize.py:574 ../glade/griffith.glade.h:37
 msgid "Cameraman"
@@ -716,13 +702,7 @@
 #: ../lib/plugins/movie/PluginMovieIMDB-de.py:403
 #: ../lib/plugins/movie/PluginMovieIMDB.py:163 ../glade/griffith.glade.h:44
 msgid "Color"
-msgstr ""
-"- Farbe\r\n"
-"\r\n"
-"- Farbsystem\r\n"
-"  (= in case of color system like PAL, NTSC, etc.)\r\n"
-"\r\n"
-"--> choose depending on context"
+msgstr "Farbe"
 
 #: ../lib/initialize.py:578 ../glade/griffith.glade.h:45
 msgid "Condition"
@@ -739,15 +719,7 @@
 #: ../lib/initialize.py:585 ../lib/plugins/export/PluginExportHTML.py:144
 #: ../glade/griffith.glade.h:55
 msgid "Discs"
-msgstr ""
-"- DVDs\r\n"
-"  (number of discs in case of DVDs)\r\n"
-"\r\n"
-"- CDs\r\n"
-"  (number of discs in case of CDs)\r\n"
-"\r\n"
-"- Disks\r\n"
-"  (number of discs in general case - term is adopted in german)"
+msgstr "Disks"
 
 #: ../lib/initialize.py:586 ../glade/griffith.glade.h:92
 msgid "Medium"
@@ -935,20 +907,20 @@
 msgid "Movie not loaned"
 msgstr "Film nicht ausgeliehen."
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Lese Daten ..."
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Suche l??uft ..."
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Verbindungsfehler"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Abbrechen"
 
@@ -2481,18 +2453,3 @@
 #: ../glade/import.glade.h:9
 msgid "Source"
 msgstr "Quelle"
-
-#~ msgid "This name is already in use!"
-#~ msgstr "Dieser Name wird bereits verwendet!"
-
-#~ msgid " movie(s) loaned. "
-#~ msgstr " Film(e) ausgeliehen. "
-
-#~ msgid "Column \"%s\" is not unique"
-#~ msgstr "Spalte \"%s\" ist nicht eindeutig."
-
-#~ msgid "Select A File"
-#~ msgstr "Datei ausw??hlen"
-
-#~ msgid "By Volume"
-#~ msgstr "Nach Volume"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/nl.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 11:56+0000\n"
 "Last-Translator: Gijs Dekker <dekker.gijs at gmail.com>\n"
 "Language-Team: Dutch <vertaling at vrijschrift.org>\n"
@@ -501,12 +501,12 @@
 msgid "No posters found for this movie."
 msgstr "Voor deze film zijn geen posters gevonden."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Poster aan het binnenhalen"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Even geduld a.u.b."
 
@@ -894,20 +894,20 @@
 msgid "Movie not loaned"
 msgstr "Deze film is niet uitgeleend"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Binnenhalen gegevens"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Bezig met Zoeken"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Verbindingsfout"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Annuleren"
 

Modified: trunk/po/oc.po
===================================================================
--- trunk/po/oc.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/oc.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:16+0000\n"
 "Last-Translator: Yannig MARCHEGAY (Kokoyaya) <yannig at marchegay.org>\n"
 "Language-Team: Occitan (post 1500) <oc at li.org>\n"
@@ -482,12 +482,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -867,20 +867,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Rec??rca"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr ""
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Anullar"
 

Modified: trunk/po/pl.po
===================================================================
--- trunk/po/pl.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/pl.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2009-02-09 00:23+0000\n"
 "Last-Translator: Piotr O??arowski <piotr at griffith.cc>\n"
 "Language-Team: Polski\n"
@@ -504,12 +504,12 @@
 msgid "No posters found for this movie."
 msgstr "Nie znaleziono plakat??w dla tego filmu."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Pobieram plakat"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Prosz?? czeka??"
 
@@ -897,20 +897,20 @@
 msgid "Movie not loaned"
 msgstr "Film dost??pny"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Pobieram dane"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Szukam"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "B????d po????czenia"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Anuluj"
 

Modified: trunk/po/ps.po
===================================================================
--- trunk/po/ps.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/ps.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-12-06 21:07+0000\n"
 "Last-Translator: Baseer Ahmad Baheer <suraj.lmar at gmail.com>\n"
 "Language-Team: Pashto <ps at li.org>\n"
@@ -494,12 +494,12 @@
 msgid "No posters found for this movie."
 msgstr "?? ???? ?????? ?????????? ???????? ???????????????? ?????? ?????????? ??????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "?? ???????????? ???????????? ???? ???????????? ????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "?????? ???????? ???? ????"
 
@@ -884,20 +884,20 @@
 msgid "Movie not loaned"
 msgstr "?????? ???? ???? ?????? ??????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "???????? ???????????????? ????????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "???????? ????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "?? ?????????? ??????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????????"
 

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/pt.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: Rui Ara?jo <ruka.araujo at gmail.com>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -506,12 +506,12 @@
 msgid "No posters found for this movie."
 msgstr "N?o foram encontrados cartazes deste filme."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Obter imagem"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Aguarde um momento"
 
@@ -900,20 +900,20 @@
 msgid "Movie not loaned"
 msgstr "O filme n?o est? emprestado"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Obter dados"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "A pesquisar"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Erro na liga??o"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Cancelar"
 

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/pt_BR.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -9,7 +9,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-10-17 19:39+0000\n"
 "Last-Translator: ThiagoSerra <thiagoserra at yahoo.com.br>\n"
 "Language-Team: Portuguese\n"
@@ -509,12 +509,12 @@
 msgid "No posters found for this movie."
 msgstr "N??o foram encontrados p??steres deste filme."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Buscando p??ster"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Aguarde um momento"
 
@@ -901,20 +901,20 @@
 msgid "Movie not loaned"
 msgstr "O filme n??o est?? emprestado"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Obtendo dados"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Pesquisando"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Erro de conex??o"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Cancelar"
 

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/ru.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-12-29 20:42+0000\n"
 "Last-Translator: Andrew Krasilnikov <Unknown>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -502,12 +502,12 @@
 msgid "No posters found for this movie."
 msgstr "?????? ???????????????? ?????? ?????????? ????????????."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "?????????????????? ??????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "????????????????????, ??????????????????"
 
@@ -895,20 +895,20 @@
 msgid "Movie not loaned"
 msgstr "?????????? ???? ??????????????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "?????????????????? ????????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "???????? ??????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "???????????? ????????????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "????????????"
 

Modified: trunk/po/sk.po
===================================================================
--- trunk/po/sk.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/sk.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 11:57+0000\n"
 "Last-Translator: Maro?? Brojo <majobrojo at gmail.com>\n"
 "Language-Team: Slovak <sk at li.org>\n"
@@ -484,12 +484,12 @@
 msgid "No posters found for this movie."
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr ""
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr ""
 
@@ -870,20 +870,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "H??ad??m...."
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Chyba spojenia"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Zru??"
 

Modified: trunk/po/sr.po
===================================================================
--- trunk/po/sr.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/sr.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 11:46+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Serbian <gnu at prevod.org>\n"
@@ -500,12 +500,12 @@
 msgid "No posters found for this movie."
 msgstr "???? ???????? ???????? ???????? ???????????????? ????????????."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "????????????????????..."
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "?????????????????? ???? ????????????????"
 
@@ -891,20 +891,20 @@
 msgid "Movie not loaned"
 msgstr "???????? ???????? ??????????????????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "????????????????????..."
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "????????????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "???????????? ?? ????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "????????????"
 

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/sv.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -503,12 +503,12 @@
 msgid "No posters found for this movie."
 msgstr "Ingen poster hittades f??r den h??r filmen."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "H??mtar poster"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "Var god v??nta"
 
@@ -897,20 +897,20 @@
 msgid "Movie not loaned"
 msgstr "Filmen inte utl??nad"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "H??mtar data"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "S??ker"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Anslutningsfel"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "Avbryt"
 

Modified: trunk/po/tr.po
===================================================================
--- trunk/po/tr.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/tr.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: HdS619 <thestreet at hotmail.it>\n"
 "Language-Team: Turkish <tr at li.org>\n"
@@ -500,12 +500,12 @@
 msgid "No posters found for this movie."
 msgstr "Film i??in poster bulunamad??."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "Poster al??n??yor"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "L??tfen bekleyiniz"
 
@@ -892,20 +892,20 @@
 msgid "Movie not loaned"
 msgstr "Film ??d??n?? al??nmam????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "Bilgi al??n??yor"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "Aran??yor"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "Ba??lant?? hatas??"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??ptal"
 

Modified: trunk/po/uk.po
===================================================================
--- trunk/po/uk.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/uk.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:29+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Ukrainian <uk at li.org>\n"
@@ -499,12 +499,12 @@
 msgid "No posters found for this movie."
 msgstr "?????????? ???????? ?????? ?????????? ????????????.."
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "?????????????????? ??????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "?????????????????? ????????????????"
 
@@ -889,20 +889,20 @@
 msgid "Movie not loaned"
 msgstr "?????????? ???? ????????????????"
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr "?????????????????? ??????????"
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "??????????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "?????????????? ??'??????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????????????????"
 

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2009-02-08 23:28:40 UTC (rev 1155)
+++ trunk/po/zh_CN.po	2009-02-09 22:34:34 UTC (rev 1156)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 00:28+0100\n"
+"POT-Creation-Date: 2009-02-09 23:22+0100\n"
 "PO-Revision-Date: 2008-11-18 12:33+0000\n"
 "Last-Translator: Kempson Chen <kempson.chen at gmail.com>\n"
 "Language-Team: Simplified Chinese <zh_CN at li.org>\n"
@@ -495,12 +495,12 @@
 msgid "No posters found for this movie."
 msgstr "????????????????????????????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:180
+#: ../lib/edit.py:251 ../lib/movie.py:186
 msgid "Fetching poster"
 msgstr "??????????????????"
 
-#: ../lib/edit.py:251 ../lib/movie.py:129 ../lib/movie.py:149
-#: ../lib/movie.py:180 ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/edit.py:251 ../lib/movie.py:135 ../lib/movie.py:155
+#: ../lib/movie.py:186 ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Wait a moment"
 msgstr "????????????"
 
@@ -880,20 +880,20 @@
 msgid "Movie not loaned"
 msgstr ""
 
-#: ../lib/movie.py:129 ../lib/movie.py:149
+#: ../lib/movie.py:135 ../lib/movie.py:155
 msgid "Fetching data"
 msgstr ""
 
-#: ../lib/movie.py:280 ../lib/movie.py:301
+#: ../lib/movie.py:286 ../lib/movie.py:307
 msgid "Searching"
 msgstr "??????"
 
-#: ../lib/movie.py:344 ../lib/plugins/movie/PluginMovieAmazon.py:348
+#: ../lib/movie.py:350 ../lib/plugins/movie/PluginMovieAmazon.py:348
 #: ../lib/plugins/movie/PluginMovieAmazon.py:362
 msgid "Connection error"
 msgstr "????????????"
 
-#: ../lib/movie.py:386
+#: ../lib/movie.py:392
 msgid "Cancel"
 msgstr "??????"
 



From kura666 at mail.berlios.de  Tue Feb 10 15:43:12 2009
From: kura666 at mail.berlios.de (kura666 at mail.berlios.de)
Date: Tue, 10 Feb 2009 15:43:12 +0100
Subject: [Griffith-svn] r1157 - trunk/lib/plugins/movie
Message-ID: <200902101443.n1AEhCRR005254@sheep.berlios.de>

Author: kura666
Date: 2009-02-10 15:43:03 +0100 (Tue, 10 Feb 2009)
New Revision: 1157

Modified:
   trunk/lib/plugins/movie/PluginMovieFDb.py
Log:
FDb movie plugin updated


Modified: trunk/lib/plugins/movie/PluginMovieFDb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFDb.py	2009-02-09 22:34:34 UTC (rev 1156)
+++ trunk/lib/plugins/movie/PluginMovieFDb.py	2009-02-10 14:43:03 UTC (rev 1157)
@@ -32,7 +32,7 @@
 plugin_language        = _('Polish')
 plugin_author        = 'Piotr O?arowski, Bartosz Kurczewski'
 plugin_author_email    = '<bartosz.kurczewski at gmail.com>'
-plugin_version        = '1.13'
+plugin_version        = '1.14'
 
 class Plugin(movie.Movie):
     TRAILER_PATTERN = re.compile('/film/.*/zwiastuny/odtwarzaj/[0-9]*')
@@ -47,7 +47,7 @@
             self.url = "http://fdb.pl/%s" % str(movie_id)
 
     def get_image(self):
-        self.image_url = gutils.trim(self.page, 'class="poster"', '/></a>')
+        self.image_url = gutils.trim(self.page, 'class="gfx-poster"', '/></a>')
         self.image_url = gutils.trim(self.image_url,'src="','"')
         if self.image_url.endswith('http://fdb.pl/images/fdb2/add_poster.png?1214306282'):
             self.image_url = ''



From piotrek at mail.berlios.de  Tue Feb 10 21:15:19 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Tue, 10 Feb 2009 21:15:19 +0100
Subject: [Griffith-svn] r1158 - in trunk: . debian lib
Message-ID: <200902102015.n1AKFJrq000343@sheep.berlios.de>

Author: piotrek
Date: 2009-02-10 21:15:18 +0100 (Tue, 10 Feb 2009)
New Revision: 1158

Modified:
   trunk/ChangeLog
   trunk/debian/changelog
   trunk/lib/dbupgrade.py
Log:
Fix upgrading from v2 to v4 (columns that are not available yet, are not used)


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-10 14:43:03 UTC (rev 1157)
+++ trunk/ChangeLog	2009-02-10 20:15:18 UTC (rev 1158)
@@ -7,7 +7,8 @@
 
 ---- 0.10-beta2 ----
 
-2009-02-09  Piotr O?arowski
+2009-02-10  Piotr O?arowski
+	* Fix upgrading from v2 to v4 (columns that are not available yet, are not used)
 	* Releasing 0.10-beta2
 
 2009-02-07  Michael Jahn

Modified: trunk/debian/changelog
===================================================================
--- trunk/debian/changelog	2009-02-10 14:43:03 UTC (rev 1157)
+++ trunk/debian/changelog	2009-02-10 20:15:18 UTC (rev 1158)
@@ -8,7 +8,7 @@
     + python-sqlite moved to Suggests
     + ipython added to Suggests (--shell option)
 
- -- Piotr O?arowski <piotr at debian.org>  Mon, 09 Feb 2009 00:03:38 +0100
+ -- Piotr O?arowski <piotr at debian.org>  Tue, 10 Feb 2009 21:08:30 +0100
 
 griffith (0.10~beta1-1) experimental; urgency=low
 

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-10 14:43:03 UTC (rev 1157)
+++ trunk/lib/dbupgrade.py	2009-02-10 20:15:18 UTC (rev 1158)
@@ -152,37 +152,41 @@
         
         log.info('... saving posters in database')
         posters_dir = get_old_posters_location(locations['home'], config, clean_config=True)
-        for movie in self.session.query(db.Movie).all():
+        updated = {}
+        movies_table = db.tables['movies']
+        for movie in self.session.query(db.Movie.image).all():
             poster_file_name = os.path.join(posters_dir, "%s.jpg" % movie.image)
+            if poster_file_name in updated:
+                continue
             if os.path.isfile(poster_file_name):
                 poster_md5  = gutils.md5sum(file(poster_file_name, 'rb'))
                 poster = self.session.query(db.Poster).filter_by(md5sum=poster_md5).first()
                 if not poster:
                     poster = db.Poster(md5sum=poster_md5, data=file(poster_file_name, 'rb').read())
                     self.session.add(poster)
-                
-                movie.poster_md5 = poster_md5
-                movie.image = None
-                self.session.add(movie)
 
+                update_query = movies_table.update(movies_table.c.image==movie.image, {'poster_md5': poster_md5, 'image': None}, bind=b)
+
                 try:
                     # yeah, we're commiting inside the loop,
                     # it slows down the process a lot, but at least we can skip buggy posters
+                    update_query.execute()
                     self.session.commit()
                 except Exception, e:
                     self.session.rollback()
                     log.error(e)
                 else:
+                    updated[poster_file_name] = True
                     try:
                         os.remove(poster_file_name)
                     except:
                         log.warn("cannot remove %s", poster_file_name)
-
             else:
-                log.warn("file not found: number=%s, image=%s)", movie.number, movie.image)
-                movie.image = None
-                self.session.add(movie)
-                self.session.commit()
+                log.warn("file not found: %s)", movie.image)
+                update_query = movies_table.update(movies_table.c.image==movie.image, {'image': None}, bind=b)
+                update_query.execute()
+                updated[poster_file_name] = True
+        del updated
 
         db_version = self.session.query(db.Configuration).filter_by(param=u'version').one()
         db_version.value = unicode(version)



From piotrek at mail.berlios.de  Tue Feb 10 21:16:48 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Tue, 10 Feb 2009 21:16:48 +0100
Subject: [Griffith-svn] r1159 - in trunk: i18n/bg/LC_MESSAGES
	i18n/ca/LC_MESSAGES i18n/cs/LC_MESSAGES i18n/da/LC_MESSAGES
	i18n/de/LC_MESSAGES i18n/el/LC_MESSAGES
	i18n/en_GB/LC_MESSAGES i18n/es/LC_MESSAGES
	i18n/et/LC_MESSAGES i18n/fa/LC_MESSAGES i18n/fi/LC_MESSAGES
	i18n/fr/LC_MESSAGES i18n/hu/LC_MESSAGES i18n/id/LC_MESSAGES
	i18n/it/LC_MESSAGES i18n/ja/LC_MESSAGES i18n/ko/LC_MESSAGES
	i18n/lv/LC_MESSAGES i18n/nb/LC_MESSAGES i18n/nds/LC_MESSAGES
	i18n/nl/LC_MESSAGES i18n/oc/LC_MESSAGES i18n/pl/LC_MESSAGES
	i18n/ps/LC_MESSAGES i18n/pt/LC_MESSAGES
	i18n/pt_BR/LC_MESSAGES i18n/ru/LC_MESSAGES
	i18n/sk/LC_MESSAGES i18n/sr/LC_MESSAGES i18n/sv/LC_MESSAGES
	i18n/tr/LC_MESSAGES i18n/uk/LC_MESSAGES i18n/zh_CN/LC_MESSAGES po
Message-ID: <200902102016.n1AKGmcO000570@sheep.berlios.de>

Author: piotrek
Date: 2009-02-10 21:16:44 +0100 (Tue, 10 Feb 2009)
New Revision: 1159

Modified:
   trunk/i18n/bg/LC_MESSAGES/griffith.mo
   trunk/i18n/ca/LC_MESSAGES/griffith.mo
   trunk/i18n/cs/LC_MESSAGES/griffith.mo
   trunk/i18n/da/LC_MESSAGES/griffith.mo
   trunk/i18n/de/LC_MESSAGES/griffith.mo
   trunk/i18n/el/LC_MESSAGES/griffith.mo
   trunk/i18n/en_GB/LC_MESSAGES/griffith.mo
   trunk/i18n/es/LC_MESSAGES/griffith.mo
   trunk/i18n/et/LC_MESSAGES/griffith.mo
   trunk/i18n/fa/LC_MESSAGES/griffith.mo
   trunk/i18n/fi/LC_MESSAGES/griffith.mo
   trunk/i18n/fr/LC_MESSAGES/griffith.mo
   trunk/i18n/hu/LC_MESSAGES/griffith.mo
   trunk/i18n/id/LC_MESSAGES/griffith.mo
   trunk/i18n/it/LC_MESSAGES/griffith.mo
   trunk/i18n/ja/LC_MESSAGES/griffith.mo
   trunk/i18n/ko/LC_MESSAGES/griffith.mo
   trunk/i18n/lv/LC_MESSAGES/griffith.mo
   trunk/i18n/nb/LC_MESSAGES/griffith.mo
   trunk/i18n/nds/LC_MESSAGES/griffith.mo
   trunk/i18n/nl/LC_MESSAGES/griffith.mo
   trunk/i18n/oc/LC_MESSAGES/griffith.mo
   trunk/i18n/pl/LC_MESSAGES/griffith.mo
   trunk/i18n/ps/LC_MESSAGES/griffith.mo
   trunk/i18n/pt/LC_MESSAGES/griffith.mo
   trunk/i18n/pt_BR/LC_MESSAGES/griffith.mo
   trunk/i18n/ru/LC_MESSAGES/griffith.mo
   trunk/i18n/sk/LC_MESSAGES/griffith.mo
   trunk/i18n/sr/LC_MESSAGES/griffith.mo
   trunk/i18n/sv/LC_MESSAGES/griffith.mo
   trunk/i18n/tr/LC_MESSAGES/griffith.mo
   trunk/i18n/uk/LC_MESSAGES/griffith.mo
   trunk/i18n/zh_CN/LC_MESSAGES/griffith.mo
   trunk/po/bg.po
   trunk/po/ca.po
   trunk/po/cs.po
   trunk/po/da.po
   trunk/po/de.po
   trunk/po/el.po
   trunk/po/en_GB.po
   trunk/po/es.po
   trunk/po/et.po
   trunk/po/fa.po
   trunk/po/fi.po
   trunk/po/fr.po
   trunk/po/hu.po
   trunk/po/id.po
   trunk/po/it.po
   trunk/po/ja.po
   trunk/po/ko.po
   trunk/po/lv.po
   trunk/po/messages.pot
   trunk/po/nb.po
   trunk/po/nds.po
   trunk/po/nl.po
   trunk/po/oc.po
   trunk/po/pl.po
   trunk/po/ps.po
   trunk/po/pt.po
   trunk/po/pt_BR.po
   trunk/po/ru.po
   trunk/po/sk.po
   trunk/po/sr.po
   trunk/po/sv.po
   trunk/po/tr.po
   trunk/po/uk.po
   trunk/po/zh_CN.po
Log:
update translations files


Modified: trunk/i18n/bg/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ca/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/cs/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/da/LC_MESSAGES/griffith.mo
===================================================================
--- trunk/i18n/da/LC_MESSAGES/griffith.mo	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/i18n/da/LC_MESSAGES/griffith.mo	2009-02-10 20:16:44 UTC (rev 1159)
@@ -149,7 +149,7 @@
 utf_7 (all languages)
 utf_8 (all languages)
 Report-Msgid-Bugs-To: 
-POT-Creation-Date: 2009-02-09 23:22+0100
+POT-Creation-Date: 2009-02-10 21:15+0100
 PO-Revision-Date: 2008-07-23 17:55+0000
 Last-Translator: Piotr O??arowski <Unknown>
 Language-Team: Dansk-gruppen <dansk at dansk-gruppen.dk>

Modified: trunk/i18n/de/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/el/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/en_GB/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/es/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/et/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fa/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fi/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/fr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/hu/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/id/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/it/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ja/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ko/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/lv/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nb/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nds/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/nl/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/oc/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pl/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ps/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pt/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/pt_BR/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/ru/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sk/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/sv/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/tr/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/uk/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/i18n/zh_CN/LC_MESSAGES/griffith.mo
===================================================================
(Binary files differ)

Modified: trunk/po/bg.po
===================================================================
--- trunk/po/bg.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/bg.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:19+0000\n"
 "Last-Translator: Emil Pavlov <emil.p.pavlov at gmail.com>\n"
 "Language-Team: Bulgarian <dict at fsa-bg.org>\n"
@@ -446,7 +446,7 @@
 msgid "Favourite"
 msgstr "????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -454,11 +454,11 @@
 "Griffith ???? ???????????????????? ???????????? ???? ???? ?????????? ?? ?????? ????????????. ???????? ???????? ???? ???????????? "
 "?????????????? ????????????, ?????? ?????????? ???????????? ???????? ???? ??????????."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/ca.po
===================================================================
--- trunk/po/ca.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/ca.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:38+0000\n"
 "Last-Translator: el_libre XDDDDDDDDDDDDDDDDDDDDDDDDDDD <el.libre at gmail.com>\n"
 "Language-Team: Catalan <ca at li.org>\n"
@@ -452,17 +452,17 @@
 msgid "Favourite"
 msgstr "Preferit"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/cs.po
===================================================================
--- trunk/po/cs.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/cs.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:55+0000\n"
 "Last-Translator: Petr Pulc <petrpulc at gmail.com>\n"
 "Language-Team: Gnome Czech <gnome-cs-list at gnome.org>\n"
@@ -457,7 +457,7 @@
 msgid "Favourite"
 msgstr "Obl??ben??"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -465,11 +465,11 @@
 "Griffith nyn?? zkonvertuje Va??i datab??zi do nov??ho form??tu. Pokud m??te velkou "
 "datab??zi, m????e to zabrat n??kolik minut."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Konverze star?? datab??ze: nainstalujte pros??m pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/da.po
===================================================================
--- trunk/po/da.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/da.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:55+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Dansk-gruppen <dansk at dansk-gruppen.dk>\n"
@@ -459,7 +459,7 @@
 msgid "Favourite"
 msgstr "Favorit"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -467,11 +467,11 @@
 "Griffith vil nu omdanne din database til det nye format. Dette kan, hvis din "
 "database er stor, tage flere minutter."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Gammel DB omdanning: Installere venligst pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/de.po
===================================================================
--- trunk/po/de.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/de.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-12-16 22:07+0000\n"
 "Last-Translator: Michael <mikej06 at hotmail.com>\n"
 "Language-Team: German <de at li.org>\n"
@@ -463,7 +463,7 @@
 msgid "Favourite"
 msgstr "Lieblingsfilm"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -471,11 +471,11 @@
 "Griffith wird jetzt ihre alte Datenbank in das neue Format konvertieren. Das "
 "kann einige Minuten dauern, je nach Gr????e ihrer Datenbank."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Datenbankupgrade: Bitte installieren sie pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/el.po
===================================================================
--- trunk/po/el.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/el.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2009-02-08 21:59+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Greek <el at li.org>\n"
@@ -461,7 +461,7 @@
 msgid "Favourite"
 msgstr "??????????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -470,11 +470,11 @@
 "???????????????????? ???????????? ???? ?????????????????? ???????????? ?????????? ?????? ?????????? ?????? ???????????? ???????? "
 "??????????????????."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "?????????? ?????????????????? ????: ???????????????? ???????????????????????? ???? pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/en_GB.po
===================================================================
--- trunk/po/en_GB.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/en_GB.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-12-05 13:45+0000\n"
 "Last-Translator: Josh Holland <Unknown>\n"
 "Language-Team: English (United Kingdom) <en_GB at li.org>\n"
@@ -463,7 +463,7 @@
 msgid "Favourite"
 msgstr "Favourite"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -471,11 +471,11 @@
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Old DB conversion: please install pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/es.po
===================================================================
--- trunk/po/es.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/es.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2009-02-04 01:11+0000\n"
 "Last-Translator: DiegoJ <diegojromerolopez at gmail.com>\n"
 "Language-Team: Spanish <es at li.org>\n"
@@ -464,7 +464,7 @@
 msgid "Favourite"
 msgstr "Favorita"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -472,12 +472,12 @@
 "Griffith cambiar?? tu base de datos al formato nuevo ahora. Puede durar "
 "varios minutos si tienes un base de datos grande."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 "Conversi??n del Viejo Base de Datos; favor de instalar pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/et.po
===================================================================
--- trunk/po/et.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/et.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:17+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Estonian <et at li.org>\n"
@@ -448,17 +448,17 @@
 msgid "Favourite"
 msgstr "Lemmikud"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/fa.po
===================================================================
--- trunk/po/fa.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/fa.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-03-29 07:29+0000\n"
 "Last-Translator: Artin <Unknown>\n"
 "Language-Team: Persian <fa at li.org>\n"
@@ -442,17 +442,17 @@
 msgid "Favourite"
 msgstr "??????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/fi.po
===================================================================
--- trunk/po/fi.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/fi.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-05-04 09:49+0000\n"
 "Last-Translator: Kari Argillander <Unknown>\n"
 "Language-Team: Finnish <fi at li.org>\n"
@@ -453,17 +453,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/fr.po
===================================================================
--- trunk/po/fr.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/fr.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:56+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Fran??ais\n"
@@ -460,7 +460,7 @@
 msgid "Favourite"
 msgstr "Favoris"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -468,13 +468,13 @@
 "Griffith va convertir votre base de donn??e au nouveau format. Cela peut "
 "prendre plusieurs minutes suivant l'importance de votre base donn??e."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 "Conversion de l'ancienne base de donn??es: merci d'installer \"pysqlite legacy"
 "\" version 1.0"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/hu.po
===================================================================
--- trunk/po/hu.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/hu.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 11:41+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Hungarian <hu at li.org>\n"
@@ -444,17 +444,17 @@
 msgid "Favourite"
 msgstr "Kedvenc"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/id.po
===================================================================
--- trunk/po/id.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/id.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:17+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Indonesian <id at li.org>\n"
@@ -456,7 +456,7 @@
 msgid "Favourite"
 msgstr "Favorit"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -464,11 +464,11 @@
 "Griffith sekarang akan mengkonversi database kamu ke format yang baru. "
 "Membutuhkan waktu beberapa menit jika kamu memiliki database yang besar."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Konversi database lama : mohon install pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/it.po
===================================================================
--- trunk/po/it.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/it.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-12-22 23:39+0000\n"
 "Last-Translator: Simone Oberti <Unknown>\n"
 "Language-Team: <tp at lists.linux.it>\n"
@@ -460,7 +460,7 @@
 msgid "Favourite"
 msgstr "Preferito"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -468,11 +468,11 @@
 "Griffith convertir?? adesso il database nel nuovo formato. Questa operazione "
 "potrebbe richiedere diversi minuti per un database di grandi dimensioni."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Conversione DB vecchi: installare pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/ja.po
===================================================================
--- trunk/po/ja.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/ja.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 11:37+0000\n"
 "Last-Translator: Jack Nihil <jnihil at gmail.com>\n"
 "Language-Team: Japanese <ja at li.org>\n"
@@ -447,17 +447,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/ko.po
===================================================================
--- trunk/po/ko.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/ko.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:13+0000\n"
 "Last-Translator: ChangeTheWorld <ssalki77 at gmail.com>\n"
 "Language-Team: Korean\n"
@@ -454,7 +454,7 @@
 msgid "Favourite"
 msgstr "????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -462,11 +462,11 @@
 "Griffith ????????? ????????????????????? ????????? ???????????? ???????????????. ??? ????????????????????? "
 "????????? ?????? ?????? ????????????."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "?????? DB ??????: pysqlite legacy ????????? ??????????????? (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/lv.po
===================================================================
--- trunk/po/lv.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/lv.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:34+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Latvian <lv at li.org>\n"
@@ -442,17 +442,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/messages.pot
===================================================================
--- trunk/po/messages.pot	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/messages.pot	2009-02-10 20:16:44 UTC (rev 1159)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: PACKAGE VERSION\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:33+0100\n"
+"POT-Creation-Date: 2009-02-10 21:16+0100\n"
 "PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
 "Last-Translator: FULL NAME <EMAIL at ADDRESS>\n"
 "Language-Team: LANGUAGE <LL at li.org>\n"
@@ -441,17 +441,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/nb.po
===================================================================
--- trunk/po/nb.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/nb.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2009-01-30 19:31+0000\n"
 "Last-Translator: Eirik Fikkan <Unknown>\n"
 "Language-Team: Norwegian Bokmal <nb at li.org>\n"
@@ -456,7 +456,7 @@
 msgid "Favourite"
 msgstr "Favoritter"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -464,11 +464,11 @@
 "Griffith konverterer n?? din database til et nytt format. Dette kan ta noen "
 "minutter dersom du har en stor database."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/nds.po
===================================================================
--- trunk/po/nds.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/nds.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:30+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2009-01-01 15:46+0000\n"
 "Last-Translator: apank <Unknown>\n"
 "Language-Team: German, Low <nds at li.org>\n"
@@ -467,7 +467,7 @@
 msgid "Favourite"
 msgstr "Favoriten"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -475,12 +475,12 @@
 "Griffith wird nun Ihre Datenbank in das neue Format konvertieren. Dies kann "
 "einige Minuten dauern wenn die Datenbank etwas gr????er ist."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 "Konvertierung alter Datenbank: Bitte pysqlite legacy (v1.0) installieren"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/nl.po
===================================================================
--- trunk/po/nl.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/nl.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 11:56+0000\n"
 "Last-Translator: Gijs Dekker <dekker.gijs at gmail.com>\n"
 "Language-Team: Dutch <vertaling at vrijschrift.org>\n"
@@ -456,7 +456,7 @@
 msgid "Favourite"
 msgstr "Favoriet"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -464,12 +464,12 @@
 "Griffith zal nu uw database omzetten naar het nieuwe formaat. Dit kan enkele "
 "minuten duren als u een grote database heeft."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 "Oude database conversie: installeer eerst pysqlite legacy (v1.0) a.u.b."
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/oc.po
===================================================================
--- trunk/po/oc.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/oc.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:16+0000\n"
 "Last-Translator: Yannig MARCHEGAY (Kokoyaya) <yannig at marchegay.org>\n"
 "Language-Team: Occitan (post 1500) <oc at li.org>\n"
@@ -442,17 +442,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/pl.po
===================================================================
--- trunk/po/pl.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/pl.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2009-02-09 00:23+0000\n"
 "Last-Translator: Piotr O??arowski <piotr at griffith.cc>\n"
 "Language-Team: Polski\n"
@@ -460,7 +460,7 @@
 msgid "Favourite"
 msgstr "Ulubiony"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -468,11 +468,11 @@
 "Griffith skonwertuje teraz twoj?? baz?? do nowego formatu. To mo??e potrwa?? "
 "wiele minut, zale??nie od wielko??ci bazy."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Konwersja starej bazy: zainstaluj prosz?? pysqlite w wersji 1.0"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/ps.po
===================================================================
--- trunk/po/ps.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/ps.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-12-06 21:07+0000\n"
 "Last-Translator: Baseer Ahmad Baheer <suraj.lmar at gmail.com>\n"
 "Language-Team: Pashto <ps at li.org>\n"
@@ -450,7 +450,7 @@
 msgid "Favourite"
 msgstr "?????????? ?? ?????????????? ?????? ????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -458,11 +458,11 @@
 "Griffith ???? ?????? ?????????? ???????????????? ???????? ?????? ?????? ???? ??????????. ???? ???? ???? ?????????? ?????????? "
 "???? ???????? ???????? ?????? ???????????????? ???????? ????????"
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "?? ???????? DB  ????????: ?????????????? ???????? pysqlite legacy (v1.0) ??????????"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/pt.po
===================================================================
--- trunk/po/pt.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/pt.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -8,7 +8,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: Rui Ara?jo <ruka.araujo at gmail.com>\n"
 "Language-Team: Portuguese <pt at li.org>\n"
@@ -462,7 +462,7 @@
 msgid "Favourite"
 msgstr "Favorito"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -470,11 +470,11 @@
 "O Griffith vai agora converter a sua base de dados para o novo formato. Isto "
 "pode demorar alguns minutos se tiver uma base de dados grande,"
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Base de dados antiga: por favor instale o pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/pt_BR.po
===================================================================
--- trunk/po/pt_BR.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/pt_BR.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -9,7 +9,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-10-17 19:39+0000\n"
 "Last-Translator: ThiagoSerra <thiagoserra at yahoo.com.br>\n"
 "Language-Team: Portuguese\n"
@@ -465,7 +465,7 @@
 msgid "Favourite"
 msgstr "Favorito"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -473,11 +473,11 @@
 "O Griffith ir?? agora converter seu banco de dados para um novo formato! Isto "
 "pode durar alguns minutos caso voc?? possua um banco de dados muito grande."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Convers??o antiga do DB: por favor instale o pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/ru.po
===================================================================
--- trunk/po/ru.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/ru.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-12-29 20:42+0000\n"
 "Last-Translator: Andrew Krasilnikov <Unknown>\n"
 "Language-Team: Russian <ru at li.org>\n"
@@ -458,7 +458,7 @@
 msgid "Favourite"
 msgstr "??????????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -466,11 +466,11 @@
 "???????????? Griffith ?????????????????????? ???????? ???????? ???????????? ?? ?????????? ????????????. ?????? ?????????? "
 "???????????? ?????????????????? ??????????, ???????? ?? ?????? ?????????????? ???????? ????????????."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "???????????????????????????? ???????????? ????: ???????????????????? ???????????????????????????? pysqlite (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/sk.po
===================================================================
--- trunk/po/sk.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/sk.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 11:57+0000\n"
 "Last-Translator: Maro?? Brojo <majobrojo at gmail.com>\n"
 "Language-Team: Slovak <sk at li.org>\n"
@@ -444,17 +444,17 @@
 msgid "Favourite"
 msgstr ""
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/sr.po
===================================================================
--- trunk/po/sr.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/sr.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 11:46+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Serbian <gnu at prevod.org>\n"
@@ -458,7 +458,7 @@
 msgid "Favourite"
 msgstr "????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -466,11 +466,11 @@
 "Griffith ???? ???????????????? ???????? ???????? ?? ???????? ????????????. ?????? ????????, ?????????????? ???? ???????? ???????? "
 "????????????, ?????????????????? ???????????????? ???????????? ."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "?????????? ???????????????????? ????????: ???????????? ???????????????????????? pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/sv.po
===================================================================
--- trunk/po/sv.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/sv.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -6,7 +6,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: Daniel Nylander <yeager at ubuntu.com>\n"
 "Language-Team: Swedish <tp-sv at listor.tp-sv.se>\n"
@@ -460,7 +460,7 @@
 msgid "Favourite"
 msgstr "Favorit"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -468,11 +468,11 @@
 "Griffith kommer nu att konvertera din databas till det nya formatet. Det h??r "
 "kan ta flera minuter om du har en stor databas."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Gammal databaskonvertering: installera pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/tr.po
===================================================================
--- trunk/po/tr.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/tr.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-07-23 17:59+0000\n"
 "Last-Translator: HdS619 <thestreet at hotmail.it>\n"
 "Language-Team: Turkish <tr at li.org>\n"
@@ -457,7 +457,7 @@
 msgid "Favourite"
 msgstr "Favori"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -465,11 +465,11 @@
 "Griffith, veritaban??n?? yeni bir formata d??n????t??recek. E??er b??y??k bir "
 "veritaban??n??z varsa bu i??lem birka?? dakika s??rebilir."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "Eski database d??n????t??rme: L??tfen pysqlite kurallar?? (v1.0) y??kleyin"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/uk.po
===================================================================
--- trunk/po/uk.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/uk.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:29+0000\n"
 "Last-Translator: Piotr O??arowski <Unknown>\n"
 "Language-Team: Ukrainian <uk at li.org>\n"
@@ -455,7 +455,7 @@
 msgid "Favourite"
 msgstr "????????????????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
@@ -463,11 +463,11 @@
 "Griffith ?????????? ?????????????????????? ???????? ???????? ?????????? ?? ?????????? ????????????. ???? ???????? ?????????????? "
 "???????????????? ????????????, ???????? ???? ?????????? ???????????? ???????? ??????????."
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr "???????????????????????? ???????????? ????: ????????-?????????? ???????????????????? pysqlite legacy (v1.0)"
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"

Modified: trunk/po/zh_CN.po
===================================================================
--- trunk/po/zh_CN.po	2009-02-10 20:15:18 UTC (rev 1158)
+++ trunk/po/zh_CN.po	2009-02-10 20:16:44 UTC (rev 1159)
@@ -7,7 +7,7 @@
 msgstr ""
 "Project-Id-Version: Griffith 0.10-beta1\n"
 "Report-Msgid-Bugs-To: \n"
-"POT-Creation-Date: 2009-02-09 23:22+0100\n"
+"POT-Creation-Date: 2009-02-10 21:15+0100\n"
 "PO-Revision-Date: 2008-11-18 12:33+0000\n"
 "Last-Translator: Kempson Chen <kempson.chen at gmail.com>\n"
 "Language-Team: Simplified Chinese <zh_CN at li.org>\n"
@@ -455,17 +455,17 @@
 msgid "Favourite"
 msgstr "??????"
 
-#: ../lib/dbupgrade.py:233
+#: ../lib/dbupgrade.py:237
 msgid ""
 "Griffith will now convert your database to the new format. This can take "
 "several minutes if you have a large database."
 msgstr ""
 
-#: ../lib/dbupgrade.py:247
+#: ../lib/dbupgrade.py:251
 msgid "Old DB conversion: please install pysqlite legacy (v1.0)"
 msgstr ""
 
-#: ../lib/dbupgrade.py:274
+#: ../lib/dbupgrade.py:278
 msgid ""
 "Your database is most probably in SQLite2 format, please convert it to "
 "SQLite3"



From piotrek at mail.berlios.de  Tue Feb 10 21:21:17 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Tue, 10 Feb 2009 21:21:17 +0100
Subject: [Griffith-svn] r1160 - trunk/debian
Message-ID: <200902102021.n1AKLHSC002514@sheep.berlios.de>

Author: piotrek
Date: 2009-02-10 21:21:17 +0100 (Tue, 10 Feb 2009)
New Revision: 1160

Modified:
   trunk/debian/copyright
Log:
update copyright years


Modified: trunk/debian/copyright
===================================================================
--- trunk/debian/copyright	2009-02-10 20:16:44 UTC (rev 1159)
+++ trunk/debian/copyright	2009-02-10 20:21:17 UTC (rev 1160)
@@ -37,5 +37,5 @@
 Python licence can be found on http://www.python.org/psf/license/
 
 
-The Debian packaging is (C) 2005-2008, Piotr O?arowski <piotr at debian.org> and
+The Debian packaging is ? 2005-2009, Piotr O?arowski <piotr at debian.org> and
 is licensed under the GPL.



From mikej06 at mail.berlios.de  Wed Feb 11 21:57:11 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Wed, 11 Feb 2009 21:57:11 +0100
Subject: [Griffith-svn] r1162 - branches/0.9.x trunk trunk/glade
Message-ID: <200902112057.n1BKvBgQ026365@sheep.berlios.de>

Author: mikej06
Date: 2009-02-11 21:56:20 +0100 (Wed, 11 Feb 2009)
New Revision: 1162

Modified:
   branches/0.9.x/griffith
   trunk/glade/griffith.glade
   trunk/griffith
Log:
some small fixes:
 * refresh statusbar after toggling the seen flag
 * added missing translation support for statusbar text (trunk only)
 * changed "print" to "log.error" for output of missing modules (trunk only)
 * made label for saved filter translateable, renamed from "saved" to "Saved filters" for the moment (trunk only)

Modified: branches/0.9.x/griffith
===================================================================
--- branches/0.9.x/griffith	2009-02-10 21:07:08 UTC (rev 1161)
+++ branches/0.9.x/griffith	2009-02-11 20:56:20 UTC (rev 1162)
@@ -377,6 +377,7 @@
 			movie.refresh()
 			self.treemodel.set_value(m_iter,6,movie.seen)
 			self.treeview_clicked()
+			self.count_statusbar()
 
 	def sugest_movie(self, *args):
 		if not self.widgets['menu']['not_seen_movies'].get_active():

Modified: trunk/glade/griffith.glade
===================================================================
--- trunk/glade/griffith.glade	2009-02-10 21:07:08 UTC (rev 1161)
+++ trunk/glade/griffith.glade	2009-02-11 20:56:20 UTC (rev 1162)
@@ -763,7 +763,7 @@
                   <widget class="GtkLabel" id="label291">
                     <property name="visible">True</property>
                     <property name="xpad">6</property>
-                    <property name="label">saved</property>
+                    <property name="label" translatable="yes">Saved filters</property>
                   </widget>
                 </child>
               </widget>

Modified: trunk/griffith
===================================================================
--- trunk/griffith	2009-02-10 21:07:08 UTC (rev 1161)
+++ trunk/griffith	2009-02-11 20:56:20 UTC (rev 1162)
@@ -48,12 +48,12 @@
 if len(missing) > 0:
     log.error('Error: missing modules:')
     for i in missing:
-        print "%(module)s" % i,
+        log.error("%(module)s" % i)
         if i.has_key('module_req'):
-            print "\t:: required version: %(module_req)s" % i,
+            log.error("\t:: required version: %(module_req)s" % i)
             if i['version'] is not False and i['version'][0] == '-':
-                print "\t:: detected: %s" % i['version'][1:]
-        print "\n",
+                log.error("\t:: detected: %s" % i['version'][1:])
+        log.error("\n")
     sys.exit(1)
 del missing
 
@@ -385,6 +385,7 @@
             self.db.session.commit()
             self.treemodel.set_value(m_iter,6,movie.seen)
             self.treeview_clicked()
+            self.count_statusbar()
 
     def sugest_movie(self, *args):
         if not self.widgets['menu']['not_seen_movies'].get_active():
@@ -1123,7 +1124,7 @@
         if allmovies > 0:
             loaned = self.db.session.query(db.Movie).filter_by(loaned=True).count()
             not_seen = self.db.session.query(db.Movie).filter_by(seen=False).count()
-        self.update_statusbar("%s (%s) movie(s) in collection. %s movie(s) loaned. You haven't seen %s movie(s)" % (allmovies, self.total, loaned, not_seen))
+        self.update_statusbar(_("%s movie(s) in collection. %s movie(s) are shown by the filter. %s movie(s) loaned. You haven't seen %s movie(s)") % (allmovies, self.total, loaned, not_seen))
 
     def update_statusbar(self, text):
         context_id = self.widgets['statusbar'].get_context_id(text)



From piotrek at mail.berlios.de  Wed Feb 11 22:57:03 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Wed, 11 Feb 2009 22:57:03 +0100
Subject: [Griffith-svn] r1163 - in trunk: . lib
Message-ID: <200902112157.n1BLv3jV000974@sheep.berlios.de>

Author: piotrek
Date: 2009-02-11 22:57:02 +0100 (Wed, 11 Feb 2009)
New Revision: 1163

Modified:
   trunk/ChangeLog
   trunk/NEWS
   trunk/lib/backup.py
   trunk/lib/version.py
Log:
* Version changed to 0.10-beta3~svn
* Backup function fixed
* PostgreSQL/MySQL backup support added


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-11 20:56:20 UTC (rev 1162)
+++ trunk/ChangeLog	2009-02-11 21:57:02 UTC (rev 1163)
@@ -5,6 +5,11 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-11  Piotr O?arowski
+	* Version changed to 0.10-beta3~svn
+	* Backup function fixed
+	* PostgreSQL/MySQL backup support added
+
 ---- 0.10-beta2 ----
 
 2009-02-10  Piotr O?arowski

Modified: trunk/NEWS
===================================================================
--- trunk/NEWS	2009-02-11 20:56:20 UTC (rev 1162)
+++ trunk/NEWS	2009-02-11 21:57:02 UTC (rev 1163)
@@ -1,3 +1,9 @@
+Griffith 0.10-beta3
+===================
+* Backup function fixed
+* PostgreSQL/MySQL backup support added
+
+
 Griffith 0.10-beta2
 ===================
 * Most movie plugins updated

Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2009-02-11 20:56:20 UTC (rev 1162)
+++ trunk/lib/backup.py	2009-02-11 21:57:02 UTC (rev 1163)
@@ -25,6 +25,7 @@
 import os.path
 import zipfile
 import logging
+import datetime
 log = logging.getLogger("Griffith")
 import config
 import edit
@@ -33,23 +34,26 @@
 
 def backup(self):
     """perform a compressed griffith database/posters/preferences backup"""
+    #if self.db.session.bind.engine.name != 'sqlite':
+    #    gutils.error(self, _("Backup function is available only for SQLite engine for now"), self.widgets['window'])
+    #    return False
+
+    default_name = "%s_backup_%s.zip" % (self.config.get('name','griffith', section='database'),\
+                    datetime.date.isoformat(datetime.datetime.now()))
     filename = gutils.file_chooser(_("Save Griffith backup"), \
-        action=gtk.FILE_CHOOSER_ACTION_SAVE, buttons= \
-        (gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK), \
-        name=self.config.get('name','griffith', section='database') + '_backup.zip')
+        action=gtk.FILE_CHOOSER_ACTION_SAVE, name=default_name, buttons= \
+        (gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK))
+
     if filename and filename[0]:
-        overwrite = None
+        proceed = True
+
         zipfilename = filename[0].decode('utf-8')
         if os.path.isfile(zipfilename):
-            response = gutils.question(self, \
-                _("File exists. Do you want to overwrite it?"), \
-                1, self.widgets['window'])
-            if response == -8:
-                overwrite = True
-            else:
-                overwrite = False
+            response = gutils.question(_("File exists. Do you want to overwrite it?"), window=self.widgets['window'])
+            if response != gtk.RESPONSE_YES:
+                proceed = False
 
-        if overwrite == True or overwrite is None:
+        if proceed:
             try:
                 if zipfile.zlib is not None:
                     mzip = zipfile.ZipFile(zipfilename, 'w', zipfile.ZIP_DEFLATED)
@@ -58,62 +62,53 @@
             except:
                 gutils.error(self, _("Error creating backup"), self.widgets['window'])
                 return False
-            mzip.write(os.path.join(self.locations['home'],'griffith.cfg').encode('utf-8'))
             if self.db.session.bind.engine.name == 'sqlite':
+                mzip.write(os.path.join(self.locations['home'],'griffith.cfg').encode('utf-8'))
                 fileName = os.path.join(self.locations['home'], self.config.get('name','griffith', section='database') + '.db').encode('utf-8')
                 mzip.write(fileName)
             else:
-                gutils.error(self, _("Backup function is available only for SQLite engine for now"), self.widgets['window'])
-                return False
                 from tempfile import mkdtemp
-                from shutil import rmtree, move
-                from sqlalchemy import BoundMetaData
+                from shutil import rmtree
+                from StringIO import StringIO
+                from sqlalchemy import MetaData
                 import copy
-                # if backup_to_sqlite:
+                import db
+
                 tmp_dir = mkdtemp()
                 tmp_config = copy.deepcopy(self.config)
-                tmp_config._file = os.path.join(tmp_dir,'griffith.cfg')
-                tmp_config.get('type', 'sqlite', section='database') == 'sqlite'
-                tmp_config.set('file', section='database') == "griffith.db"
+                tmp_config._file = os.path.join(tmp_dir, 'griffith.cfg')
+                tmp_config.set('type', 'sqlite', section='database')
+                tmp_config.set('file', 'griffith.db', section='database')
                 tmp_config.save()
+                mzip.write(tmp_config._file)
 
-#                tmp_db = sql.GriffithSQL(tmp_config, tmp_dir)
-#                for i in self.db.metadata.tables
-#                tmp_db.
-
-                tmp_file = os.path.join(tmp_dir, tmp_config.get('file', 'griffith.db', section='database')).encode('utf-8')
-                tmp_metadata = BoundMetaData("sqlite:///%s" % tmp_file)
-                tmp_metadata.tables = self.db.metadata.tables
+                tmp_file = os.path.join(tmp_dir, 'griffith.db')
+                tmp_metadata = MetaData("sqlite:///%s" % tmp_file)
+                tmp_metadata.tables = db.metadata.tables
                 tmp_metadata.create_all()
-#                for table in self.db.metadata.tables.keys():
-                for table in [t.name for t in self.db.metadata.table_iterator()]: # table_iterator() will return tables in *correct* order
-                    data = self.db.metadata.tables[table].select().execute().fetchall()
-                    tmp_metadata.tables[table].insert().execute(data)
-#                    for item in data:
-#                        tmp_metadata.tables[table].insert().execute(item)
-                tmp_metadata.engine.commit()
+
+                # SQLite doesn't care about foreign keys much so we can just copy the data
+                for table in db.metadata.sorted_tables:
+                    if table.name == 'posters':
+                        continue # see below
+                    data = table.select(bind=self.db.session.bind).execute().fetchall()
+                    if data:
+                        tmp_metadata.tables[table.name].insert(bind=tmp_metadata.bind).execute(data)
                 
+                # posters
+                data = db.tables['posters'].select(bind=self.db.session.bind).execute().fetchall()
+                for i in data:
+                    db.tables['posters'].insert(bind=tmp_metadata.bind).execute(md5sum=i[0], data=StringIO(i[1]).read())
+
                 mzip.write(tmp_file)
                 rmtree(tmp_dir)
-            posters_dir = os.path.join(self.locations['posters'])
-            for movie in self.db.Movie.query.all():
-                if movie.image is not None:
-                    filename = str(movie.image)+".jpg"
-                    filename = os.path.join(posters_dir, filename).encode('utf-8')
-                    if os.path.isfile(filename):
-                        try:
-                            mzip.write(filename)
-                        except:
-                            log.info("Can't compress %s" % filename)
-            mzip.close()
             gutils.info(_("Backup has been created"), self.widgets['window'])
 
 def restore(self):
     """restores a griffith compressed backup"""
     filename = gutils.file_chooser(_("Restore Griffith backup"), \
-        action=gtk.FILE_CHOOSER_ACTION_OPEN, buttons= \
-        (gtk.STOCK_CANCEL, gtk.RESPONSE_CANCEL, \
-        gtk.STOCK_OPEN, gtk.RESPONSE_OK))
+                    action=gtk.FILE_CHOOSER_ACTION_OPEN, buttons= \
+                    (gtk.STOCK_CANCEL, gtk.RESPONSE_CANCEL, gtk.STOCK_OPEN, gtk.RESPONSE_OK))
     if filename[0]:
         try:
             zip = zipfile.ZipFile(filename[0], 'r')

Modified: trunk/lib/version.py
===================================================================
--- trunk/lib/version.py	2009-02-11 20:56:20 UTC (rev 1162)
+++ trunk/lib/version.py	2009-02-11 21:57:02 UTC (rev 1163)
@@ -22,7 +22,7 @@
 # GNU General Public License, version 2 or later
 
 pname        = "Griffith"
-pversion     = "0.10-beta2"
+pversion     = "0.10-beta3~svn"
 pauthor      = "Vasco Nunes, Piotr O?arowski <griffith-private at lists.berlios.de>"
 pyear        = "2005-2009"
 pwebsite     = "http://www.griffith.cc/"



From piotrek at mail.berlios.de  Wed Feb 11 23:09:39 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Wed, 11 Feb 2009 23:09:39 +0100
Subject: [Griffith-svn] r1164 - trunk/lib
Message-ID: <200902112209.n1BM9dDx001813@sheep.berlios.de>

Author: piotrek
Date: 2009-02-11 23:09:38 +0100 (Wed, 11 Feb 2009)
New Revision: 1164

Modified:
   trunk/lib/backup.py
   trunk/lib/quick_filter.py
Log:
no need to create extra metadata, create new engine only


Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2009-02-11 21:57:02 UTC (rev 1163)
+++ trunk/lib/backup.py	2009-02-11 22:09:38 UTC (rev 1164)
@@ -70,7 +70,7 @@
                 from tempfile import mkdtemp
                 from shutil import rmtree
                 from StringIO import StringIO
-                from sqlalchemy import MetaData
+                from sqlalchemy import create_engine
                 import copy
                 import db
 
@@ -83,9 +83,8 @@
                 mzip.write(tmp_config._file)
 
                 tmp_file = os.path.join(tmp_dir, 'griffith.db')
-                tmp_metadata = MetaData("sqlite:///%s" % tmp_file)
-                tmp_metadata.tables = db.metadata.tables
-                tmp_metadata.create_all()
+                tmp_engine = create_engine("sqlite:///%s" % tmp_file)
+                db.metadata.create_all(bind=tmp_engine)
 
                 # SQLite doesn't care about foreign keys much so we can just copy the data
                 for table in db.metadata.sorted_tables:
@@ -93,12 +92,12 @@
                         continue # see below
                     data = table.select(bind=self.db.session.bind).execute().fetchall()
                     if data:
-                        tmp_metadata.tables[table.name].insert(bind=tmp_metadata.bind).execute(data)
+                        table.insert(bind=tmp_engine).execute(data)
                 
                 # posters
                 data = db.tables['posters'].select(bind=self.db.session.bind).execute().fetchall()
                 for i in data:
-                    db.tables['posters'].insert(bind=tmp_metadata.bind).execute(md5sum=i[0], data=StringIO(i[1]).read())
+                    db.tables['posters'].insert(bind=tmp_engine).execute(md5sum=i[0], data=StringIO(i[1]).read())
 
                 mzip.write(tmp_file)
                 rmtree(tmp_dir)

Modified: trunk/lib/quick_filter.py
===================================================================
--- trunk/lib/quick_filter.py	2009-02-11 21:57:02 UTC (rev 1163)
+++ trunk/lib/quick_filter.py	2009-02-11 22:09:38 UTC (rev 1164)
@@ -26,7 +26,7 @@
 
 def change_filter(self):
     x = 0
-    text = gutils.gescape(self.widgets['filter']['text'].get_text())
+    text = gutils.gescape(self.widgets['filter']['text'].get_text().decode('utf-8'))
     
     from sqlalchemy import select
     from sqlalchemy.orm.util import class_mapper, object_mapper



From piotrek at mail.berlios.de  Wed Feb 11 23:39:15 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Wed, 11 Feb 2009 23:39:15 +0100
Subject: [Griffith-svn] r1165 - in trunk/lib: . plugins/export
Message-ID: <200902112239.n1BMdF3j009020@sheep.berlios.de>

Author: piotrek
Date: 2009-02-11 23:39:13 +0100 (Wed, 11 Feb 2009)
New Revision: 1165

Modified:
   trunk/lib/backup.py
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
   trunk/lib/gconsole.py
   trunk/lib/plugins/export/__init__.py
   trunk/lib/sql.py
Log:
* backup from external db: don't fetch all posters at once
* use db.metadata.tables instead of defining our own tables dict


Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/backup.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -95,9 +95,8 @@
                         table.insert(bind=tmp_engine).execute(data)
                 
                 # posters
-                data = db.tables['posters'].select(bind=self.db.session.bind).execute().fetchall()
-                for i in data:
-                    db.tables['posters'].insert(bind=tmp_engine).execute(md5sum=i[0], data=StringIO(i[1]).read())
+                for poster in db.metadata.tables['posters'].select(bind=self.db.session.bind).execute():
+                    db.metadata.tables['posters'].insert(bind=tmp_engine).execute(md5sum=poster.md5sum, data=StringIO(poster.data).read())
 
                 mzip.write(tmp_file)
                 rmtree(tmp_dir)

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/db.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -328,26 +328,6 @@
     Column('name', Unicode(64), primary_key=True),
     #Column('data', PickleType, nullable=False))
     Column('data', Binary, nullable=False))
-
-tables = {
-    'movies':         movies_table,
-    'loans':          loans_table,
-    'people':         people_table,
-    'volumes':        volumes_table,
-    'collections':    collections_table,
-    'media':          media_table,
-    'ratios':         ratios_table,
-    'languages':      languages_table,
-    'vcodecs':        vcodecs_table,
-    'acodecs':        acodecs_table,
-    'achannels':      achannels_table,
-    'subformats':     subformats_table,
-    'tags':           tags_table,
-    'movie_lang':     movie_lang_table,
-    'movie_tag':      movie_tag_table,
-    'configuration':  configuration_table,
-    'posters':        posters_table,
-    'filters':        filters_table}
 #}}}
 
 ### mappers ################################################### {{{

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/dbupgrade.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -153,7 +153,7 @@
         log.info('... saving posters in database')
         posters_dir = get_old_posters_location(locations['home'], config, clean_config=True)
         updated = {}
-        movies_table = db.tables['movies']
+        movies_table = db.metadata.tables['movies']
         for movie in self.session.query(db.Movie.image).all():
             poster_file_name = os.path.join(posters_dir, "%s.jpg" % movie.image)
             if poster_file_name in updated:

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/gconsole.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -145,13 +145,13 @@
     # for search function
     from sqlalchemy import select
     import db
-    mt = db.tables['movies'].columns
+    mt = db.metadata.tables['movies'].columns
     columns = (mt.number, mt.title, mt.o_title, mt.director, mt.year)
     
     sort_columns = []
     if sort:
         for i in sort.split(','):
-            if db.tables['movies'].columns.has_key(i):
+            if db.metadata.tables['movies'].columns.has_key(i):
                 sort_columns.append(mt[i])
     else:
         sort_columns = [mt.number]

Modified: trunk/lib/plugins/export/__init__.py
===================================================================
--- trunk/lib/plugins/export/__init__.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/plugins/export/__init__.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -59,6 +59,7 @@
         raise NotImplemented
     
     def get_query(self):
+        t = db.metadata.tables
         tables = set()
         columns = []
 
@@ -68,30 +69,30 @@
             if len(column) > 1:
                 table = column[0]
                 column = column[1]
-                if table not in db.tables:
+                if table not in t:
                     log.warning("Wrong table name: %s", table)
                     continue
                 tables.add(table) # will be used to generate JOIN
             else:
                 column = column[0]
 
-            if column in db.tables[table].columns:
-                columns.append(db.tables[table].columns[column])
+            if column in t[table].columns:
+                columns.append(t[table].columns[column])
             else:
                 log.warning("Wrong field name: %s", i)
 
         joins = []
         if 'media' in tables:
-            joins.append((db.tables['media'], db.tables['movies'].c.medium_id==db.tables['media'].c.medium_id))
+            joins.append((t['media'], t['movies'].c.medium_id==t['media'].c.medium_id))
         if 'collections' in tables:
-            joins.append((db.tables['collections'], db.tables['movies'].c.collection_id==db.tables['collections'].c.collection_id))
+            joins.append((t['collections'], t['movies'].c.collection_id==t['collections'].c.collection_id))
         if 'volumes' in tables:
-            joins.append((db.tables['volumes'], db.tables['movies'].c.volume_id==db.tables['volumes'].c.volume_id))
+            joins.append((t['volumes'], t['movies'].c.volume_id==t['volumes'].c.volume_id))
         if 'vcodecs' in tables:
-            joins.append((db.tables['vcodecs'], db.tables['movies'].c.vcodec_id==db.tables['vcodecs'].c.vcodec_id))
+            joins.append((t['vcodecs'], t['movies'].c.vcodec_id==t['vcodecs'].c.vcodec_id))
 
         if joins:
-            from_obj = [ outerjoin(db.tables['movies'], *(joins[0])) ]
+            from_obj = [ outerjoin(t['movies'], *(joins[0])) ]
             for j in joins[1:]:
                 from_obj.append(outerjoin(from_obj[-1], *j))
             query = select(columns=columns, bind=self.db.session.bind, from_obj=from_obj, use_labels=True)

Modified: trunk/lib/sql.py
===================================================================
--- trunk/lib/sql.py	2009-02-11 22:09:38 UTC (rev 1164)
+++ trunk/lib/sql.py	2009-02-11 22:39:13 UTC (rev 1165)
@@ -264,9 +264,9 @@
             column = tmp[1]
 
         if reverse:
-            query.append_order_by(desc(db.tables[table].columns[column]))
+            query.append_order_by(desc(db.metadata.tables[table].columns[column]))
         else:
-            query.append_order_by(asc(db.tables[table].columns[column]))
+            query.append_order_by(asc(db.metadata.tables[table].columns[column]))
 
     log.debug(query.compile())
     return query #}}}



From piotrek at mail.berlios.de  Thu Feb 12 23:38:46 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Thu, 12 Feb 2009 23:38:46 +0100
Subject: [Griffith-svn] r1166 - in trunk: . debian lib
Message-ID: <200902122238.n1CMckWo010502@sheep.berlios.de>

Author: piotrek
Date: 2009-02-12 23:38:44 +0100 (Thu, 12 Feb 2009)
New Revision: 1166

Modified:
   trunk/ChangeLog
   trunk/debian/changelog
   trunk/debian/control
   trunk/lib/backup.py
   trunk/lib/dbupgrade.py
Log:
* Add new default tag: "Buy me"
* Add docbook2x to Build-Depend-Indep
* Backup: skip filters table as well as posters (BLOB issue)


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-11 22:39:13 UTC (rev 1165)
+++ trunk/ChangeLog	2009-02-12 22:38:44 UTC (rev 1166)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-12  Piotr O?arowski
+	* Add new default tag: "Buy me"
+
 2009-02-11  Piotr O?arowski
 	* Version changed to 0.10-beta3~svn
 	* Backup function fixed

Modified: trunk/debian/changelog
===================================================================
--- trunk/debian/changelog	2009-02-11 22:39:13 UTC (rev 1165)
+++ trunk/debian/changelog	2009-02-12 22:38:44 UTC (rev 1166)
@@ -1,3 +1,9 @@
+griffith (0.10~beta3~svn-1) UNRELEASED; urgency=low
+
+  * Add docbook2x to Build-Depend-Indep
+
+ -- Piotr O?arowski <piotr at debian.org>  Thu, 12 Feb 2009 12:46:50 +0100
+
 griffith (0.10~beta2-1) experimental; urgency=low
 
   * New upstream snapshot

Modified: trunk/debian/control
===================================================================
--- trunk/debian/control	2009-02-11 22:39:13 UTC (rev 1165)
+++ trunk/debian/control	2009-02-12 22:38:44 UTC (rev 1166)
@@ -3,7 +3,7 @@
 Priority: optional
 Maintainer: Piotr O?arowski <piotr at debian.org>
 Build-Depends: debhelper (>= 5)
-Build-Depends-Indep: python (>= 2.3.5-11), python-central (>= 0.5.6)
+Build-Depends-Indep: python (>= 2.3.5-11), python-central (>= 0.5.6), docbook2x
 Standards-Version: 3.8.0
 XS-Python-Version: >=2.5
 Vcs-Svn: svn://svn.berlios.de/griffith/trunk/debian

Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2009-02-11 22:39:13 UTC (rev 1165)
+++ trunk/lib/backup.py	2009-02-12 22:38:44 UTC (rev 1166)
@@ -88,7 +88,7 @@
 
                 # SQLite doesn't care about foreign keys much so we can just copy the data
                 for table in db.metadata.sorted_tables:
-                    if table.name == 'posters':
+                    if table.name in ('posters', 'filters'):
                         continue # see below
                     data = table.select(bind=self.db.session.bind).execute().fetchall()
                     if data:

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-02-11 22:39:13 UTC (rev 1165)
+++ trunk/lib/dbupgrade.py	2009-02-12 22:38:44 UTC (rev 1166)
@@ -106,6 +106,7 @@
         db.languages_table.insert(bind=b).execute(name=_('Swedish'))
         db.languages_table.insert(bind=b).execute(name=_('Turkish'))
         db.tags_table.insert(bind=b).execute(name=_('Favourite'))
+        db.tags_table.insert(bind=b).execute(name=_('Buy me'))
         return True # upgrade process finished
     #
     # next steps are only for existing databases with an outdated structure



From mikej06 at mail.berlios.de  Tue Feb 24 22:05:14 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 24 Feb 2009 22:05:14 +0100
Subject: [Griffith-svn] r1167 - in trunk: . lib
Message-ID: <200902242105.n1OL5EwY011086@sheep.berlios.de>

Author: mikej06
Date: 2009-02-24 22:04:48 +0100 (Tue, 24 Feb 2009)
New Revision: 1167

Modified:
   trunk/ChangeLog
   trunk/lib/edit.py
Log:
Amazon posters: removing of temporary files fixed

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-12 22:38:44 UTC (rev 1166)
+++ trunk/ChangeLog	2009-02-24 21:04:48 UTC (rev 1167)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-24  Michael Jahn
+	* Amazon posters: removing of temporary files fixed
+
 2009-02-12  Piotr O?arowski
 	* Add new default tag: "Buy me"
 

Modified: trunk/lib/edit.py
===================================================================
--- trunk/lib/edit.py	2009-02-12 22:38:44 UTC (rev 1166)
+++ trunk/lib/edit.py	2009-02-24 21:04:48 UTC (rev 1167)
@@ -199,7 +199,7 @@
     if len(result.Item) == 1:
         o_title = self.widgets['movie']['o_title'].get_text().decode('utf-8')
         if o_title == result.Item[0].ItemAttributes.Title or keyword == result.Item[0].ItemAttributes.Title:
-            get_poster(self, 0, result, current_poster)
+            get_poster(self, 0, result)
             return
 
     self.treemodel_results.clear()
@@ -269,12 +269,13 @@
 
     if not canceled:
         if os.path.isfile(file_to_copy):
+            im = None
             try:
                 im = Image.open(file_to_copy)
             except IOError:
                 log.warn("failed to identify %s"%file_to_copy)
 
-            if im.size == (1,1):
+            if im and im.size == (1,1):
                 url = FancyURLopener().open("http://www.amazon.com/gp/product/images/%s" % result.Item[f].ASIN).read()
                 if url.find('no-img-sm._V47056216_.gif') > 0:
                     log.warn('No image available')
@@ -288,10 +289,18 @@
                 except IOError:
                     log.warn("failed to identify %s"%file_to_copy)
 
+            if not im:
+                # something wrong with the image, give some feedback to the user
+                log.warn('No image available')
+                gutils.warning(self, _("Sorry. This movie is listed but has no poster available at Amazon.com."))
+                return False
+
             if im.mode != 'RGB': # convert GIFs
                 im = im.convert('RGB')
                 im.save(file_to_copy, 'JPEG')
-        
+            # set to None because the file is locked otherwise (os.remove throws an exception)
+            im = None
+
             handler = self.widgets['big_poster'].set_from_file(file_to_copy)
 
             self.widgets['poster_window'].show()
@@ -310,5 +319,13 @@
             self.widgets['poster_window'].hide()
         else:
             gutils.warning(self, _("Sorry. This movie is listed but has no poster available at Amazon.com."))
+    else:
+        # cleanup temporary files after canceling the download
+        if os.path.isfile(file_to_copy):
+            try:
+                os.remove(file_to_copy)
+            except:
+                log.error("no permission for %s"%file_to_copy)
+    # reconnect the signals to the shared result list
     reconnect_add_signals(self)
 



From mikej06 at mail.berlios.de  Tue Feb 24 22:47:44 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 24 Feb 2009 22:47:44 +0100
Subject: [Griffith-svn] r1168 - trunk/lib
Message-ID: <200902242147.n1OLlilt014349@sheep.berlios.de>

Author: mikej06
Date: 2009-02-24 22:47:20 +0100 (Tue, 24 Feb 2009)
New Revision: 1168

Modified:
   trunk/lib/main_treeview.py
Log:
selected sort column wasn't used (sorted everytime by number)

Modified: trunk/lib/main_treeview.py
===================================================================
--- trunk/lib/main_treeview.py	2009-02-24 21:04:48 UTC (rev 1167)
+++ trunk/lib/main_treeview.py	2009-02-24 21:47:20 UTC (rev 1168)
@@ -375,6 +375,13 @@
                     cond = advfilter.get_def_conditions()
             else:
                 cond = advfilter.get_def_conditions()
+            # add sorting from config
+            sort_column_name = self.config.get('sortby', 'number', section='mainlist')
+            sort_reverse = self.config.get('sortby_reverse', False, section='mainlist')
+            if sort_reverse:
+                cond['sort_by'] = set((sort_column_name + ' DESC', ))
+            else:
+                cond['sort_by'] = set((sort_column_name, ))
 
             # seen / loaned
             if self.widgets['menu']['loaned_movies'].get_active():
@@ -389,18 +396,18 @@
                     cond["collections"].add(col_id)
 
             movies = advfilter.create_select_query(self, None, cond, movies)
+        else:
+            # select sort column
+            sort_column_name = self.config.get('sortby', 'number', section='mainlist')
+            sort_reverse = self.config.get('sortby_reverse', False, section='mainlist')
+            # explicit conditions, only empty dictionary needed to add the order by values
+            cond = {}
+            if sort_reverse:
+                cond['sort_by'] = set((sort_column_name + ' DESC', ))
+            else:
+                cond['sort_by'] = set((sort_column_name, ))
+            movies = sql.update_whereclause(movies, cond)
         
-        # select sort column
-        sort_column_name = self.config.get('sortby', 'number', section='mainlist')
-        sort_reverse = self.config.get('sortby_reverse', False, section='mainlist')
-        
-        for i in sort_column_name.split(','):
-            if db.movies_table.columns.has_key(i):
-                if sort_reverse:
-                    movies.append_order_by(desc(db.movies_table.columns[i]))
-                else:
-                    movies.append_order_by(db.movies_table.columns[i])
-        
         # additional whereclause (volume_id, collection_id, ...)
         if where:
             for i in where:



From mikej06 at mail.berlios.de  Sat Feb 28 22:58:52 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Sat, 28 Feb 2009 22:58:52 +0100
Subject: [Griffith-svn] r1169 - in trunk: . glade lib lib/plugins/movie
Message-ID: <200902282158.n1SLwqS5025450@sheep.berlios.de>

Author: mikej06
Date: 2009-02-28 22:58:24 +0100 (Sat, 28 Feb 2009)
New Revision: 1169

Modified:
   trunk/ChangeLog
   trunk/glade/griffith.glade
   trunk/lib/add.py
   trunk/lib/config.py
   trunk/lib/plugins/movie/PluginMovieAmazon.py
   trunk/lib/preferences.py
   trunk/lib/widgets.py
Log:
screenplay, cameraman, resolution and barcode added to Search-For section in preferences

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/ChangeLog	2009-02-28 21:58:24 UTC (rev 1169)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-02-28  Michael Jahn
+	* screenplay, cameraman, resolution and barcode added to Search-For section in preferences
+
 2009-02-24  Michael Jahn
 	* Amazon posters: removing of temporary files fixed
 

Modified: trunk/glade/griffith.glade
===================================================================
--- trunk/glade/griffith.glade	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/glade/griffith.glade	2009-02-28 21:58:24 UTC (rev 1169)
@@ -3202,12 +3202,79 @@
                         <child>
                           <widget class="GtkTable" id="table16">
                             <property name="visible">True</property>
-                            <property name="n_rows">6</property>
+                            <property name="n_rows">7</property>
                             <property name="n_columns">3</property>
                             <child>
-                              <placeholder/>
+                              <widget class="GtkCheckButton" id="p_s_screenplay">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="label" translatable="yes">Screenplay</property>
+                                <property name="use_underline">True</property>
+                                <property name="response_id">0</property>
+                                <property name="draw_indicator">True</property>
+                              </widget>
+                              <packing>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
                             </child>
                             <child>
+                              <widget class="GtkCheckButton" id="p_s_cameraman">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="label" translatable="yes">Cameraman</property>
+                                <property name="use_underline">True</property>
+                                <property name="response_id">0</property>
+                                <property name="draw_indicator">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">1</property>
+                                <property name="right_attach">2</property>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkCheckButton" id="p_s_barcode">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="label" translatable="yes">Barcode</property>
+                                <property name="use_underline">True</property>
+                                <property name="response_id">0</property>
+                                <property name="draw_indicator">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">6</property>
+                                <property name="bottom_attach">7</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
+                              <widget class="GtkCheckButton" id="p_s_resolution">
+                                <property name="visible">True</property>
+                                <property name="can_focus">True</property>
+                                <property name="label" translatable="yes">Resolution</property>
+                                <property name="use_underline">True</property>
+                                <property name="response_id">0</property>
+                                <property name="draw_indicator">True</property>
+                              </widget>
+                              <packing>
+                                <property name="left_attach">2</property>
+                                <property name="right_attach">3</property>
+                                <property name="top_attach">5</property>
+                                <property name="bottom_attach">6</property>
+                                <property name="x_options">GTK_FILL</property>
+                                <property name="y_options"></property>
+                              </packing>
+                            </child>
+                            <child>
                               <widget class="GtkCheckButton" id="p_s_cast">
                                 <property name="visible">True</property>
                                 <property name="can_focus">True</property>

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/add.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -181,7 +181,8 @@
     
     fields_to_fetch = ['o_title', 'title', 'director', 'plot', 'cast', 'country', 'genre',
                 'classification', 'studio', 'o_site', 'site', 'trailer', 'year',
-                'notes', 'runtime', 'image', 'rating', 'screenplay', 'cameraman']
+                'notes', 'runtime', 'image', 'rating', 'screenplay', 'cameraman',
+                'resolution', 'barcode']
     # remove fields that user doesn't want to fetch: (see preferences window)
     fields_to_fetch = [ i for i in fields_to_fetch if self.config.get("s_%s" % i, True, section='add') ]
 

Modified: trunk/lib/config.py
===================================================================
--- trunk/lib/config.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/config.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -162,6 +162,10 @@
         self._cfg.set('add', 's_title', 'True')
         self._cfg.set('add', 's_trailer', 'True')
         self._cfg.set('add', 's_year', 'True')
+        self._cfg.set('add', 's_screenplay', 'True')
+        self._cfg.set('add', 's_cameraman', 'True')
+        self._cfg.set('add', 's_resolution', 'True')
+        self._cfg.set('add', 's_barcode', 'True')
         self._cfg.set('database', 'file', 'griffith.db')
         self._cfg.set('database', 'host', 'localhost')
         self._cfg.set('database', 'name', 'griffith')

Modified: trunk/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -218,6 +218,9 @@
         if hasattr(self.page.ItemAttributes, 'EAN'):
             self.notes = 'EAN: ' + self.page.ItemAttributes.EAN
 
+    def get_barcode(self):
+        if hasattr(self.page.ItemAttributes, 'EAN'):
+            self.barcode = self.page.ItemAttributes.EAN
 
 class SearchPlugin(movie.SearchMovie):
 

Modified: trunk/lib/preferences.py
===================================================================
--- trunk/lib/preferences.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/preferences.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -148,6 +148,10 @@
     w['s_trailer'].set_active(bool(self.config.get('s_trailer', True, section='add')))
     w['s_cast'].set_active(bool(self.config.get('s_cast', True, section='add')))
     w['s_year'].set_active(bool(self.config.get('s_year', True, section='add')))
+    w['s_screenplay'].set_active(bool(self.config.get('s_screenplay', True, section='add')))
+    w['s_cameraman'].set_active(bool(self.config.get('s_cameraman', True, section='add')))
+    w['s_resolution'].set_active(bool(self.config.get('s_resolution', True, section='add')))
+    w['s_barcode'].set_active(bool(self.config.get('s_barcode', True, section='add')))
     
     if self.config.get('sortby', section='mainlist'):
         tmp = self.sort_criteria.index(self.config.get('sortby', section='mainlist'))
@@ -353,6 +357,10 @@
     c.set('s_trailer', w['s_trailer'].get_active(), section='add')
     c.set('s_cast', w['s_cast'].get_active(), section='add')
     c.set('s_year', w['s_year'].get_active(), section='add')
+    c.set('s_screenplay', w['s_screenplay'].get_active(), section='add')
+    c.set('s_cameraman', w['s_cameraman'].get_active(), section='add')
+    c.set('s_resolution', w['s_resolution'].get_active(), section='add')
+    c.set('s_barcode', w['s_barcode'].get_active(), section='add')
     
     mcounter = 0
     for p in self.plugins:

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2009-02-24 21:47:20 UTC (rev 1168)
+++ trunk/lib/widgets.py	2009-02-28 21:58:24 UTC (rev 1169)
@@ -212,6 +212,10 @@
         's_trailer'         : get('p_s_trailer'),
         's_cast'            : get('p_s_cast'),
         's_year'            : get('p_s_year'),
+        's_screenplay'      : get('p_s_screenplay'),
+        's_cameraman'       : get('p_s_cameraman'),
+        's_resolution'      : get('p_s_resolution'),
+        's_barcode'         : get('p_s_barcode'),
         's_limit'           : get('p_sp_s_limit'),
         'vcodec'            : get('p_vcodec'),
         'view_image'        : get('view_image'),



