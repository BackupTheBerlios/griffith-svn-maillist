<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Griffith-svn] r1490 - trunk/lib/plugins/movie
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/griffith-svn/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1490%20-%20trunk/lib/plugins/movie&In-Reply-To=%3C20110113121239.3AB6D480ED9%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000950.html">
   <LINK REL="Next"  HREF="000952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Griffith-svn] r1490 - trunk/lib/plugins/movie</H1>
    <B>mikej06 at mail.berlios.de</B> 
    <A HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1490%20-%20trunk/lib/plugins/movie&In-Reply-To=%3C20110113121239.3AB6D480ED9%40sheep.berlios.de%3E"
       TITLE="[Griffith-svn] r1490 - trunk/lib/plugins/movie">mikej06 at mail.berlios.de
       </A><BR>
    <I>Thu Jan 13 13:12:39 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000950.html">[Griffith-svn] r1489 - trunk/lib/plugins/movie
</A></li>
        <LI>Next message: <A HREF="000952.html">[Griffith-svn] r1491 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#951">[ date ]</a>
              <a href="thread.html#951">[ thread ]</a>
              <a href="subject.html#951">[ subject ]</a>
              <a href="author.html#951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mikej06
Date: 2011-01-13 13:12:39 +0100 (Thu, 13 Jan 2011)
New Revision: 1490

Modified:
   trunk/lib/plugins/movie/PluginMovieCineMovies.py
Log:
CineMovies plugin updated

Modified: trunk/lib/plugins/movie/PluginMovieCineMovies.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCineMovies.py	2011-01-13 12:11:22 UTC (rev 1489)
+++ trunk/lib/plugins/movie/PluginMovieCineMovies.py	2011-01-13 12:12:39 UTC (rev 1490)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2009 Vasco Nunes, Piotr O&#380;arowski
+# Copyright (c) 2005-2011 Vasco Nunes, Piotr O&#380;arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -71,13 +71,13 @@
         self.genre = gutils.trim(self.page, 'Genre :', '&lt;/tr&gt;')
 
     def get_cast(self):
-        self.cast = gutils.trim(self.page_cast, 'diens&lt;/h2&gt; :', '&lt;/table&gt;')
+        self.cast = gutils.trim(self.page_cast, 'diens&lt;/h2&gt; :', '&lt;div id=&quot;cast_film&quot;&gt;')
         self.cast = self.cast.replace('\n', '')
         self.cast = self.cast.replace('&lt;/tr&gt;', '\n')
+        self.cast = re.sub('&lt;/a&gt;&lt;/h5&gt;', _(' as '), self.cast)
         self.cast = gutils.clean(self.cast)
-        self.cast = re.sub('\n[ \t]+', '\n', self.cast)
-        self.cast = re.sub('[.][.]+', _(' as '), self.cast)
         self.cast = re.sub(_(' as ') + '(\n|$)', '\n', self.cast)
+        self.cast = re.sub('[ \t]*\n[ \t]+', '\n', self.cast)
 
     def get_classification(self):
         self.classification = ''
@@ -101,7 +101,7 @@
         self.rating = gutils.clean(gutils.trim(self.page, '&lt;div id=scoree&gt;', '&lt;/div&gt;'))
 
     def get_screenplay(self):
-        self.screenplay = gutils.clean(gutils.trim(self.page_cast, 'nario de&lt;/h2&gt; :', '&lt;/a&gt;'))
+        self.screenplay = gutils.clean(gutils.trim(self.page_cast, 'nario de&lt;/h2&gt; :', '&lt;/h5&gt;'))
 
 
 class SearchPlugin(movie.SearchMovie):


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000950.html">[Griffith-svn] r1489 - trunk/lib/plugins/movie
</A></li>
	<LI>Next message: <A HREF="000952.html">[Griffith-svn] r1491 - trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#951">[ date ]</a>
              <a href="thread.html#951">[ thread ]</a>
              <a href="subject.html#951">[ subject ]</a>
              <a href="author.html#951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/griffith-svn">More information about the Griffith-svn
mailing list</a><br>
</body></html>
