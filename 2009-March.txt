From mikej06 at mail.berlios.de  Tue Mar  3 20:38:12 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 3 Mar 2009 20:38:12 +0100
Subject: [Griffith-svn] r1170 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200903031938.n23JcClr030371@sheep.berlios.de>

Author: mikej06
Date: 2009-03-03 20:37:09 +0100 (Tue, 03 Mar 2009)
New Revision: 1170

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieCinematografo.py
Log:
Cinematografo movie plugin updated

Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-02-28 21:58:24 UTC (rev 1169)
+++ branches/0.9.x/ChangeLog	2009-03-03 19:37:09 UTC (rev 1170)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-03  Michael Jahn
+	* Cinematografo movie plugin updated
+
 2009-02-07  Michael Jahn
 	* CineMovies movie plugin updated
 

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py	2009-02-28 21:58:24 UTC (rev 1169)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-03 19:37:09 UTC (rev 1170)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2008 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -23,19 +23,19 @@
 
 import gutils, movie, string, re
 
-plugin_name = "Cinematografo"
-plugin_description = "Rivista del Cinematografo dal 1928"
-plugin_url = "www.cinematografo.it"
-plugin_language = _("Italian")
-plugin_author = "Vasco Nunes, Piotr O?arowski"
+plugin_name         = "Cinematografo"
+plugin_description  = "Rivista del Cinematografo dal 1928"
+plugin_url          = "www.cinematografo.it"
+plugin_language     = _("Italian")
+plugin_author       = "Vasco Nunes, Piotr O?arowski"
 plugin_author_email = "<vasco.m.nunes at gmail.com>"
-plugin_version = "1.2"
+plugin_version      = "1.3"
 
 class Plugin(movie.Movie):
 	def __init__(self, id):
-		self.encode='iso-8859-1'
+		self.encode   = 'iso-8859-1'
 		self.movie_id = id
-		self.url = "http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=%s" % str(self.movie_id)
+		self.url      = "http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=%s" % str(self.movie_id)
 
 	def get_image(self):
 		# Find the film's poster image
@@ -142,8 +142,8 @@
 class SearchPlugin(movie.SearchMovie):
 	# A movie search object
 	def __init__(self):
-		self.encode='iso-8859-1'
-		self.original_url_search   = "http://www.cinematografo.it/bancadati/consultazione/trovatitoli.jsp?tipo=CONTIENEPAROLE&word="
+		self.encode                = 'iso-8859-1'
+		self.original_url_search   = 'http://www.cinematografo.it/bancadati/consultazione/trovatitoli.jsp?startrighe=0&endrighe=100&tipo=CONTIENEPAROLE&word='
 		self.translated_url_search = self.original_url_search
 
 	def search(self, parent_window):
@@ -180,8 +180,9 @@
 	# dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
 	#
 	test_configuration = {
-		'Rocky'	: [ 12, 12 ],
-		'per?'	: [  6,  6 ]
+		'Rocky'      : [ 12, 12 ],
+		'per?'       : [  6,  6 ],
+		'il ritorno' : [ 95, 95 ]
 	}
 
 class PluginTest:

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-02-28 21:58:24 UTC (rev 1169)
+++ trunk/ChangeLog	2009-03-03 19:37:09 UTC (rev 1170)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-03  Michael Jahn
+	* Cinematografo movie plugin updated
+
 2009-02-28  Michael Jahn
 	* screenplay, cameraman, resolution and barcode added to Search-For section in preferences
 

Modified: trunk/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-02-28 21:58:24 UTC (rev 1169)
+++ trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-03 19:37:09 UTC (rev 1170)
@@ -29,13 +29,13 @@
 plugin_language     = _("Italian")
 plugin_author       = "Vasco Nunes, Piotr O?arowski"
 plugin_author_email = "<vasco.m.nunes at gmail.com>"
-plugin_version      = "1.2"
+plugin_version      = "1.3"
 
 class Plugin(movie.Movie):
     def __init__(self, id):
-        self.encode='iso-8859-1'
+        self.encode   = 'iso-8859-1'
         self.movie_id = id
-        self.url = "http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=%s" % str(self.movie_id)
+        self.url      = "http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=%s" % str(self.movie_id)
 
     def get_image(self):
         # Find the film's poster image
@@ -129,8 +129,8 @@
 class SearchPlugin(movie.SearchMovie):
     # A movie search object
     def __init__(self):
-        self.encode='iso-8859-1'
-        self.original_url_search = "http://www.cinematografo.it/bancadati/consultazione/trovatitoli.jsp?tipo=CONTIENEPAROLE&word="
+        self.encode                = 'iso-8859-1'
+        self.original_url_search   = 'http://www.cinematografo.it/bancadati/consultazione/trovatitoli.jsp?startrighe=0&endrighe=100&tipo=CONTIENEPAROLE&word='
         self.translated_url_search = self.original_url_search
 
     def search(self, parent_window):
@@ -167,8 +167,9 @@
     # dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky' : [ 12, 12 ],
-        'per?'  : [  6,  6 ]
+        'Rocky'      : [ 12, 12 ],
+        'per?'       : [  6,  6 ],
+        'il ritorno' : [ 95, 95 ]
     }
 
 class PluginTest:



From mikej06 at mail.berlios.de  Tue Mar  3 22:10:17 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 3 Mar 2009 22:10:17 +0100
Subject: [Griffith-svn] r1171 - branches/0.9.x/lib/plugins/movie
	trunk/lib/plugins/movie
Message-ID: <200903032110.n23LAHG6013465@sheep.berlios.de>

Author: mikej06
Date: 2009-03-03 22:09:53 +0100 (Tue, 03 Mar 2009)
New Revision: 1171

Modified:
   branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
   trunk/lib/plugins/movie/PluginMovieIMDB.py
Log:
changed IMDb search urls; gives hopefully better results

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-03 19:37:09 UTC (rev 1170)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-03 21:09:53 UTC (rev 1171)
@@ -188,14 +188,29 @@
 	PATTERN2 = re.compile(r"""<a href=['"]/title/tt([0-9]+)/["'](.*?)</tr>""")
 
 	def __init__(self):
-		self.translated_url_search = 'http://www.imdb.com/List?words='
-		self.original_url_search = 'http://www.imdb.com/find?more=tt;q='
+		# http://www.imdb.com/List?words=
+		# finds every title sorted alphabetically, first results are with a quote at
+		# the beginning (episodes from tv series), no popular results at first
+		# http://www.imdb.com/find?more=tt;q=
+		# finds a whole bunch of results. if you look for "Rocky" you will get 903 results.
+		# http://www.imdb.com/find?s=tt;q=
+		# seems to give the best results. 88 results for "Rocky", popular titles first.
+		self.original_url_search   = 'http://www.imdb.com/find?s=tt;q='
+		self.translated_url_search = 'http://www.imdb.com/find?s=tt;q='
 		self.encode = 'utf-8'
 
 	def search(self,parent_window):
 		self.open_search(parent_window)
 		tmp_page = gutils.trim(self.page, 'Here are the', '</TABLE>')
-		if tmp_page == '':
+		if not tmp_page:
+			has_results = re.match('[(]Displaying [1-9][0-7]* Results[)]', self.page)
+			if not has_results:
+				# nothing or one result found, try another url which looks deeper in the imdb database
+				# example: Adventures of Falcon -> one result, jumps directly to the movie page
+				# which isn't supported by this plugin
+				self.url = 'http://www.imdb.com/find?more=tt;q='
+				if not self.open_search(parent_window):
+					return None
 			self.page = gutils.trim(self.page, '(Displaying', '<b>Suggestions For Improving Your Results</b>')
 		else:
 			self.page = tmp_page

Modified: trunk/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-03 19:37:09 UTC (rev 1170)
+++ trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-03 21:09:53 UTC (rev 1171)
@@ -186,8 +186,15 @@
     PATTERN2 = re.compile(r"""<a href=['"]/title/tt([0-9]+)/["'](.*?)</tr>""")
 
     def __init__(self):
-        self.original_url_search   = 'http://www.imdb.com/List?words='
-        self.translated_url_search = 'http://www.imdb.com/find?more=tt;q='
+        # http://www.imdb.com/List?words=
+        # finds every title sorted alphabetically, first results are with a quote at
+        # the beginning (episodes from tv series), no popular results at first
+        # http://www.imdb.com/find?more=tt;q=
+        # finds a whole bunch of results. if you look for "Rocky" you will get 903 results.
+        # http://www.imdb.com/find?s=tt;q=
+        # seems to give the best results. 88 results for "Rocky", popular titles first.
+        self.original_url_search   = 'http://www.imdb.com/find?s=tt;q='
+        self.translated_url_search = 'http://www.imdb.com/find?s=tt;q='
         self.encode = 'utf-8'
 
     def search(self,parent_window):
@@ -195,6 +202,14 @@
             return None
         tmp_page = gutils.trim(self.page, 'Here are the', '</TABLE>')
         if not tmp_page:
+            has_results = re.match('[(]Displaying [1-9][0-7]* Results[)]', self.page)
+            if not has_results:
+                # nothing or one result found, try another url which looks deeper in the imdb database
+                # example: Adventures of Falcon -> one result, jumps directly to the movie page
+                # which isn't supported by this plugin
+                self.url = 'http://www.imdb.com/find?more=tt;q='
+                if not self.open_search(parent_window):
+                    return None
             self.page = gutils.trim(self.page, '(Displaying', '<b>Suggestions For Improving Your Results</b>')
         else:
             self.page = tmp_page



From mikej06 at mail.berlios.de  Fri Mar  6 22:01:38 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Fri, 6 Mar 2009 22:01:38 +0100
Subject: [Griffith-svn] r1172 - trunk/lib
Message-ID: <200903062101.n26L1cdC012645@sheep.berlios.de>

Author: mikej06
Date: 2009-03-06 22:01:18 +0100 (Fri, 06 Mar 2009)
New Revision: 1172

Modified:
   trunk/lib/movie.py
Log:
make decoding of webpage data a little bit more stable

Modified: trunk/lib/movie.py
===================================================================
--- trunk/lib/movie.py	2009-03-03 21:09:53 UTC (rev 1171)
+++ trunk/lib/movie.py	2009-03-06 21:01:18 UTC (rev 1172)
@@ -169,7 +169,17 @@
                 # check for gzip compressed pages before decoding to unicode
                 if len(data) > 2 and data[0:2] == '\037\213':
                     data = gutils.decompress(data)
-                data = data.decode(self.encode)
+                try:
+                    # try to decode it strictly
+                    data = data.decode(self.encode)
+                except UnicodeDecodeError, exc:
+                    # something is wrong, perhaps a wrong character set
+                    # or some pages are not as strict as they should be
+                    # (like OFDb, mixes utf8 with iso8859-1)
+                    # I want to log the error here so that I can find it
+                    # but the program should not terminate
+                    log.error(exc)
+                    data = data.decode(self.encode, 'ignore')
         except IOError:
             pass
         if url is None:



From mikej06 at mail.berlios.de  Fri Mar  6 22:08:15 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Fri, 6 Mar 2009 22:08:15 +0100
Subject: [Griffith-svn] r1173 - branches/0.9.x/lib
	branches/0.9.x/lib/plugins/movie trunk/lib trunk/lib/plugins/movie
Message-ID: <200903062108.n26L8F04012999@sheep.berlios.de>

Author: mikej06
Date: 2009-03-06 22:07:50 +0100 (Fri, 06 Mar 2009)
New Revision: 1173

Modified:
   branches/0.9.x/lib/amazon.py
   branches/0.9.x/lib/plugins/movie/PluginMovieAmazon.py
   trunk/lib/amazon.py
   trunk/lib/plugins/movie/PluginMovieAmazon.py
Log:
fixed Amazon plugin search with non-ascii characters

Modified: branches/0.9.x/lib/amazon.py
===================================================================
--- branches/0.9.x/lib/amazon.py	2009-03-06 21:01:18 UTC (rev 1172)
+++ branches/0.9.x/lib/amazon.py	2009-03-06 21:07:50 UTC (rev 1173)
@@ -225,7 +225,7 @@
 def buildURL(search_type, searchfield, searchvalue, product_line, type, page, license_key, locale, associate):
     _checkLocaleSupported(locale)
     if isinstance(searchvalue, unicode):
-        searchvalue = searchvalue.encode('iso8859-1')
+        searchvalue = searchvalue.encode('utf8')
     url = "http://" + _supportedLocales[locale][1]
     if search_type == 'ItemLookup':
         url += "&AssociateTag=%s" % associate

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieAmazon.py	2009-03-06 21:01:18 UTC (rev 1172)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieAmazon.py	2009-03-06 21:07:50 UTC (rev 1173)
@@ -43,9 +43,9 @@
 class Plugin(movie.Movie):
 
 	def __init__(self, id):
-		self.encode='utf8'
+		self.encode   = 'utf8'
 		self.movie_id = id
-		self.url = 'http://www.amazon.de/dp/' + str(self.movie_id)
+		self.url      = 'http://www.amazon.de/dp/' + str(self.movie_id)
 
 	def open_page(self, parent_window=None, url=None):
 		# dont use base functionality
@@ -223,8 +223,8 @@
 	def __init__(self):
 		self.original_url_search   = 'http://www.amazon.de'
 		self.translated_url_search = 'http://www.amazon.de'
-		self.encode='utf8'
-		self.remove_accents = False
+		self.encode                = 'utf8'
+		self.remove_accents        = False
 
 	def search(self,parent_window):
 		# dont use base functionality
@@ -245,7 +245,7 @@
 				locale = 'jp'
 			else:
 				locale = None
-			retriever = AmazonRetriever(self.title.encode('iso8859-1'), locale, parent_window, self.progress, self.debug)
+			retriever = AmazonRetriever(self.title, locale, parent_window, self.progress, self.debug)
 			retriever.start()
 			while retriever.isAlive():
 				self.progress.pulse()
@@ -371,9 +371,9 @@
 	# dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
 	#
 	test_configuration = {
-		'Rocky Balboa'			: [ 10, 10 ],
-		'Arahan'				: [ 6, 6 ],
-		'Ein gl?ckliches Jahr'	: [ 2, 2 ]
+		'Rocky Balboa'         : [ 16, 16 ],
+		'Arahan'               : [  7,  7 ],
+		'Ein gl?ckliches Jahr' : [  2,  2 ]
 	}
 
 class PluginTest:

Modified: trunk/lib/amazon.py
===================================================================
--- trunk/lib/amazon.py	2009-03-06 21:01:18 UTC (rev 1172)
+++ trunk/lib/amazon.py	2009-03-06 21:07:50 UTC (rev 1173)
@@ -227,7 +227,7 @@
 def buildURL(search_type, searchfield, searchvalue, product_line, type, page, license_key, locale, associate):
     _checkLocaleSupported(locale)
     if isinstance(searchvalue, unicode):
-        searchvalue = searchvalue.encode('iso8859-1')
+        searchvalue = searchvalue.encode('utf-8') # needed for urllib.quote
     url = "http://" + _supportedLocales[locale][1]
     if search_type == 'ItemLookup':
         url += "&AssociateTag=%s" % associate

Modified: trunk/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-03-06 21:01:18 UTC (rev 1172)
+++ trunk/lib/plugins/movie/PluginMovieAmazon.py	2009-03-06 21:07:50 UTC (rev 1173)
@@ -44,9 +44,9 @@
 class Plugin(movie.Movie):
 
     def __init__(self, id):
-        self.encode='utf8'
+        self.encode   = 'utf8'
         self.movie_id = id
-        self.url = 'http://www.amazon.de/dp/' + str(self.movie_id)
+        self.url      = 'http://www.amazon.de/dp/' + str(self.movie_id)
 
     def open_page(self, parent_window=None, url=None):
         # dont use base functionality
@@ -227,8 +227,8 @@
     def __init__(self):
         self.original_url_search   = 'http://www.amazon.de'
         self.translated_url_search = 'http://www.amazon.de'
-        self.encode='utf8'
-        self.remove_accents = False
+        self.encode                = 'utf8'
+        self.remove_accents        = False
 
     def search(self,parent_window):
         # dont use base functionality
@@ -249,7 +249,7 @@
                 locale = 'jp'
             else:
                 locale = None
-            retriever = AmazonRetriever(self.title.encode('iso8859-1'), locale, parent_window, self.progress)
+            retriever = AmazonRetriever(self.title, locale, parent_window, self.progress)
             retriever.start()
             while retriever.isAlive():
                 self.progress.pulse()
@@ -374,9 +374,9 @@
     # dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky Balboa'          : [ 10, 10 ],
-        'Arahan'                : [ 6, 6 ],
-        'Ein gl?ckliches Jahr'  : [ 2, 2 ]
+        'Rocky Balboa'         : [ 16, 16 ],
+        'Arahan'               : [  7,  7 ],
+        'Ein gl?ckliches Jahr' : [  2,  2 ]
     }
 
 class PluginTest:
@@ -407,7 +407,8 @@
             'notes'               : 'EAN: 4045167004504',
             'runtime'             : 97,
             'image'               : True,
-            'rating'              : 9
+            'rating'              : 9,
+            'barcode'             : '4045167004504'
         },
         'B0009NSASM' : { 
             'title'               : 'Ein gl?ckliches Jahr',
@@ -428,7 +429,8 @@
             'notes'               : 'EAN: 7321921998843',
             'runtime'             : 110,
             'image'               : True,
-            'rating'              : 10
+            'rating'              : 10,
+            'barcode'             : '7321921998843'
         },
         'B000BSNOD6' : { 
             'title'               : 'Arahan (Vanilla-DVD)',
@@ -448,6 +450,7 @@
             'notes'               : 'EAN: 4013549871105',
             'runtime'             : 108,
             'image'               : True,
-            'rating'              : 8
+            'rating'              : 8,
+            'barcode'             : '4013549871105'
         }
     }



From mikej06 at mail.berlios.de  Fri Mar  6 22:12:54 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Fri, 6 Mar 2009 22:12:54 +0100
Subject: [Griffith-svn] r1174 - branches/0.9.x/lib/plugins/movie
	trunk/lib/plugins/movie
Message-ID: <200903062112.n26LCs1e013368@sheep.berlios.de>

Author: mikej06
Date: 2009-03-06 22:11:47 +0100 (Fri, 06 Mar 2009)
New Revision: 1174

Modified:
   branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py
   branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py
   branches/0.9.x/lib/plugins/movie/PluginMovieKinoDe.py
   branches/0.9.x/lib/plugins/movie/PluginMovieOFDb.py
   branches/0.9.x/lib/plugins/movie/PluginMovieZelluloid.py
   trunk/lib/plugins/movie/PluginMovieCinematografo.py
   trunk/lib/plugins/movie/PluginMovieIMDB-de.py
   trunk/lib/plugins/movie/PluginMovieKinoDe.py
   trunk/lib/plugins/movie/PluginMovieOFDb.py
   trunk/lib/plugins/movie/PluginMovieZelluloid.py
Log:
testdata corrected for some plugins

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -224,7 +224,7 @@
 			'country'			: 'USA',
 			'genre'				: 'drammatico, sportivo',
 			'classification'	: False,
-			'studio'			: '20th Century Fox Italia',
+			'studio'			: '20th Century Fox Italia, Dvd: 20th Century Fox Home Entertainment',
 			'o_site'			: False,
 			'site'				: 'http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=47931',
 			'trailer'			: False,

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2007-2008 Michael Jahn
+# Copyright (c) 2007-2009 Michael Jahn
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -34,9 +34,9 @@
 
 class Plugin(movie.Movie):
 	def __init__(self, id):
-		self.encode = 'iso8859-1'
+		self.encode   = 'iso8859-1'
 		self.movie_id = id
-		self.url = "http://german.imdb.com/title/tt%s" % str(self.movie_id)
+		self.url      = "http://german.imdb.com/title/tt%s" % str(self.movie_id)
 
 	def initialize(self):
 		self.cast_page = self.open_page(url=self.url + '/fullcredits')
@@ -228,10 +228,10 @@
 	PATTERN_POWERSEARCH = re.compile(r"""Here are the [0-9]+ matching titles""")
 
 	def __init__(self):
-		self.original_url_search	= 'http://german.imdb.com/find?more=tt&q='
-		self.translated_url_search	= 'http://german.imdb.com/find?more=tt&q='
-		self.encode = 'utf8'
-		self.remove_accents = False
+		self.original_url_search   = 'http://german.imdb.com/find?more=tt&q='
+		self.translated_url_search = 'http://german.imdb.com/find?more=tt&q='
+		self.encode                = 'utf8'
+		self.remove_accents        = False
 
 	def search(self,parent_window):
 		self.open_search(parent_window)
@@ -269,8 +269,8 @@
 	# dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
 	#
 	test_configuration = {
-		'Rocky Balboa'			: [ 15, 15 ],
-		'Ein gl?ckliches Jahr'	: [  6,  6 ]
+		'Rocky Balboa'         : [ 17, 17 ],
+		'Ein gl?ckliches Jahr' : [  6,  6 ]
 	}
 
 class PluginTest:
@@ -288,7 +288,7 @@
 			'director'			: 'Sylvester Stallone',
 			'plot' 				: True,
 			'cast'				: 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
-Burt Young' + _(' as ') + 'Paulie Panina\n\
+Burt Young' + _(' as ') + 'Paulie\n\
 Antonio Tarver' + _(' as ') + 'Mason \'The Line\' Dixon\n\
 Geraldine Hughes' + _(' as ') + 'Marie\n\
 Milo Ventimiglia' + _(' as ') + 'Robert Balboa Jr.\n\
@@ -342,8 +342,8 @@
 Nick Baker' + _(' as ') + 'Irish Pub Bartender\n\
 Don Sherman' + _(' as ') + 'Andy\n\
 Stu Nahan' + _(' as ') + 'Computer Fight Commentator (Sprechrolle)\n\
-Gary Compton' + _(' as ') + 'Sicherheitsbediensteter\n\
-?brige Besetzung in alphabetischer Reihenfolge:\n\
+Gary Compton' + _(' as ') + 'Sicherheitsbediensteter ?brige Besetzung in alphabetischer Reihenfolge:\n\
+Andrew Aninsman' + _(' as ') + 'Promoter (nicht im Abspann)\n\
 Ricky Cavazos' + _(' as ') + 'Boxing Spectator (nicht im Abspann)\n\
 Deon Derrico' + _(' as ') + 'High roller at limo (nicht im Abspann)\n\
 Ruben Fischman' + _(' as ') + 'High-Roller in Las Vegas (nicht im Abspann)\n\
@@ -355,7 +355,8 @@
 Mr. T' + _(' as ') + 'Clubber Lang (Archivmaterial) (nicht im Abspann)\n\
 Jacqueline Olivia' + _(' as ') + 'M?dchen (nicht im Abspann)\n\
 Brian H. Scott' + _(' as ') + 'Ringside Cop #1 (nicht im Abspann)\n\
-Jackie Sereni' + _(' as ') + 'Girl on Steps (nicht im Abspann)',
+Jackie Sereni' + _(' as ') + 'Girl on Steps (nicht im Abspann)\n\
+Frank Traynor' + _(' as ') + 'Rechtsanwalt (nicht im Abspann)',
 			'country'			: 'USA',
 			'genre'				: 'Action | Sport',
 			'classification'	: False,
@@ -369,7 +370,7 @@
 + _('Color') + ': Farbe',
 			'runtime'			: 102,
 			'image'				: True,
-			'rating'			: 7
+			'rating'			: 8
 		},
 		'0069815' : { 
 			'title' 			: 'Ein Gl?ckliches Jahr',
@@ -396,10 +397,9 @@
 Joseph Rythmann\n\
 Georges Staquet\n\
 Jacques Villedieu\n\
-Harry Walter\n\
-?brige Besetzung in alphabetischer Reihenfolge:\n\
+Harry Walter ?brige Besetzung in alphabetischer Reihenfolge:\n\
 Anouk Aim?e' + _(' as ') + 'Une femme (Archivmaterial) (nicht im Abspann)\n\
-Elie Chouraqui' + _(' as ') + '(nicht im Abspann)\n\
+Elie Chouraqui' + _(' as ') + ' (nicht im Abspann)\n\
 R?my Julienne' + _(' as ') + 'Chauffeur de taxi (nicht im Abspann)\n\
 Jean-Louis Trintignant' + _(' as ') + 'Un homme (Archivmaterial) (nicht im Abspann)',
 			'country'			: 'Frankreich | Italien',
@@ -415,6 +415,6 @@
 + _('Color') + ': Farbe (Eastmancolor)',
 			'runtime'			: 90,
 			'image'				: True,
-			'rating'			: 7
+			'rating'			: 8
 		},
 	}

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieKinoDe.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieKinoDe.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieKinoDe.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2006-2008
+# Copyright (c) 2006-2009
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -310,7 +310,7 @@
 	# dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
 	#
 	test_configuration = {
-		'Rocky Balboa'			: [ 6, 6 ],
+		'Rocky Balboa'			: [ 7, 7 ],
 		'Arahan'				: [ 6, 6 ],
 		'Ein gl?ckliches Jahr'	: [ 3, 3 ]
 	}

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieOFDb.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieOFDb.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieOFDb.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -164,9 +164,9 @@
 	# dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
 	#
 	test_configuration = {
-		'Rocky Balboa'			: [ 1, 1 ],
-		'Arahan'				: [ 3, 2 ],
-		'gl?ckliches'			: [ 4, 2 ]
+		'Rocky Balboa' : [ 1, 1 ],
+		'Arahan'       : [ 3, 2 ],
+		'gl?ckliches'  : [ 4, 2 ]
 	}
 
 class PluginTest:
@@ -186,12 +186,12 @@
 			'cast'				: 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
 Burt Young' + _(' as ') + 'Paulie\n\
 Milo Ventimiglia' + _(' as ') + 'Robert Jr.\n\
-Geraldine Hughes' + (' as ') + 'Marie\n\
-James Francis Kelly III\n\
+Geraldine Hughes' + _(' as ') + 'Marie\n\
+James Francis Kelly III' + _(' as ') + 'Steps\n\
 Tony Burton\n\
 A.J. Benza\n\
-Henry G. Sanders\n\
-Antonio Tarver' + (' as ') + 'Mason \'The Line\' Dixon\n\
+Henry G. Sanders' + _(' as ') + 'Martin\n\
+Antonio Tarver' + _(' as ') + 'Mason \'The Line\' Dixon\n\
 Pedro Lovell\n\
 Ana Gerena\n\
 Angela Boyd\n\
@@ -200,8 +200,8 @@
 Carter Mitchell\n\
 Vinod Kumar\n\
 Tobias Segal\n\
-Tim Carr\n\
-Paul Dion Monte\n\
+Tim Carr' + _(' as ') + 'Robert\'s Friend \n\
+Paul Dion Monte' + _(' as ') + 'Robert\'s Friend \n\
 Kevin King Templeton\n\
 Robert Michael Kelly\n\
 Don Sherman\n\
@@ -210,9 +210,9 @@
 Stu Nahan\n\
 Gary Compton\n\
 Jody Giambelluca\n\
-Frank Stallone\n\
+Frank Stallone als Frank Stallone Jr.' + _(' as ') + 'Dinner Patron \n\
 Fran Pultro\n\
-Michael Buffer as Ring Announcer\n\
+Michael Buffer' + _(' as ') + 'Ring Announcer\n\
 Jack Lazzarado\n\
 Marc Ratner\n\
 Anthony Lato Jr.\n\
@@ -260,7 +260,7 @@
 			'cast'				: 'Lino Ventura\n\
 Fran?oise Fabian\n\
 Charles G?rard\n\
-Andr? Falcon as Le bijoutier\n\
+Andr? Falcon' + _(' as ') + 'Le bijoutier\n\
 Mireille Mathieu\n\
 Lilo\n\
 Claude Mann\n\
@@ -299,9 +299,9 @@
 			'plot' 				: True,
 			'cast'				: 'Ryoo Seung-beom\n\
 Yoon Soy' + _(' as ') + 'Wi-jin\n\
-Ahn Sung-kee' + _(' as ') + 'Ja-woon\n\
-Jung Doo-hong' + _(' as ') + 'Heuk-Woon\n\
-Yun Ju-sang\n\
+Ahn Seong-gi' + _(' as ') + 'Ja-woon\n\
+Jeong Doo-hong' + _(' as ') + 'Heuk-Woon\n\
+Yoon Joo-sang\n\
 Kim Ji-yeong\n\
 Baek Chan-gi\n\
 Kim Jae-man\n\
@@ -311,10 +311,22 @@
 Geum Dong-hyeon\n\
 Lee Jae-goo\n\
 Ahn Kil-kang\n\
-Bong Tae-gyu\n\
-Im Ha-ryong\n\
+Bong Tae-gyu' + _(' as ') + 'Cameo\n\
+Im Ha-ryong' + _(' as ') + 'Cameo\n\
 Yoon Do-hyeon\n\
-Lee Choon-yeon',
+Lee Choon-yeon\n\
+Kim Yeong-in\n\
+Park Yoon-bae\n\
+Lee Won\n\
+Kim Kyeong-ae\n\
+Yoo Soon-cheol\n\
+Hwang Hyo-eun\n\
+Lee Jae-ho\n\
+Yang Ik-joon\n\
+Kwon Beom-taek\n\
+Min Hye-ryeong\n\
+Oh Soon-tae\n\
+Lee Oi-soo',
 			'country'			: 'S?dkorea',
 			'genre'				: 'Action, Fantasy, Kom?die',
 			'classification'	: '16',

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieZelluloid.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieZelluloid.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieZelluloid.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2007 Michael Jahn
+# Copyright (c) 2007-2009 Michael Jahn
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -253,7 +253,7 @@
 Simon Gosejohann' + _(' as ') + 'junger Mann\n\
 Piet Klocke' + _(' as ') + 'Junggeselle',
 			'country'			: 'Deutschland',
-			'genre'				: 'Kinder',
+			'genre'				: 'Kinderfilm',
 			'classification'	: 'ohne',
 			'studio'			: 'Bavaria Film, Constantin Film',
 			'o_site'			: False,

Modified: trunk/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ trunk/lib/plugins/movie/PluginMovieCinematografo.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -211,7 +211,7 @@
             'country'           : 'USA',
             'genre'             : 'drammatico, sportivo',
             'classification'    : False,
-            'studio'            : '20th Century Fox Italia',
+            'studio'            : '20th Century Fox Italia, Dvd: 20th Century Fox Home Entertainment',
             'o_site'            : False,
             'site'              : 'http://www.cinematografo.it/bancadati/consultazione/schedafilm.jsp?completa=si&codice=47931',
             'trailer'           : False,

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -30,13 +30,13 @@
 plugin_language     = _('German')
 plugin_author       = 'Michael Jahn'
 plugin_author_email = 'mikej06 at hotmail.com'
-plugin_version      = '1.4'
+plugin_version      = '1.5'
 
 class Plugin(movie.Movie):
     def __init__(self, id):
-        self.encode = 'iso8859-1'
+        self.encode   = 'iso8859-1'
         self.movie_id = id
-        self.url = "http://german.imdb.com/title/tt%s" % str(self.movie_id)
+        self.url      = "http://german.imdb.com/title/tt%s" % str(self.movie_id)
 
     def initialize(self):
         self.cast_page = self.open_page(url=self.url + '/fullcredits')
@@ -45,15 +45,11 @@
         self.imdb_page = self.open_page(url="http://www.imdb.com/title/tt%s" % str(self.movie_id))
         self.imdb_plot_page = self.open_page(url="http://www.imdb.com/title/tt%s/plotsummary" % str(self.movie_id))
         # correction of all &#xxx entities
-        self.page = self.page.decode(self.encode)
         self.page = gutils.convert_entities(self.page)
-        self.page = self.page.encode(self.encode)
-        self.cast_page = self.cast_page.decode(self.encode)
         self.cast_page = gutils.convert_entities(self.cast_page)
-        self.cast_page = self.cast_page.encode(self.encode)
-        self.plot_page = self.plot_page.decode(self.encode)
         self.plot_page = gutils.convert_entities(self.plot_page)
-        self.plot_page = self.plot_page.encode(self.encode)
+        self.imdb_page = gutils.convert_entities(self.imdb_page)
+        self.imdb_plot_page = gutils.convert_entities(self.imdb_plot_page)
 
     def get_image(self):
         tmp = string.find(self.page, 'a name="poster"')
@@ -217,8 +213,8 @@
     def __init__(self):
         self.original_url_search   = 'http://german.imdb.com/find?more=tt&q='
         self.translated_url_search = 'http://german.imdb.com/find?more=tt&q='
-        self.encode = 'utf8'
-        self.remove_accents = False
+        self.encode                = 'utf8'
+        self.remove_accents        = False
 
     def search(self,parent_window):
         if not self.open_search(parent_window):
@@ -257,7 +253,7 @@
     # dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky Balboa'          : [ 15, 15 ],
+        'Rocky Balboa'         : [ 17, 17 ],
         'Ein gl?ckliches Jahr' : [  6,  6 ]
     }
 
@@ -276,7 +272,7 @@
             'director'          : 'Sylvester Stallone',
             'plot'              : True,
             'cast'              : 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
-Burt Young' + _(' as ') + 'Paulie Panina\n\
+Burt Young' + _(' as ') + 'Paulie\n\
 Antonio Tarver' + _(' as ') + 'Mason \'The Line\' Dixon\n\
 Geraldine Hughes' + _(' as ') + 'Marie\n\
 Milo Ventimiglia' + _(' as ') + 'Robert Balboa Jr.\n\
@@ -330,8 +326,8 @@
 Nick Baker' + _(' as ') + 'Irish Pub Bartender\n\
 Don Sherman' + _(' as ') + 'Andy\n\
 Stu Nahan' + _(' as ') + 'Computer Fight Commentator (Sprechrolle)\n\
-Gary Compton' + _(' as ') + 'Sicherheitsbediensteter\n\
-?brige Besetzung in alphabetischer Reihenfolge:\n\
+Gary Compton' + _(' as ') + 'Sicherheitsbediensteter ?brige Besetzung in alphabetischer Reihenfolge:\n\
+Andrew Aninsman' + _(' as ') + 'Promoter (nicht im Abspann)\n\
 Ricky Cavazos' + _(' as ') + 'Boxing Spectator (nicht im Abspann)\n\
 Deon Derrico' + _(' as ') + 'High roller at limo (nicht im Abspann)\n\
 Ruben Fischman' + _(' as ') + 'High-Roller in Las Vegas (nicht im Abspann)\n\
@@ -343,7 +339,8 @@
 Mr. T' + _(' as ') + 'Clubber Lang (Archivmaterial) (nicht im Abspann)\n\
 Jacqueline Olivia' + _(' as ') + 'M?dchen (nicht im Abspann)\n\
 Brian H. Scott' + _(' as ') + 'Ringside Cop #1 (nicht im Abspann)\n\
-Jackie Sereni' + _(' as ') + 'Girl on Steps (nicht im Abspann)',
+Jackie Sereni' + _(' as ') + 'Girl on Steps (nicht im Abspann)\n\
+Frank Traynor' + _(' as ') + 'Rechtsanwalt (nicht im Abspann)',
             'country'           : 'USA',
             'genre'             : 'Action | Sport',
             'classification'    : False,
@@ -357,7 +354,7 @@
 + _('Color') + ': Farbe',
             'runtime'           : 102,
             'image'             : True,
-            'rating'            : 7
+            'rating'            : 8
         },
         '0069815' : { 
             'title'             : 'Ein Gl?ckliches Jahr',
@@ -384,10 +381,9 @@
 Joseph Rythmann\n\
 Georges Staquet\n\
 Jacques Villedieu\n\
-Harry Walter\n\
-?brige Besetzung in alphabetischer Reihenfolge:\n\
+Harry Walter ?brige Besetzung in alphabetischer Reihenfolge:\n\
 Anouk Aim?e' + _(' as ') + 'Une femme (Archivmaterial) (nicht im Abspann)\n\
-Elie Chouraqui' + _(' as ') + '(nicht im Abspann)\n\
+Elie Chouraqui' + _(' as ') + ' (nicht im Abspann)\n\
 R?my Julienne' + _(' as ') + 'Chauffeur de taxi (nicht im Abspann)\n\
 Jean-Louis Trintignant' + _(' as ') + 'Un homme (Archivmaterial) (nicht im Abspann)',
             'country'            : 'Frankreich | Italien',
@@ -403,6 +399,6 @@
 + _('Color') + ': Farbe (Eastmancolor)',
             'runtime'            : 90,
             'image'              : True,
-            'rating'             : 7
+            'rating'             : 8
         },
     }

Modified: trunk/lib/plugins/movie/PluginMovieKinoDe.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieKinoDe.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ trunk/lib/plugins/movie/PluginMovieKinoDe.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -290,7 +290,7 @@
     # dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky Balboa'          : [ 6, 6 ],
+        'Rocky Balboa'          : [ 7, 7 ],
         'Arahan'                : [ 6, 6 ],
         'Ein gl?ckliches Jahr' : [ 3, 3 ]
     }

Modified: trunk/lib/plugins/movie/PluginMovieOFDb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieOFDb.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ trunk/lib/plugins/movie/PluginMovieOFDb.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -10,19 +10,19 @@
 import gutils
 import movie,string,re
 
-plugin_name = "OFDb"
-plugin_description = "Online-Filmdatenbank"
-plugin_url = "www.ofdb.de"
-plugin_language = _("German")
-plugin_author = "Christian Sagmueller, Jessica Katharina Parth"
+plugin_name         = "OFDb"
+plugin_description  = "Online-Filmdatenbank"
+plugin_url          = "www.ofdb.de"
+plugin_language     = _("German")
+plugin_author       = "Christian Sagmueller, Jessica Katharina Parth"
 plugin_author_email = "Jessica.K.P at women-at-work.org"
-plugin_version = "0.10"
+plugin_version      = "0.10"
 
 class Plugin(movie.Movie):
     def __init__(self, id):
-        self.encode='utf-8'
+        self.encode   = 'utf8'
         self.movie_id = id
-        self.url = "http://www.ofdb.de/%s" % str(self.movie_id)
+        self.url      = "http://www.ofdb.de/%s" % str(self.movie_id)
 
     def initialize(self):
         # OFDb didn't provide the runtime, studio and classification but it provide a link to the german imdb entry
@@ -116,8 +116,8 @@
     def __init__(self):
         self.original_url_search   = "http://www.ofdb.de/view.php?page=suchergebnis&Kat=OTitel&SText="
         self.translated_url_search = "http://www.ofdb.de/view.php?page=suchergebnis&Kat=DTitel&SText="
-        self.encode='utf-8'
-        self.remove_accents = False
+        self.encode                = 'utf8'
+        self.remove_accents        = False
 
     def search(self,parent_window):
         if not self.open_search(parent_window):
@@ -174,12 +174,12 @@
             'cast'                : 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
 Burt Young' + _(' as ') + 'Paulie\n\
 Milo Ventimiglia' + _(' as ') + 'Robert Jr.\n\
-Geraldine Hughes' + (' as ') + 'Marie\n\
-James Francis Kelly III\n\
+Geraldine Hughes' + _(' as ') + 'Marie\n\
+James Francis Kelly III' + _(' as ') + 'Steps\n\
 Tony Burton\n\
 A.J. Benza\n\
-Henry G. Sanders\n\
-Antonio Tarver' + (' as ') + 'Mason \'The Line\' Dixon\n\
+Henry G. Sanders' + _(' as ') + 'Martin\n\
+Antonio Tarver' + _(' as ') + 'Mason \'The Line\' Dixon\n\
 Pedro Lovell\n\
 Ana Gerena\n\
 Angela Boyd\n\
@@ -188,8 +188,8 @@
 Carter Mitchell\n\
 Vinod Kumar\n\
 Tobias Segal\n\
-Tim Carr\n\
-Paul Dion Monte\n\
+Tim Carr' + _(' as ') + 'Robert\'s Friend \n\
+Paul Dion Monte' + _(' as ') + 'Robert\'s Friend \n\
 Kevin King Templeton\n\
 Robert Michael Kelly\n\
 Don Sherman\n\
@@ -198,9 +198,9 @@
 Stu Nahan\n\
 Gary Compton\n\
 Jody Giambelluca\n\
-Frank Stallone\n\
+Frank Stallone als Frank Stallone Jr.' + _(' as ') + 'Dinner Patron \n\
 Fran Pultro\n\
-Michael Buffer as Ring Announcer\n\
+Michael Buffer' + _(' as ') + 'Ring Announcer\n\
 Jack Lazzarado\n\
 Marc Ratner\n\
 Anthony Lato Jr.\n\
@@ -248,7 +248,7 @@
             'cast'                : 'Lino Ventura\n\
 Fran?oise Fabian\n\
 Charles G?rard\n\
-Andr? Falcon as Le bijoutier\n\
+Andr? Falcon' + _(' as ') + 'Le bijoutier\n\
 Mireille Mathieu\n\
 Lilo\n\
 Claude Mann\n\
@@ -287,9 +287,9 @@
             'plot'                 : True,
             'cast'                : 'Ryoo Seung-beom\n\
 Yoon Soy' + _(' as ') + 'Wi-jin\n\
-Ahn Sung-kee' + _(' as ') + 'Ja-woon\n\
-Jung Doo-hong' + _(' as ') + 'Heuk-Woon\n\
-Yun Ju-sang\n\
+Ahn Seong-gi' + _(' as ') + 'Ja-woon\n\
+Jeong Doo-hong' + _(' as ') + 'Heuk-Woon\n\
+Yoon Joo-sang\n\
 Kim Ji-yeong\n\
 Baek Chan-gi\n\
 Kim Jae-man\n\
@@ -299,10 +299,22 @@
 Geum Dong-hyeon\n\
 Lee Jae-goo\n\
 Ahn Kil-kang\n\
-Bong Tae-gyu\n\
-Im Ha-ryong\n\
+Bong Tae-gyu' + _(' as ') + 'Cameo\n\
+Im Ha-ryong' + _(' as ') + 'Cameo\n\
 Yoon Do-hyeon\n\
-Lee Choon-yeon',
+Lee Choon-yeon\n\
+Kim Yeong-in\n\
+Park Yoon-bae\n\
+Lee Won\n\
+Kim Kyeong-ae\n\
+Yoo Soon-cheol\n\
+Hwang Hyo-eun\n\
+Lee Jae-ho\n\
+Yang Ik-joon\n\
+Kwon Beom-taek\n\
+Min Hye-ryeong\n\
+Oh Soon-tae\n\
+Lee Oi-soo',
             'country'            : 'S?dkorea',
             'genre'                : 'Action, Fantasy, Kom?die',
             'classification'    : '16',

Modified: trunk/lib/plugins/movie/PluginMovieZelluloid.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieZelluloid.py	2009-03-06 21:07:50 UTC (rev 1173)
+++ trunk/lib/plugins/movie/PluginMovieZelluloid.py	2009-03-06 21:11:47 UTC (rev 1174)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2007 Michael Jahn
+# Copyright (c) 2007-2009 Michael Jahn
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -180,8 +180,8 @@
     # dict { movie_id -> [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky Balboa'        : [ 1, 1 ],
-        'Die wilden H?hner'    : [ 3, 3 ]
+        'Rocky Balboa'      : [ 1, 1 ],
+        'Die wilden H?hner' : [ 3, 3 ]
     }
 
 class PluginTest:
@@ -195,10 +195,10 @@
     test_configuration = {
         '2835' : { 
             'title'             : 'Rocky Balboa',
-            'o_title'             : 'Rocky Balboa',
-            'director'            : 'Sylvester Stallone',
-            'plot'                 : True,
-            'cast'                : 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
+            'o_title'           : 'Rocky Balboa',
+            'director'          : 'Sylvester Stallone',
+            'plot'              : True,
+            'cast'              : 'Sylvester Stallone' + _(' as ') + 'Rocky Balboa\n\
 Burt Young' + _(' as ') + 'Paulie\n\
 Antonio Tarver' + _(' as ') + 'Mason Dixon\n\
 Geraldine Hughes' + _(' as ') + 'Marie\n\
@@ -210,25 +210,25 @@
 Lou DiBella' + _(' as ') + 'Lou DiBella\n\
 Mike Tyson' + _(' as ') + 'Mike Tyson\n\
 Henry G. Sanders' + _(' as ') + 'Martin',
-            'country'            : 'USA',
-            'genre'                : 'Drama, Sport',
+            'country'           : 'USA',
+            'genre'             : 'Drama, Sport',
             'classification'    : 'ab 12',
             'studio'            : 'Chartoff-Winkler Productions, Columbia Pictures Corporation, Metro-Goldwyn-Mayer, Revolution Studios, Rogue Marble',
             'o_site'            : False,
-            'site'                : 'http://www.zelluloid.de/filme/details.php3?id=2835',
-            'trailer'            : False,
-            'year'                : 2006,
-            'notes'                : False,
-            'runtime'            : 102,
-            'image'                : True,
+            'site'              : 'http://www.zelluloid.de/filme/details.php3?id=2835',
+            'trailer'           : False,
+            'year'              : 2006,
+            'notes'             : False,
+            'runtime'           : 102,
+            'image'             : True,
             'rating'            : 8.0
         },
         '6342' : { 
             'title'             : 'Die wilden H?hner',
-            'o_title'             : 'Die wilden H?hner',
-            'director'            : 'Vivian Naefe',
-            'plot'                 : True,
-            'cast'                : 'Michelle von Treuberg' + _(' as ') + 'Sprotte\n\
+            'o_title'           : 'Die wilden H?hner',
+            'director'          : 'Vivian Naefe',
+            'plot'              : True,
+            'cast'              : 'Michelle von Treuberg' + _(' as ') + 'Sprotte\n\
 Lucie Hollmann' + _(' as ') + 'Frieda\n\
 Paula Riemann' + _(' as ') + 'Melanie\n\
 Zsa Zsa Inci B?rkle' + _(' as ') + 'Trude\n\
@@ -253,17 +253,17 @@
 Axel H?fner' + _(' as ') + 'Schrottplatzw?rter\n\
 Simon Gosejohann' + _(' as ') + 'junger Mann\n\
 Piet Klocke' + _(' as ') + 'Junggeselle',
-            'country'            : 'Deutschland',
-            'genre'                : 'Kinder',
+            'country'           : 'Deutschland',
+            'genre'             : 'Kinderfilm',
             'classification'    : 'ohne',
             'studio'            : 'Bavaria Film, Constantin Film',
             'o_site'            : False,
-            'site'                : 'http://www.zelluloid.de/filme/details.php3?id=6342',
-            'trailer'            : False,
-            'year'                : 2006,
-            'notes'                : False,
-            'runtime'            : 109,
-            'image'                : True,
+            'site'              : 'http://www.zelluloid.de/filme/details.php3?id=6342',
+            'trailer'           : False,
+            'year'              : 2006,
+            'notes'             : False,
+            'runtime'           : 109,
+            'image'             : True,
             'rating'            : 8.0
         }
     }



From mikej06 at mail.berlios.de  Tue Mar 10 21:25:24 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 10 Mar 2009 21:25:24 +0100
Subject: [Griffith-svn] r1175 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200903102025.n2AKPOpu005263@sheep.berlios.de>

Author: mikej06
Date: 2009-03-10 21:24:47 +0100 (Tue, 10 Mar 2009)
New Revision: 1175

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieIMDB-de.py
Log:
[#337758] 'Titel' and 'Original Titel' get the same content
(IMDb-de plugin updated)



Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-03-06 21:11:47 UTC (rev 1174)
+++ branches/0.9.x/ChangeLog	2009-03-10 20:24:47 UTC (rev 1175)
@@ -5,6 +5,10 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-10  Michael Jahn
+	* [#337758] 'Titel' and 'Original Titel' get the same content
+	  (IMDb-de plugin updated)
+
 2009-03-03  Michael Jahn
 	* Cinematografo movie plugin updated
 

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:11:47 UTC (rev 1174)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-10 20:24:47 UTC (rev 1175)
@@ -30,7 +30,7 @@
 plugin_language     = _('German')
 plugin_author       = 'Michael Jahn'
 plugin_author_email = 'mikej06 at hotmail.com'
-plugin_version      = '1.4'
+plugin_version      = '1.5'
 
 class Plugin(movie.Movie):
 	def __init__(self, id):
@@ -64,6 +64,17 @@
 
 	def get_o_title(self):
 		self.o_title = gutils.trim(self.page, '<h1>', '<span')
+		tmp = self.regextrim(self.page, '<h5>(Alternativ|Auch bekannt als):', '</div>')
+		if tmp:
+			elements = string.split(tmp, '<br>')
+			for element in elements:
+				tmp = gutils.before(element, '(Originaltitel)')
+				if tmp <> '':
+					self.o_title = gutils.before(tmp, '- ')
+					if not self.o_title:
+						self.o_title = tmp
+					self.o_title = string.replace(self.o_title, '"', '')
+					break
 
 	def get_title(self):
 		self.title = gutils.trim(self.page, '<h1>', '<span')

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-03-06 21:11:47 UTC (rev 1174)
+++ trunk/ChangeLog	2009-03-10 20:24:47 UTC (rev 1175)
@@ -5,6 +5,10 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-10  Michael Jahn
+	* [#337758] 'Titel' and 'Original Titel' get the same content
+	  (IMDb-de plugin updated)
+
 2009-03-03  Michael Jahn
 	* Cinematografo movie plugin updated
 

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-06 21:11:47 UTC (rev 1174)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2009-03-10 20:24:47 UTC (rev 1175)
@@ -30,7 +30,7 @@
 plugin_language     = _('German')
 plugin_author       = 'Michael Jahn'
 plugin_author_email = 'mikej06 at hotmail.com'
-plugin_version      = '1.5'
+plugin_version      = '1.6'
 
 class Plugin(movie.Movie):
     def __init__(self, id):
@@ -60,6 +60,17 @@
 
     def get_o_title(self):
         self.o_title = gutils.trim(self.page, '<h1>', '<span')
+        tmp = gutils.regextrim(self.page, '<h5>(Alternativ|Auch bekannt als):', '</div>')
+        if tmp:
+            elements = string.split(tmp, '<br>')
+            for element in elements:
+                tmp = gutils.before(element, '(Originaltitel)')
+                if tmp <> '':
+                    self.o_title = gutils.before(tmp, '- ')
+                    if not self.o_title:
+                        self.o_title = tmp
+                    self.o_title = string.replace(self.o_title, '"', '')
+                    break
 
     def get_title(self):
         self.title = gutils.trim(self.page, '<h1>', '<span')



From mikej06 at mail.berlios.de  Tue Mar 10 21:42:34 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Tue, 10 Mar 2009 21:42:34 +0100
Subject: [Griffith-svn] r1176 - branches/0.9.x branches/0.9.x/lib trunk
	trunk/lib
Message-ID: <200903102042.n2AKgYrO008315@sheep.berlios.de>

Author: mikej06
Date: 2009-03-10 21:41:16 +0100 (Tue, 10 Mar 2009)
New Revision: 1176

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/dbupgrade.py
   trunk/ChangeLog
   trunk/lib/dbupgrade.py
Log:
added HD DVD and Blu-ray to the medium table for new databases

Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-03-10 20:24:47 UTC (rev 1175)
+++ branches/0.9.x/ChangeLog	2009-03-10 20:41:16 UTC (rev 1176)
@@ -8,6 +8,7 @@
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content
 	  (IMDb-de plugin updated)
+	* added HD DVD and Blu-ray to the medium table for new databases
 
 2009-03-03  Michael Jahn
 	* Cinematografo movie plugin updated

Modified: branches/0.9.x/lib/dbupgrade.py
===================================================================
--- branches/0.9.x/lib/dbupgrade.py	2009-03-10 20:24:47 UTC (rev 1175)
+++ branches/0.9.x/lib/dbupgrade.py	2009-03-10 20:41:16 UTC (rev 1176)
@@ -48,6 +48,8 @@
 		self.Medium.mapper.mapped_table.insert().execute(name='VHS')
 		self.Medium.mapper.mapped_table.insert().execute(name='BETACAM')
 		self.Medium.mapper.mapped_table.insert().execute(name='LaserDisc')
+		self.Medium.mapper.mapped_table.insert().execute(name='HD DVD')
+		self.Medium.mapper.mapped_table.insert().execute(name='Blu-ray')
 		self.ACodec.mapper.mapped_table.create()
 		self.ACodec.mapper.mapped_table.insert().execute(name='AC-3 Dolby audio')
 		self.ACodec.mapper.mapped_table.insert().execute(name='OGG')

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-03-10 20:24:47 UTC (rev 1175)
+++ trunk/ChangeLog	2009-03-10 20:41:16 UTC (rev 1176)
@@ -8,6 +8,7 @@
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content
 	  (IMDb-de plugin updated)
+	* added HD DVD and Blu-ray to the medium table for new databases
 
 2009-03-03  Michael Jahn
 	* Cinematografo movie plugin updated

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2009-03-10 20:24:47 UTC (rev 1175)
+++ trunk/lib/dbupgrade.py	2009-03-10 20:41:16 UTC (rev 1176)
@@ -50,6 +50,8 @@
         db.media_table.insert(bind=b).execute(name=u'VHS')
         db.media_table.insert(bind=b).execute(name=u'BETACAM')
         db.media_table.insert(bind=b).execute(name=u'LaserDisc')
+        db.media_table.insert(bind=b).execute(name=u'HD DVD')
+        db.media_table.insert(bind=b).execute(name=u'Blu-ray')
         db.ratios_table.insert(bind=b).execute(name=u'16:9')
         db.ratios_table.insert(bind=b).execute(name=u'4:3')
         db.acodecs_table.insert(bind=b).execute(name=u'AC-3 Dolby audio')



From piotrek at mail.berlios.de  Thu Mar 26 21:18:25 2009
From: piotrek at mail.berlios.de (piotrek at BerliOS)
Date: Thu, 26 Mar 2009 21:18:25 +0100
Subject: [Griffith-svn] r1177 - trunk/lib
Message-ID: <200903262018.n2QKIPNp031786@sheep.berlios.de>

Author: piotrek
Date: 2009-03-26 21:18:25 +0100 (Thu, 26 Mar 2009)
New Revision: 1177

Modified:
   trunk/lib/gutils.py
Log:
use python2.5's hashlib if possible


Modified: trunk/lib/gutils.py
===================================================================
--- trunk/lib/gutils.py	2009-03-10 20:41:16 UTC (rev 1176)
+++ trunk/lib/gutils.py	2009-03-26 20:18:25 UTC (rev 1177)
@@ -589,8 +589,12 @@
 
 def md5sum(fobj):
     """Returns an md5 hash for an object with read() method."""
-    import md5
-    m = md5.new()
+    try:
+        import hashlib
+        m = hashlib.md5()
+    except ImportError:
+        import md5
+        m = md5.new()
     while True:
         d = fobj.read(8096)
         if not d:



From mikej06 at mail.berlios.de  Sun Mar 29 21:24:57 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Sun, 29 Mar 2009 21:24:57 +0200
Subject: [Griffith-svn] r1178 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200903291924.n2TJOvxs032097@sheep.berlios.de>

Author: mikej06
Date: 2009-03-29 21:24:25 +0200 (Sun, 29 Mar 2009)
New Revision: 1178

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieIMDB.py
Log:
[#224546] Plot isn't being pulled from IMDB for some movies 



Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-03-26 20:18:25 UTC (rev 1177)
+++ branches/0.9.x/ChangeLog	2009-03-29 19:24:25 UTC (rev 1178)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-29  Michael Jahn
+	* [#224546] Plot isn't being pulled from IMDB for some movies 
+
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content
 	  (IMDb-de plugin updated)

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-26 20:18:25 UTC (rev 1177)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 19:24:25 UTC (rev 1178)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2007 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -24,19 +24,19 @@
 import gutils, movie
 import string, re
 
-plugin_name		= 'IMDb'
-plugin_description	= 'Internet Movie Database'
-plugin_url		= 'www.imdb.com'
-plugin_language		= _('English')
-plugin_author		= 'Vasco Nunes, Piotr O?arowski'
-plugin_author_email	= 'griffith-private at lists.berlios.de'
-plugin_version		= '1.7'
+plugin_name         = 'IMDb'
+plugin_description  = 'Internet Movie Database'
+plugin_url          = 'www.imdb.com'
+plugin_language     = _('English')
+plugin_author       = 'Vasco Nunes, Piotr O?arowski'
+plugin_author_email = 'griffith-private at lists.berlios.de'
+plugin_version      = '1.8'
 
 class Plugin(movie.Movie):
 	def __init__(self, id):
-		self.encode = 'utf-8'
+		self.encode   = 'iso8859-1'
 		self.movie_id = id
-		self.url = "http://imdb.com/title/tt%s" % str(self.movie_id)
+		self.url      = "http://imdb.com/title/tt%s" % str(self.movie_id)
 
 	def initialize(self):
 		self.cast_page = self.open_page(url=self.url + '/fullcredits')
@@ -197,7 +197,7 @@
 		# seems to give the best results. 88 results for "Rocky", popular titles first.
 		self.original_url_search   = 'http://www.imdb.com/find?s=tt;q='
 		self.translated_url_search = 'http://www.imdb.com/find?s=tt;q='
-		self.encode = 'utf-8'
+		self.encode                = 'iso8859-1'
 
 	def search(self,parent_window):
 		self.open_search(parent_window)

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-03-26 20:18:25 UTC (rev 1177)
+++ trunk/ChangeLog	2009-03-29 19:24:25 UTC (rev 1178)
@@ -5,6 +5,9 @@
 (c) 2005-2009  Vasco Nunes, Piotr O?arowski
 
 
+2009-03-29  Michael Jahn
+	* [#224546] Plot isn't being pulled from IMDB for some movies 
+
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content
 	  (IMDb-de plugin updated)

Modified: trunk/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-26 20:18:25 UTC (rev 1177)
+++ trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 19:24:25 UTC (rev 1178)
@@ -2,7 +2,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2007 Vasco Nunes, Piotr O?arowski
+# Copyright (c) 2005-2009 Vasco Nunes, Piotr O?arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -34,9 +34,9 @@
 
 class Plugin(movie.Movie):
     def __init__(self, id):
-        self.encode = 'utf-8'
+        self.encode   = 'iso8859-1'
         self.movie_id = id
-        self.url = "http://imdb.com/title/tt%s" % self.movie_id
+        self.url      = "http://imdb.com/title/tt%s" % self.movie_id
 
     def initialize(self):
         self.cast_page = self.open_page(url=self.url + '/fullcredits')
@@ -195,7 +195,7 @@
         # seems to give the best results. 88 results for "Rocky", popular titles first.
         self.original_url_search   = 'http://www.imdb.com/find?s=tt;q='
         self.translated_url_search = 'http://www.imdb.com/find?s=tt;q='
-        self.encode = 'utf-8'
+        self.encode                = 'iso8859-1'
 
     def search(self,parent_window):
         if not self.open_search(parent_window):



From mikej06 at mail.berlios.de  Sun Mar 29 22:02:50 2009
From: mikej06 at mail.berlios.de (mikej06 at mail.berlios.de)
Date: Sun, 29 Mar 2009 22:02:50 +0200
Subject: [Griffith-svn] r1179 - branches/0.9.x
	branches/0.9.x/lib/plugins/movie trunk trunk/lib/plugins/movie
Message-ID: <200903292002.n2TK2oJ1007275@sheep.berlios.de>

Author: mikej06
Date: 2009-03-29 22:02:21 +0200 (Sun, 29 Mar 2009)
New Revision: 1179

Modified:
   branches/0.9.x/ChangeLog
   branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
   trunk/ChangeLog
   trunk/lib/plugins/movie/PluginMovieIMDB.py
Log:
[#341826] "Country" field from IMDB contains newlines

Modified: branches/0.9.x/ChangeLog
===================================================================
--- branches/0.9.x/ChangeLog	2009-03-29 19:24:25 UTC (rev 1178)
+++ branches/0.9.x/ChangeLog	2009-03-29 20:02:21 UTC (rev 1179)
@@ -6,7 +6,8 @@
 
 
 2009-03-29  Michael Jahn
-	* [#224546] Plot isn't being pulled from IMDB for some movies 
+	* [#224546] Plot isn't being pulled from IMDB for some movies
+	* [#341826] "Country" field from IMDB contains newlines
 
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content

Modified: branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 19:24:25 UTC (rev 1178)
+++ branches/0.9.x/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 20:02:21 UTC (rev 1179)
@@ -118,6 +118,7 @@
 
 	def get_country(self):
 		self.country = gutils.trim(self.page, '<h5>Country:</h5>', '</div>')
+		self.country = re.sub('[\n]+', '', self.country)
 
 	def get_rating(self):
 		pattern = re.compile('>([0-9]([.][0-9])*)[/][0-9][0-9]<')

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2009-03-29 19:24:25 UTC (rev 1178)
+++ trunk/ChangeLog	2009-03-29 20:02:21 UTC (rev 1179)
@@ -6,7 +6,8 @@
 
 
 2009-03-29  Michael Jahn
-	* [#224546] Plot isn't being pulled from IMDB for some movies 
+	* [#224546] Plot isn't being pulled from IMDB for some movies
+	* [#341826] "Country" field from IMDB contains newlines
 
 2009-03-10  Michael Jahn
 	* [#337758] 'Titel' and 'Original Titel' get the same content

Modified: trunk/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 19:24:25 UTC (rev 1178)
+++ trunk/lib/plugins/movie/PluginMovieIMDB.py	2009-03-29 20:02:21 UTC (rev 1179)
@@ -118,6 +118,7 @@
 
     def get_country(self):
         self.country = gutils.trim(self.page, '<h5>Country:</h5>', '</div>')
+        self.country = re.sub('[\n]+', '', self.country)
 
     def get_rating(self):
         pattern = re.compile('>([0-9]([.][0-9])*)[/][0-9][0-9]<')



