<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Griffith-svn] r1041 - in trunk: . glade lib lib/plugins/export	lib/plugins/imp lib/plugins/movie
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/griffith-svn/2008-November/index.html" >
   <LINK REL="made" HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1041%20-%20in%20trunk%3A%20.%20glade%20lib%20lib/plugins/export%0A%09lib/plugins/imp%20lib/plugins/movie&In-Reply-To=%3C200811152139.mAFLdr1e031708%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000518.html">
   <LINK REL="Next"  HREF="000520.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Griffith-svn] r1041 - in trunk: . glade lib lib/plugins/export	lib/plugins/imp lib/plugins/movie</H1>
    <B>piotrek at BerliOS</B> 
    <A HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1041%20-%20in%20trunk%3A%20.%20glade%20lib%20lib/plugins/export%0A%09lib/plugins/imp%20lib/plugins/movie&In-Reply-To=%3C200811152139.mAFLdr1e031708%40sheep.berlios.de%3E"
       TITLE="[Griffith-svn] r1041 - in trunk: . glade lib lib/plugins/export	lib/plugins/imp lib/plugins/movie">piotrek at mail.berlios.de
       </A><BR>
    <I>Sat Nov 15 22:39:53 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000518.html">[Griffith-svn] r1040 - in branches/0.9.x: . lib lib/plugins/export	lib/plugins/imp lib/plugins/movie
</A></li>
        <LI>Next message: <A HREF="000520.html">[Griffith-svn] r1042 - branches/0.9.x/lib	branches/0.9.x/lib/plugins/movie trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#519">[ date ]</a>
              <a href="thread.html#519">[ thread ]</a>
              <a href="subject.html#519">[ subject ]</a>
              <a href="author.html#519">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: piotrek
Date: 2008-11-15 22:39:47 +0100 (Sat, 15 Nov 2008)
New Revision: 1041

Modified:
   trunk/ChangeLog
   trunk/glade/exporthtml.glade
   trunk/griffith
   trunk/lib/about.py
   trunk/lib/add.py
   trunk/lib/advfilter.py
   trunk/lib/backup.py
   trunk/lib/cover.py
   trunk/lib/db.py
   trunk/lib/dbupgrade.py
   trunk/lib/delete.py
   trunk/lib/edit.py
   trunk/lib/gconsole.py
   trunk/lib/gemail.py
   trunk/lib/gutils.py
   trunk/lib/initialize.py
   trunk/lib/loan.py
   trunk/lib/main_treeview.py
   trunk/lib/movie.py
   trunk/lib/people.py
   trunk/lib/plugins/export/PluginExportCSV.py
   trunk/lib/plugins/export/PluginExportHTML.py
   trunk/lib/plugins/export/PluginExportPDF.py
   trunk/lib/plugins/export/PluginExportXML.py
   trunk/lib/plugins/export/PluginExportiPod.py
   trunk/lib/plugins/export/__init__.py
   trunk/lib/plugins/imp/CSV.py
   trunk/lib/plugins/imp/__init__.py
   trunk/lib/plugins/movie/PluginMovie7arte.py
   trunk/lib/plugins/movie/PluginMovieAllocine.py
   trunk/lib/plugins/movie/PluginMovieAmazon.py
   trunk/lib/plugins/movie/PluginMovieAniDB.py
   trunk/lib/plugins/movie/PluginMovieCSFD.py
   trunk/lib/plugins/movie/PluginMovieCineMovies.py
   trunk/lib/plugins/movie/PluginMovieCinematografo.py
   trunk/lib/plugins/movie/PluginMovieCineteka.py
   trunk/lib/plugins/movie/PluginMovieCulturalia.py
   trunk/lib/plugins/movie/PluginMovieDVDEmpire.py
   trunk/lib/plugins/movie/PluginMovieDVDPalace.py
   trunk/lib/plugins/movie/PluginMovieE-Pipoca.py
   trunk/lib/plugins/movie/PluginMovieFDb.py
   trunk/lib/plugins/movie/PluginMovieFilmAffinity.py
   trunk/lib/plugins/movie/PluginMovieFilmDb.py
   trunk/lib/plugins/movie/PluginMovieFilmeVonAZ.py
   trunk/lib/plugins/movie/PluginMovieFilmtipset.py
   trunk/lib/plugins/movie/PluginMovieFilmweb.py
   trunk/lib/plugins/movie/PluginMovieIMDB-de.py
   trunk/lib/plugins/movie/PluginMovieIMDB-es.py
   trunk/lib/plugins/movie/PluginMovieIMDB.py
   trunk/lib/plugins/movie/PluginMovieKinoDe.py
   trunk/lib/plugins/movie/PluginMovieMediadis.py
   trunk/lib/plugins/movie/PluginMovieMoviefone.py
   trunk/lib/plugins/movie/PluginMovieOFDb.py
   trunk/lib/plugins/movie/PluginMovieOnet.py
   trunk/lib/plugins/movie/PluginMoviePTGate.py
   trunk/lib/plugins/movie/PluginMovieStopklatka.py
   trunk/lib/plugins/movie/PluginMovieTanukiAnime.py
   trunk/lib/plugins/movie/PluginMovieWP.py
   trunk/lib/plugins/movie/PluginMovieZelluloid.py
   trunk/lib/preferences.py
   trunk/lib/quick_filter.py
   trunk/lib/sql.py
   trunk/lib/update.py
   trunk/lib/version.py
   trunk/lib/view.py
   trunk/lib/widgets.py
Log:
* Export plugins are now exporting movies listed in main window
* gettext imports removed


Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/ChangeLog	2008-11-15 21:39:47 UTC (rev 1041)
@@ -5,6 +5,9 @@
 (c) 2005-2008  Vasco Nunes, Piotr O&#380;arowski
 
 
+2008-11-15  Piotr O&#380;arowski
+	* Export plugins are now exporting movies listed in main window
+
 2008-11-13  Piotr O&#380;arowski
 	* update translations
 	* sync with 0.9.x branch

Modified: trunk/glade/exporthtml.glade
===================================================================
--- trunk/glade/exporthtml.glade	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/glade/exporthtml.glade	2008-11-15 21:39:47 UTC (rev 1041)
@@ -1,1718 +1,922 @@
-&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
-&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd">http://glade.gnome.org/glade-2.0.dtd</A>&quot;&gt;
-
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
+&lt;!DOCTYPE glade-interface SYSTEM &quot;glade-2.0.dtd&quot;&gt;
+&lt;!--*- mode: xml -*--&gt;
 &lt;glade-interface&gt;
-
-&lt;widget class=&quot;GtkWindow&quot; id=&quot;w_eh&quot;&gt;
-  &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
-  &lt;property name=&quot;width_request&quot;&gt;600&lt;/property&gt;
-  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Export data&lt;/property&gt;
-  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
-  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_CENTER&lt;/property&gt;
-  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
-  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
-  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
-  &lt;property name=&quot;icon_name&quot;&gt;gtk-convert&lt;/property&gt;
-  &lt;property name=&quot;decorated&quot;&gt;True&lt;/property&gt;
-  &lt;property name=&quot;skip_taskbar_hint&quot;&gt;False&lt;/property&gt;
-  &lt;property name=&quot;skip_pager_hint&quot;&gt;False&lt;/property&gt;
-  &lt;property name=&quot;type_hint&quot;&gt;GDK_WINDOW_TYPE_HINT_NORMAL&lt;/property&gt;
-  &lt;property name=&quot;gravity&quot;&gt;GDK_GRAVITY_NORTH_WEST&lt;/property&gt;
-  &lt;property name=&quot;focus_on_map&quot;&gt;True&lt;/property&gt;
-  &lt;property name=&quot;urgency_hint&quot;&gt;False&lt;/property&gt;
-
-  &lt;child&gt;
-    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox1&quot;&gt;
-      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-      &lt;child&gt;
-	&lt;widget class=&quot;GtkNotebook&quot; id=&quot;notebook4&quot;&gt;
-	  &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
-	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;show_tabs&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;show_border&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;tab_pos&quot;&gt;GTK_POS_TOP&lt;/property&gt;
-	  &lt;property name=&quot;scrollable&quot;&gt;False&lt;/property&gt;
-	  &lt;property name=&quot;enable_popup&quot;&gt;False&lt;/property&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkFileChooserWidget&quot; id=&quot;fcw&quot;&gt;
-	      &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;action&quot;&gt;GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER&lt;/property&gt;
-	      &lt;property name=&quot;local_only&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;select_multiple&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;show_hidden&quot;&gt;False&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_destination&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Destination&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox3&quot;&gt;
-	      &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment11&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;xscale&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;left_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkHBox&quot; id=&quot;box_sorting&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;spacing&quot;&gt;8&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label2&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Sort by&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.00999999977648&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_sortby&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-			  &lt;property name=&quot;add_tearoffs&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_reverse&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Reverse&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			  &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_reverse_toggled&quot; last_modification_time=&quot;Thu, 14 Jul 2005 10:20:15 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator5&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment12&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;xscale&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		  &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;left_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkHBox&quot; id=&quot;box_spliting&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label3&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Split into&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_split_num&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;climb_rate&quot;&gt;10&lt;/property&gt;
-			  &lt;property name=&quot;digits&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;numeric&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_IF_VALID&lt;/property&gt;
-			  &lt;property name=&quot;snap_to_ticks&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;adjustment&quot;&gt;50 1 1000 1 10 10&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_split_files&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;files&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			  &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_split_files_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:13:00 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_split_movies&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;entries per page&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;active&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;group&quot;&gt;rb_split_files&lt;/property&gt;
-			  &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_split_movies_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:13:08 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkFrame&quot; id=&quot;frame1&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;label_yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_ETCHED_IN&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment2&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;bottom_padding&quot;&gt;2&lt;/property&gt;
-		      &lt;property name=&quot;left_padding&quot;&gt;12&lt;/property&gt;
-		      &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkHBox&quot; id=&quot;box_include&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_1&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;placeholder/&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_2&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;placeholder/&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_3&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;placeholder/&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label4&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Export&lt;/b&gt;&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-		      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-		      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkFrame&quot; id=&quot;frame2&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;label_yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_ETCHED_IN&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment3&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;left_padding&quot;&gt;12&lt;/property&gt;
-		      &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkTable&quot; id=&quot;table1&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;n_rows&quot;&gt;2&lt;/property&gt;
-			  &lt;property name=&quot;n_columns&quot;&gt;3&lt;/property&gt;
-			  &lt;property name=&quot;homogeneous&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;row_spacing&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;column_spacing&quot;&gt;0&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_seen_only_n&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;unseen only&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_seen_only_n_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:10:22 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_loaned_only_n&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;not loaned only&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_loaned_only_n_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:11:52 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_seen_only&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;seen only&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;group&quot;&gt;rb_seen_only_n&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_seen_only_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:10:15 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_loaned_only&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;loaned only&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;group&quot;&gt;rb_loaned_only_n&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_loaned_only_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:10:42 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_seen&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;none&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;group&quot;&gt;rb_seen_only_n&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_seen_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:10:08 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_loaned&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;none&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;group&quot;&gt;rb_loaned_only_n&lt;/property&gt;
-			      &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_loaned_toggled&quot; last_modification_time=&quot;Wed, 10 Aug 2005 16:10:32 GMT&quot;/&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label5&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Limits&lt;/b&gt;&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-		      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-		      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-		      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_data&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Data&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox4&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox1&quot;&gt;
-		  &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment4&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;left_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;right_padding&quot;&gt;10&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label6&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Header&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry_header&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;editable&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;visibility&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;max_length&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;text&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-		      &lt;property name=&quot;has_frame&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
-		      &lt;property name=&quot;activates_default&quot;&gt;False&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator1&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox2&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox5&quot;&gt;
-		      &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;l_theme&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Template&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_theme&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-			  &lt;property name=&quot;add_tearoffs&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;signal name=&quot;changed&quot; handler=&quot;on_combo_theme_changed&quot; last_modification_time=&quot;Thu, 14 Jul 2005 10:20:47 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkTable&quot; id=&quot;table2&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;n_rows&quot;&gt;3&lt;/property&gt;
-			  &lt;property name=&quot;n_columns&quot;&gt;3&lt;/property&gt;
-			  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;row_spacing&quot;&gt;2&lt;/property&gt;
-			  &lt;property name=&quot;column_spacing&quot;&gt;5&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label7&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Author&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label8&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;E-mail&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label9&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Version&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_author&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;&lt;i&gt;author&lt;/i&gt;&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_email&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;&lt;i&gt;email&lt;/i&gt;&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_version&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;&lt;i&gt;version&lt;/i&gt;&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label14&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label15&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label16&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
-			      &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-			      &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkExpander&quot; id=&quot;expander1&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;expanded&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_desc&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot;&gt;&lt;i&gt;description&lt;/i&gt;&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkLabel&quot; id=&quot;label10&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Description&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkVSeparator&quot; id=&quot;vseparator1&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;2&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox6&quot;&gt;
-		      &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;spacing&quot;&gt;2&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label11&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Style&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_style&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
-			  &lt;property name=&quot;add_tearoffs&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;signal name=&quot;changed&quot; handler=&quot;on_combo_style_changed&quot; last_modification_time=&quot;Thu, 14 Jul 2005 10:20:54 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_custom_style&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Use custom file&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			  &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_custom_style_toggled&quot; last_modification_time=&quot;Thu, 14 Jul 2005 17:16:30 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkFileChooserButton&quot; id=&quot;fcb_custom_style_file&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Choose style file&lt;/property&gt;
-			  &lt;property name=&quot;action&quot;&gt;GTK_FILE_CHOOSER_ACTION_OPEN&lt;/property&gt;
-			  &lt;property name=&quot;local_only&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;show_hidden&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;do_overwrite_confirmation&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;signal name=&quot;selection_changed&quot; handler=&quot;on_fcb_custom_style_file_activated&quot; last_modification_time=&quot;Thu, 14 Jul 2005 18:23:00 GMT&quot;/&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator6&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label17&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Example&lt;/b&gt;&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox5&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;placeholder/&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkButton&quot; id=&quot;button1&quot;&gt;
-			      &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;False&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkImage&quot; id=&quot;image_preview&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;stock&quot;&gt;gtk-missing-image&lt;/property&gt;
-				  &lt;property name=&quot;icon_size&quot;&gt;3&lt;/property&gt;
-				  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-				&lt;/widget&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;placeholder/&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;2&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_theme&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Template&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox7&quot;&gt;
-	      &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;spacing&quot;&gt;0&lt;/property&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkFrame&quot; id=&quot;frame3&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;label_yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_OUT&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment13&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		      &lt;property name=&quot;xscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;yscale&quot;&gt;1&lt;/property&gt;
-		      &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		      &lt;property name=&quot;left_padding&quot;&gt;12&lt;/property&gt;
-		      &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkVBox&quot; id=&quot;vb_posters&quot;&gt;
-			  &lt;property name=&quot;border_width&quot;&gt;8&lt;/property&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkTable&quot; id=&quot;table3&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;n_rows&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
-			      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;row_spacing&quot;&gt;1&lt;/property&gt;
-			      &lt;property name=&quot;column_spacing&quot;&gt;8&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkLabel&quot; id=&quot;label19&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Maximal height&lt;/property&gt;
-				  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-				  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-				  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-				  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-				  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-				  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkLabel&quot; id=&quot;label20&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Maximal width&lt;/property&gt;
-				  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-				  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-				  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-				  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
-				  &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-				  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-				  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_height&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;climb_rate&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;digits&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;numeric&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_ALWAYS&lt;/property&gt;
-				  &lt;property name=&quot;snap_to_ticks&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;adjustment&quot;&gt;200 10 10000 1 10 10&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;top_attach&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;bottom_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-				  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_width&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;climb_rate&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;digits&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;numeric&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_ALWAYS&lt;/property&gt;
-				  &lt;property name=&quot;snap_to_ticks&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;adjustment&quot;&gt;150 10 10000 1 10 10&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;left_attach&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;right_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
-				  &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
-				  &lt;property name=&quot;x_options&quot;&gt;fill&lt;/property&gt;
-				  &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_black&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Black and white&lt;/property&gt;
-			      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-			      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-
-			  &lt;child&gt;
-			    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox7&quot;&gt;
-			      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkLabel&quot; id=&quot;label21&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Format&lt;/property&gt;
-				  &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-				  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-				  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-				  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-				  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-
-			      &lt;child&gt;
-				&lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_format&quot;&gt;
-				  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-				  &lt;property name=&quot;items&quot;&gt;JPEG
+  &lt;widget class=&quot;GtkWindow&quot; id=&quot;w_eh&quot;&gt;
+    &lt;property name=&quot;width_request&quot;&gt;600&lt;/property&gt;
+    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+    &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
+    &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Export data&lt;/property&gt;
+    &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_CENTER&lt;/property&gt;
+    &lt;property name=&quot;icon_name&quot;&gt;gtk-convert&lt;/property&gt;
+    &lt;child&gt;
+      &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox1&quot;&gt;
+        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+        &lt;child&gt;
+          &lt;widget class=&quot;GtkNotebook&quot; id=&quot;notebook4&quot;&gt;
+            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+            &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkFileChooserWidget&quot; id=&quot;fcw&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                &lt;property name=&quot;action&quot;&gt;GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER&lt;/property&gt;
+              &lt;/widget&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_destination&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Destination&lt;/property&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+                &lt;property name=&quot;tab_fill&quot;&gt;False&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox3&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment11&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;xalign&quot;&gt;1&lt;/property&gt;
+                    &lt;property name=&quot;xscale&quot;&gt;0.5&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkHBox&quot; id=&quot;box_sorting&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;spacing&quot;&gt;8&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label2&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;xalign&quot;&gt;0.0099999997764825821&lt;/property&gt;
+                            &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Sort by&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_sortby&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_reverse&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Reverse&lt;/property&gt;
+                            &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                            &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_reverse_toggled&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator5&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                    &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment12&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;xalign&quot;&gt;1&lt;/property&gt;
+                    &lt;property name=&quot;xscale&quot;&gt;0.5&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkHBox&quot; id=&quot;box_spliting&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label3&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Split into&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_split_num&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;adjustment&quot;&gt;50 1 1000 1 10 10&lt;/property&gt;
+                            &lt;property name=&quot;climb_rate&quot;&gt;10&lt;/property&gt;
+                            &lt;property name=&quot;update_policy&quot;&gt;GTK_UPDATE_IF_VALID&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_split_files&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;files&lt;/property&gt;
+                            &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                            &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_split_files_toggled&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkRadioButton&quot; id=&quot;rb_split_movies&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;entries per page&lt;/property&gt;
+                            &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;active&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;group&quot;&gt;rb_split_files&lt;/property&gt;
+                            &lt;signal name=&quot;toggled&quot; handler=&quot;on_rb_split_movies_toggled&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkFrame&quot; id=&quot;frame1&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment2&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;bottom_padding&quot;&gt;2&lt;/property&gt;
+                        &lt;property name=&quot;left_padding&quot;&gt;12&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkHBox&quot; id=&quot;box_include&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_1&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;placeholder/&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_2&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;placeholder/&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkVBox&quot; id=&quot;box_include_3&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;placeholder/&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                          &lt;/widget&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                    &lt;/child&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkLabel&quot; id=&quot;label4&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Export&lt;/b&gt;&lt;/property&gt;
+                        &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                    &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_data&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Data&lt;/property&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                &lt;property name=&quot;tab_fill&quot;&gt;False&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox4&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox1&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment4&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;right_padding&quot;&gt;10&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label6&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Header&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                        &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkEntry&quot; id=&quot;entry_header&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;invisible_char&quot;&gt;*&lt;/property&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator1&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                    &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox2&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox5&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_theme&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Template&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_theme&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+                            &lt;signal name=&quot;changed&quot; handler=&quot;on_combo_theme_changed&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkTable&quot; id=&quot;table2&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;n_rows&quot;&gt;3&lt;/property&gt;
+                            &lt;property name=&quot;n_columns&quot;&gt;3&lt;/property&gt;
+                            &lt;property name=&quot;column_spacing&quot;&gt;5&lt;/property&gt;
+                            &lt;property name=&quot;row_spacing&quot;&gt;2&lt;/property&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label16&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label15&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label14&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;:&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_version&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;&lt;i&gt;version&lt;/i&gt;&lt;/property&gt;
+                                &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_email&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;&lt;i&gt;email&lt;/i&gt;&lt;/property&gt;
+                                &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_author&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;&lt;i&gt;author&lt;/i&gt;&lt;/property&gt;
+                                &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label9&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Version&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;3&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label8&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;E-mail&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label7&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Author&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkExpander&quot; id=&quot;expander1&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;expanded&quot;&gt;True&lt;/property&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_tpl_desc&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot;&gt;&lt;i&gt;description&lt;/i&gt;&lt;/property&gt;
+                                &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label10&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Description&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkVSeparator&quot; id=&quot;vseparator1&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                        &lt;property name=&quot;padding&quot;&gt;2&lt;/property&gt;
+                        &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox6&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                        &lt;property name=&quot;spacing&quot;&gt;2&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label11&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Style&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_style&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;items&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+                            &lt;signal name=&quot;changed&quot; handler=&quot;on_combo_style_changed&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_custom_style&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Use custom file&lt;/property&gt;
+                            &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                            &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_custom_style_toggled&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkFileChooserButton&quot; id=&quot;fcb_custom_style_file&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;Choose style file&lt;/property&gt;
+                            &lt;signal name=&quot;selection_changed&quot; handler=&quot;on_fcb_custom_style_file_activated&quot;/&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkHSeparator&quot; id=&quot;hseparator6&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;padding&quot;&gt;4&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;4&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label17&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                            &lt;property name=&quot;ypad&quot;&gt;1&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;b&gt;Example&lt;/b&gt;&lt;/property&gt;
+                            &lt;property name=&quot;use_markup&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;5&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox5&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;child&gt;
+                              &lt;placeholder/&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkButton&quot; id=&quot;button1&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;border_width&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;focus_on_click&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkImage&quot; id=&quot;image_preview&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;stock&quot;&gt;gtk-missing-image&lt;/property&gt;
+                                    &lt;property name=&quot;icon_size&quot;&gt;3&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;placeholder/&gt;
+                            &lt;/child&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;padding&quot;&gt;2&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;6&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_theme1&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Template&lt;/property&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+                &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                &lt;property name=&quot;tab_fill&quot;&gt;False&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkVBox&quot; id=&quot;vbox7&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;border_width&quot;&gt;4&lt;/property&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkFrame&quot; id=&quot;frame3&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;label_xalign&quot;&gt;0&lt;/property&gt;
+                    &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_OUT&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment13&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;left_padding&quot;&gt;12&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkVBox&quot; id=&quot;vb_posters&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;border_width&quot;&gt;8&lt;/property&gt;
+                            &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkTable&quot; id=&quot;table3&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;n_rows&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;column_spacing&quot;&gt;8&lt;/property&gt;
+                                &lt;property name=&quot;row_spacing&quot;&gt;1&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_width&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;adjustment&quot;&gt;150 10 10000 1 10 10&lt;/property&gt;
+                                    &lt;property name=&quot;climb_rate&quot;&gt;1&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+                                    &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+                                    &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                    &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkSpinButton&quot; id=&quot;sb_height&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;adjustment&quot;&gt;200 10 10000 1 10 10&lt;/property&gt;
+                                    &lt;property name=&quot;climb_rate&quot;&gt;1&lt;/property&gt;
+                                    &lt;property name=&quot;numeric&quot;&gt;True&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                    &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkLabel&quot; id=&quot;label20&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                    &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Maximal width&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                    &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                    &lt;property name=&quot;top_attach&quot;&gt;1&lt;/property&gt;
+                                    &lt;property name=&quot;bottom_attach&quot;&gt;2&lt;/property&gt;
+                                    &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                    &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkLabel&quot; id=&quot;label19&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                    &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Maximal height&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                    &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                    &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                    &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_black&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Black and white&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox7&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;spacing&quot;&gt;4&lt;/property&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkLabel&quot; id=&quot;label21&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Format&lt;/property&gt;
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                                &lt;child&gt;
+                                  &lt;widget class=&quot;GtkComboBox&quot; id=&quot;combo_format&quot;&gt;
+                                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                    &lt;property name=&quot;items&quot;&gt;JPEG
 PNG
 GIF&lt;/property&gt;
-				  &lt;property name=&quot;add_tearoffs&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-				&lt;/widget&gt;
-				&lt;packing&gt;
-				  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-				  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-				  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-				&lt;/packing&gt;
-			      &lt;/child&gt;
-			    &lt;/widget&gt;
-			    &lt;packing&gt;
-			      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			      &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			      &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			    &lt;/packing&gt;
-			  &lt;/child&gt;
-			&lt;/widget&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_convert&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Convert images&lt;/property&gt;
-		      &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-		      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;active&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;inconsistent&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
-		      &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_convert_toggled&quot; last_modification_time=&quot;Sat, 12 Nov 2005 20:14:33 GMT&quot;/&gt;
-		    &lt;/widget&gt;
-		    &lt;packing&gt;
-		      &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
-		    &lt;/packing&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-		&lt;packing&gt;
-		  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-		  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-		&lt;/packing&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;tab_expand&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;tab_fill&quot;&gt;True&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_posters&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Posters&lt;/property&gt;
-	      &lt;property name=&quot;use_underline&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-	      &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-	      &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-	      &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-	      &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-	      &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-	      &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-	    &lt;/widget&gt;
-	    &lt;packing&gt;
-	      &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
-	    &lt;/packing&gt;
-	  &lt;/child&gt;
-	&lt;/widget&gt;
-	&lt;packing&gt;
-	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	  &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-	&lt;/packing&gt;
-      &lt;/child&gt;
-
-      &lt;child&gt;
-	&lt;widget class=&quot;GtkHButtonBox&quot; id=&quot;hbuttonbox12&quot;&gt;
-	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	  &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_END&lt;/property&gt;
-	  &lt;property name=&quot;spacing&quot;&gt;8&lt;/property&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkButton&quot; id=&quot;cancel_button&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;label&quot;&gt;gtk-cancel&lt;/property&gt;
-	      &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-	      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-	      &lt;signal name=&quot;clicked&quot; handler=&quot;on_cancel_button_clicked&quot; last_modification_time=&quot;Thu, 14 Jul 2005 16:48:41 GMT&quot;/&gt;
-	    &lt;/widget&gt;
-	  &lt;/child&gt;
-
-	  &lt;child&gt;
-	    &lt;widget class=&quot;GtkButton&quot; id=&quot;export_button&quot;&gt;
-	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
-	      &lt;property name=&quot;relief&quot;&gt;GTK_RELIEF_NORMAL&lt;/property&gt;
-	      &lt;property name=&quot;focus_on_click&quot;&gt;True&lt;/property&gt;
-	      &lt;signal name=&quot;clicked&quot; handler=&quot;on_export_button_clicked&quot; last_modification_time=&quot;Thu, 14 Jul 2005 16:49:02 GMT&quot;/&gt;
-
-	      &lt;child&gt;
-		&lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment6&quot;&gt;
-		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-		  &lt;property name=&quot;xscale&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;yscale&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;top_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;bottom_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;left_padding&quot;&gt;0&lt;/property&gt;
-		  &lt;property name=&quot;right_padding&quot;&gt;0&lt;/property&gt;
-
-		  &lt;child&gt;
-		    &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox4&quot;&gt;
-		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-		      &lt;property name=&quot;homogeneous&quot;&gt;False&lt;/property&gt;
-		      &lt;property name=&quot;spacing&quot;&gt;2&lt;/property&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkImage&quot; id=&quot;image307&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;stock&quot;&gt;gtk-convert&lt;/property&gt;
-			  &lt;property name=&quot;icon_size&quot;&gt;4&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-
-		      &lt;child&gt;
-			&lt;widget class=&quot;GtkLabel&quot; id=&quot;label13&quot;&gt;
-			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Export&lt;/property&gt;
-			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
-			  &lt;property name=&quot;use_markup&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;justify&quot;&gt;GTK_JUSTIFY_LEFT&lt;/property&gt;
-			  &lt;property name=&quot;wrap&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;selectable&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;xalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;yalign&quot;&gt;0.5&lt;/property&gt;
-			  &lt;property name=&quot;xpad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ypad&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;ellipsize&quot;&gt;PANGO_ELLIPSIZE_NONE&lt;/property&gt;
-			  &lt;property name=&quot;width_chars&quot;&gt;-1&lt;/property&gt;
-			  &lt;property name=&quot;single_line_mode&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;angle&quot;&gt;0&lt;/property&gt;
-			&lt;/widget&gt;
-			&lt;packing&gt;
-			  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-			  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-			  &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
-			&lt;/packing&gt;
-		      &lt;/child&gt;
-		    &lt;/widget&gt;
-		  &lt;/child&gt;
-		&lt;/widget&gt;
-	      &lt;/child&gt;
-	    &lt;/widget&gt;
-	  &lt;/child&gt;
-	&lt;/widget&gt;
-	&lt;packing&gt;
-	  &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
-	  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
-	  &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
-	&lt;/packing&gt;
-      &lt;/child&gt;
-    &lt;/widget&gt;
-  &lt;/child&gt;
-&lt;/widget&gt;
-
+                                  &lt;/widget&gt;
+                                  &lt;packing&gt;
+                                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                    &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                                  &lt;/packing&gt;
+                                &lt;/child&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                                &lt;property name=&quot;position&quot;&gt;2&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                          &lt;/widget&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                    &lt;/child&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;cb_convert&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Convert images&lt;/property&gt;
+                        &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                        &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                        &lt;signal name=&quot;toggled&quot; handler=&quot;on_cb_convert_toggled&quot;/&gt;
+                      &lt;/widget&gt;
+                      &lt;packing&gt;
+                        &lt;property name=&quot;type&quot;&gt;label_item&lt;/property&gt;
+                      &lt;/packing&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                  &lt;packing&gt;
+                    &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                    &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                  &lt;/packing&gt;
+                &lt;/child&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkLabel&quot; id=&quot;l_posters&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Posters&lt;/property&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;type&quot;&gt;tab&lt;/property&gt;
+                &lt;property name=&quot;position&quot;&gt;3&lt;/property&gt;
+                &lt;property name=&quot;tab_fill&quot;&gt;False&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+          &lt;/widget&gt;
+        &lt;/child&gt;
+        &lt;child&gt;
+          &lt;widget class=&quot;GtkHButtonBox&quot; id=&quot;hbuttonbox12&quot;&gt;
+            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+            &lt;property name=&quot;spacing&quot;&gt;8&lt;/property&gt;
+            &lt;property name=&quot;layout_style&quot;&gt;GTK_BUTTONBOX_END&lt;/property&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkButton&quot; id=&quot;cancel_button&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;label&quot;&gt;gtk-cancel&lt;/property&gt;
+                &lt;property name=&quot;use_stock&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                &lt;signal name=&quot;clicked&quot; handler=&quot;on_cancel_button_clicked&quot;/&gt;
+              &lt;/widget&gt;
+            &lt;/child&gt;
+            &lt;child&gt;
+              &lt;widget class=&quot;GtkButton&quot; id=&quot;export_button&quot;&gt;
+                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                &lt;signal name=&quot;clicked&quot; handler=&quot;on_export_button_clicked&quot;/&gt;
+                &lt;child&gt;
+                  &lt;widget class=&quot;GtkAlignment&quot; id=&quot;alignment6&quot;&gt;
+                    &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                    &lt;property name=&quot;xscale&quot;&gt;0&lt;/property&gt;
+                    &lt;property name=&quot;yscale&quot;&gt;0&lt;/property&gt;
+                    &lt;child&gt;
+                      &lt;widget class=&quot;GtkHBox&quot; id=&quot;hbox4&quot;&gt;
+                        &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                        &lt;property name=&quot;spacing&quot;&gt;2&lt;/property&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkImage&quot; id=&quot;image307&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;stock&quot;&gt;gtk-convert&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                        &lt;child&gt;
+                          &lt;widget class=&quot;GtkLabel&quot; id=&quot;label13&quot;&gt;
+                            &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                            &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Export&lt;/property&gt;
+                            &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                          &lt;/widget&gt;
+                          &lt;packing&gt;
+                            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;fill&quot;&gt;False&lt;/property&gt;
+                            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+                          &lt;/packing&gt;
+                        &lt;/child&gt;
+                      &lt;/widget&gt;
+                    &lt;/child&gt;
+                  &lt;/widget&gt;
+                &lt;/child&gt;
+              &lt;/widget&gt;
+              &lt;packing&gt;
+                &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+              &lt;/packing&gt;
+            &lt;/child&gt;
+          &lt;/widget&gt;
+          &lt;packing&gt;
+            &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+            &lt;property name=&quot;position&quot;&gt;1&lt;/property&gt;
+          &lt;/packing&gt;
+        &lt;/child&gt;
+      &lt;/widget&gt;
+    &lt;/child&gt;
+  &lt;/widget&gt;
 &lt;/glade-interface&gt;

Modified: trunk/griffith
===================================================================
--- trunk/griffith	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/griffith	2008-11-15 21:39:47 UTC (rev 1041)
@@ -169,8 +169,14 @@
     ###########        
 
     def on_export_activate(self, menu_iter, plugin_name):
-        export_plugin = __import__('PluginExport%s' % plugin_name)
-        export_plugin.ExportPlugin(self.db, self.locations, self.widgets['window'], config=self.config)
+        module = __import__('PluginExport%s' % plugin_name)
+        plugin = module.ExportPlugin(self.db, self.locations, self.widgets['window'], self._search_conditions, self.config)
+        if plugin.initialize():
+            try:
+                plugin.run()
+            except Exception, e:
+                log.error(str(e))
+            plugin.cleanup()
 
     def on_import_activate(self, *args):
         if self.widgets.has_key('import'):

Modified: trunk/lib/about.py
===================================================================
--- trunk/lib/about.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/about.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gtk
 import version
 import os

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/add.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -23,8 +23,6 @@
 # GNU General Public License, version 2 or later
 
 from sqlalchemy.exceptions import IntegrityError
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import os
 import gtk

Modified: trunk/lib/advfilter.py
===================================================================
--- trunk/lib/advfilter.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/advfilter.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -42,7 +42,7 @@
     'required_tags'   : set(), # like in tags, but movie must contain all listed tags
     'loaned_to'       : set(), # list of person_ids     (search for movies loaned to these people)
     'loan_history'    : set(), # list of person_ids     (search for movies which were loaned by these people)
-    'sort_by'         : set((&quot;number&quot;,)), # &quot;number DESC&quot;
+    'sort_by'         : (&quot;number&quot;,), # &quot;number DESC&quot;
     'equals'          : {}, # {column1: set(value1, value2), column2: set(value3)}
     'equals_n'        : {}, # see above
     'startswith'      : {}, # see above
@@ -401,8 +401,8 @@
 
     self._search_conditions = conditions # save for later
     # TODO: remove after debugging:
-    from pprint import pprint
-    pprint(conditions)
+#    from pprint import pprint
+#    pprint(conditions)
 
     return sql.update_whereclause(query, conditions)
 

Modified: trunk/lib/backup.py
===================================================================
--- trunk/lib/backup.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/backup.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gtk
 import os.path
 import zipfile

Modified: trunk/lib/cover.py
===================================================================
--- trunk/lib/cover.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/cover.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -26,8 +26,6 @@
 import pango
 import string
 import sys
-import gettext
-gettext.install('griffith', unicode=1)
 from reportlab.pdfgen import canvas
 from reportlab.lib.pagesizes import letter, A4
 from reportlab.lib.units import mm

Modified: trunk/lib/db.py
===================================================================
--- trunk/lib/db.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/db.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -24,8 +24,6 @@
 
 # XXX: keep stdlib and SQLAlchemy imports only in this file
 
-import gettext
-gettext.install('griffith', unicode=1)
 from sqlalchemy     import *
 from sqlalchemy.orm import mapper, relation, sessionmaker, validates
 import re

Modified: trunk/lib/dbupgrade.py
===================================================================
--- trunk/lib/dbupgrade.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/dbupgrade.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 from sqlalchemy import *
 import os.path
 import gutils

Modified: trunk/lib/delete.py
===================================================================
--- trunk/lib/delete.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/delete.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -22,8 +22,6 @@
 # GNU General Public License, version 2 or later
 
 import os
-import gettext
-gettext.install('griffith', unicode=1)
 import logging
 log = logging.getLogger(&quot;Griffith&quot;)
 import gutils

Modified: trunk/lib/edit.py
===================================================================
--- trunk/lib/edit.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/edit.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -25,8 +25,6 @@
 import gtk
 import tempfile
 import shutil
-import gettext
-gettext.install('griffith', unicode=1)
 from PIL     import Image
 from urllib  import urlcleanup, FancyURLopener, urlretrieve
 import logging

Modified: trunk/lib/gconsole.py
===================================================================
--- trunk/lib/gconsole.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/gconsole.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import getopt
 import sys
 import gutils

Modified: trunk/lib/gemail.py
===================================================================
--- trunk/lib/gemail.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/gemail.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -24,8 +24,6 @@
 import socket
 import smtplib
 import gutils
-import gettext
-gettext.install('griffith', unicode=1)
 
 socket.setdefaulttimeout(10)
 

Modified: trunk/lib/gutils.py
===================================================================
--- trunk/lib/gutils.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/gutils.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import string
 import os
 import sys

Modified: trunk/lib/initialize.py
===================================================================
--- trunk/lib/initialize.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/initialize.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -25,13 +25,11 @@
 import os
 import string
 import gtk
+import gettext
 import gutils
 import gobject
-import gettext
 import platform
 import re
-import gettext
-gettext.install('griffith', unicode=1)
 from locale import getdefaultlocale
 import logging
 log = logging.getLogger(&quot;Griffith&quot;)

Modified: trunk/lib/loan.py
===================================================================
--- trunk/lib/loan.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/loan.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,7 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
 gettext.install('griffith', unicode=1)
 import gutils
 import gtk

Modified: trunk/lib/main_treeview.py
===================================================================
--- trunk/lib/main_treeview.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/main_treeview.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -23,8 +23,6 @@
 
 from sqlalchemy import select, desc
 from sqlalchemy.sql.expression import Select
-import gettext
-gettext.install('griffith', unicode=1)
 import os
 import gtk
 import logging

Modified: trunk/lib/movie.py
===================================================================
--- trunk/lib/movie.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/movie.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 from urllib import *
 import sys
 import string

Modified: trunk/lib/people.py
===================================================================
--- trunk/lib/people.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/people.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import db
 import logging

Modified: trunk/lib/plugins/export/PluginExportCSV.py
===================================================================
--- trunk/lib/plugins/export/PluginExportCSV.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/PluginExportCSV.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -24,58 +24,51 @@
 import csv
 import gtk
 import os
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import db
+from plugins.export import Base
 
-plugin_name = &quot;CSV&quot;
-plugin_description = _(&quot;Full CSV list export plugin&quot;)
-plugin_author = &quot;Vasco Nunes&quot;
-plugin_author_email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
-plugin_version = &quot;0.2&quot;
+class ExportPlugin(Base):
+    name = &quot;CSV&quot;
+    description = _(&quot;Full CSV list export plugin&quot;)
+    author = &quot;Vasco Nunes&quot;
+    email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
+    version = &quot;0.3&quot;
 
-class ExportPlugin:
+    fields_to_export = ('number', 'o_title', 'title', 'director', 'year', 'classification', 'country',
+                        'genre', 'rating', 'runtime', 'studio', 'seen', 'loaned', 'o_site', 'site', 'trailer',
+                        'plot', 'cast', 'notes', 'image', 'volumes.name', 'collections.name', 'media.name')
 
-    def __init__(self, database, locations, parent, **kwargs):
-        self.db = database
-        self.locations = locations
-        self.parent = parent
-        if kwargs.has_key('config'):
-            self.persistent_config = kwargs['config']
-        else:
-            self.persistent_config = None
-        self.export_csv()
-
-    def export_csv(self):
+    def run(self):
         basedir = None
-        if not self.persistent_config is None:
-            basedir = self.persistent_config.get('export_dir', None, section='export-csv')
-        if basedir is None:
+        if not self.config is None:
+            basedir = self.config.get('export_dir', None, section='export-csv')
+        if not basedir:
             filename = gutils.file_chooser(_(&quot;Export a %s document&quot;)%&quot;CSV&quot;, action=gtk.FILE_CHOOSER_ACTION_SAVE, \
                 buttons=(gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK),name='griffith_list.csv')
         else:
             filename = gutils.file_chooser(_(&quot;Export a %s document&quot;)%&quot;CSV&quot;, action=gtk.FILE_CHOOSER_ACTION_SAVE, \
                 buttons=(gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK),name='griffith_list.csv',folder=basedir)
-        if filename[0]:
-            if not self.persistent_config is None and filename[1]:
-                self.persistent_config.set('export_dir', filename[1], section='export-csv')
-                self.persistent_config.save()
+        if filename and filename[0]:
+            if not self.config is None and filename[1]:
+                self.config.set('export_dir', filename[1], section='export-csv')
+                self.config.save()
             overwrite = None
             if os.path.isfile(filename[0]):
-                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent)
+                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent_window)
                 if response==-8:
                     overwrite = True
                 else:
                     overwrite = False
-                    
+            
             if overwrite == True or overwrite is None:
+                movies = self.get_query().execute()
+
                 writer = csv.writer(file(filename[0], 'w'), dialect=csv.excel)
-                for movie in self.db.session.query(db.Movie).all():
+                for movie in movies:
                     t = []
-                    for s in ('number', 'o_title', 'title', 'director', 'year', 'classification', 'country',
-                            'genre', 'rating', 'runtime', 'studio', 'seen', 'loaned', 'o_site', 'site', 'trailer',
-                            'plot', 'cast', 'notes','image'):
+                    for s in self.exported_columns:
                         t.append(movie[s])
                     writer.writerow(t)
-                gutils.info(_(&quot;%s file has been created.&quot;)%&quot;CSV&quot;, self.parent)
+                gutils.info(_(&quot;%s file has been created.&quot;) % &quot;CSV&quot;, self.parent_window)
+

Modified: trunk/lib/plugins/export/PluginExportHTML.py
===================================================================
--- trunk/lib/plugins/export/PluginExportHTML.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/PluginExportHTML.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -3,7 +3,7 @@
 
 __revision__ = '$Id$'
 
-# Copyright (c) 2005-2007 Piotr O&#380;arowski
+# Copyright (c) 2005-2008 Piotr O&#380;arowski
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -30,21 +30,20 @@
 import version
 import math
 from xml.dom import minidom
-import gettext
-gettext.install('griffith', unicode=1)
 import logging
 log = logging.getLogger(&quot;Griffith&quot;)
 import db
+from plugins.export import Base
 
-plugin_name         = 'HTML'
-plugin_description  = _('Plugin exports data using templates')
-plugin_author       = 'Piotr O&#380;arowski'
-plugin_author_email = '<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">ozarow+griffith at gmail.com</A>'
-plugin_version      = '3.8'
+class ExportPlugin(Base):
+    name = 'HTML'
+    description = _('Plugin exports data using templates')
+    author = 'Piotr O&#380;arowski'
+    email = '<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">piotr at griffith.cc</A>'
+    version = '4.0'
 
-class ExportPlugin(gtk.Window):
     #==[ configuration - default values ]==========={{{
-    config = {
+    settings = {
         'sorting'           : 'movies_title',
         'sorting2'          : 'ASC',
         'exported_dir'      : 'griffith_movies',
@@ -53,14 +52,12 @@
         'style'             : 0,
         'custom_style'      : False,
         'custom_style_file' : None,
-        'split_num'         : 50,        # split into x files/pages
-        'split_by'          : 1,        # 0==files, 1==movies
-        'seen_only'         : 0,        # 0==all movies; 1==seen only;   2==unseen only
-        'loaned_only'       : 0,        # 0==all movies; 1==loaned only; 2==not loaned only
-        'poster_convert'    : False,        # dont convert
+        'split_num'         : 50,    # split into x files/pages
+        'split_by'          : 1,     # 0==files, 1==movies
+        'poster_convert'    : False, # dont convert
         'poster_height'     : 200,
         'poster_width'      : 150,
-        'poster_mode'       : 'RGB',        # RGB == color, L == black and white
+        'poster_mode'       : 'RGB', # RGB == color, L == black and white
         'poster_format'     : 'jpg'
     }
     fields = {
@@ -169,22 +166,25 @@
     }
     #}}}
 
-    def __init__(self, database, locations, parent_window, **kwargs):#{{{
-        self.db = database
-        self.locations = locations
-        if kwargs.has_key('config'):
-            self.persistent_config = kwargs['config']
-        else:
-            self.persistent_config = None
+    def initialize(self): #{{{
+        self.fields_to_export = []
+        for field in ExportPlugin.fields:
+            pos = field.find('_')
+            self.fields_to_export.append(&quot;%s.%s&quot; % (field[:pos], field[pos+1:]))
+
         self.widgets = {}
         self.style_list = {}
         self.templates = self.make_template_list()
         # glade
-        gf = os.path.join(locations['glade'], 'exporthtml.glade')
+        gf = os.path.join(self.locations['glade'], 'exporthtml.glade')
         self.define_widgets(gtk.glade.XML(gf))
         self.fill_widgets()
+        return True
     #}}}
 
+    def run(self):
+        pass
+
     def get_node_value_by_language(self, parent, name, language='en'):#{{{
         nodes = parent.getElementsByTagName(name)
         for node in nodes:
@@ -272,12 +272,6 @@
             'sb_split_num'          : get('sb_split_num'),
             'rb_split_files'        : get('rb_split_files'),
             'rb_split_movies'       : get('rb_split_movies'),
-            'rb_seen'               : get('rb_seen'),
-            'rb_seen_only'          : get('rb_seen_only'),
-            'rb_seen_only_n'        : get('rb_seen_only_n'),
-            'rb_loaned'             : get('rb_loaned'),
-            'rb_loaned_only'        : get('rb_loaned_only'),
-            'rb_loaned_only_n'      : get('rb_loaned_only_n'),
             'entry_header'          : get('entry_header'),
             'cb_custom_style'       : get('cb_custom_style'),
             'cb_reverse'            : get('cb_reverse'),
@@ -303,12 +297,6 @@
             'on_export_button_clicked'           : self.export_data,
             'on_rb_split_files_toggled'          : self.on_rb_split_files_toggled,
             'on_rb_split_movies_toggled'         : self.on_rb_split_movies_toggled,
-            'on_rb_seen_toggled'                 : self.on_rb_seen_toggled,
-            'on_rb_seen_only_toggled'            : self.on_rb_seen_only_toggled,
-            'on_rb_seen_only_n_toggled'          : self.on_rb_seen_only_n_toggled,
-            'on_rb_loaned_toggled'               : self.on_rb_loaned_toggled,
-            'on_rb_loaned_only_toggled'          : self.on_rb_loaned_only_toggled,
-            'on_rb_loaned_only_n_toggled'        : self.on_rb_loaned_only_n_toggled,
             'on_cancel_button_clicked'           : self.on_quit,
             'on_cb_data_toggled'                 : self.on_cb_data_toggled,
             'on_cb_custom_style_toggled'         : self.on_cb_custom_style_toggled,
@@ -356,39 +344,26 @@
         self.widgets['box_include_3'].show_all()
 
         # set defaults --------------------------------
-        self.widgets['entry_header'].set_text(self.config['title'])
+        self.widgets['entry_header'].set_text(self.settings['title'])
         self.widgets['combo_theme'].set_active(2)    # html_tables
         self.widgets['combo_sortby'].set_active(pos_o_title)    # orginal title
         # spliting
-        self.widgets['sb_split_num'].set_value(self.config['split_num'])
-        if self.config['split_by'] == 0:
+        self.widgets['sb_split_num'].set_value(self.settings['split_num'])
+        if self.settings['split_by'] == 0:
             self.widgets['rb_split_files'].set_active(True)
         else:
             self.widgets['rb_split_movies'].set_active(True)
-        # limiting
-        if self.config['seen_only'] == 2:
-            self.widgets['rb_seen_only_n'].set_active(True)
-        elif self.config['seen_only'] == 1:
-            self.widgets['rb_seen_only'].set_active(True)
-        else:
-            self.widgets['rb_seen'].set_active(True)
-        if self.config['loaned_only'] == 2:
-            self.widgets['rb_loaned_only_n'].set_active(True)
-        elif self.config['loaned_only'] == 1:
-            self.widgets['rb_loaned_only'].set_active(True)
-        else:
-            self.widgets['rb_loaned'].set_active(True)
         # posters
         self.widgets['combo_format'].set_active(0)
-        if self.config['poster_convert'] and self.config['poster_convert'] == True:
+        if self.settings['poster_convert'] and self.settings['poster_convert'] == True:
             self.widgets['cb_convert'].set_active(True)
             self.widgets['vb_posters'].set_sensitive(True)
         else:
             self.widgets['cb_convert'].set_active(False)
             self.widgets['vb_posters'].set_sensitive(False)
         # persistent config
-        if not self.persistent_config is None:
-            tmp = self.persistent_config.get('export_dir', None, section='export-html')
+        if self.config is not None:
+            tmp = self.config.get('export_dir', None, section='export-html')
             if not tmp is None:
                 self.widgets['fcw'].set_current_folder(tmp)
     #}}}
@@ -400,44 +375,19 @@
 
     # data tab -------------------------------------#{{{
     def on_rb_split_files_toggled(self, widget):
-        self.config['split_by'] = 0    # files
+        self.settings['split_by'] = 0    # files
 
     def on_rb_split_movies_toggled(self, widget):
-        self.config['split_by'] = 1    # movies
+        self.settings['split_by'] = 1    # movies
     
     # export frame
     def on_cb_data_toggled(self, widget):
         self.fields[gutils.after(widget.get_name(), 'cb_')] = widget.get_active()
 
-    # limit frame
-    def on_rb_seen_toggled(self, widget):
-        if widget.get_active():
-            self.config['seen_only'] = 0    # export all movies
-
-    def on_rb_seen_only_toggled(self, widget):
-        if widget.get_active():
-            self.config['seen_only'] = 1    # export only seen movies
-    
-    def on_rb_seen_only_n_toggled(self, widget):
-        if widget.get_active():
-            self.config['seen_only'] = 2    # export only unseen movies
-    
-    def on_rb_loaned_toggled(self, widget):
-        if widget.get_active():
-            self.config['loaned_only'] = 0  # export all movies
-
-    def on_rb_loaned_only_toggled(self, widget):
-        if widget.get_active():
-            self.config['loaned_only'] = 1  # export only loaned movies
-    
-    def on_rb_loaned_only_n_toggled(self, widget):
-        if widget.get_active():
-            self.config['loaned_only'] = 2  # export only not loaned movies
-    
     # posters frame
     def on_cb_convert_toggled(self, widget):
         active = widget.get_active()
-        self.config['poster_convert'] = active
+        self.settings['poster_convert'] = active
         if not active:
             self.widgets['vb_posters'].set_sensitive(False)
         else:
@@ -446,9 +396,9 @@
 
     # template tab ---------------------------------#{{{
     def on_combo_theme_changed(self, widget):
-        old_id = self.config['template']
+        old_id = self.settings['template']
         tpl_id = widget.get_active()
-        self.config['template'] = tpl_id
+        self.settings['template'] = tpl_id
         # fill authors data
         self.widgets['l_tpl_author'].set_markup(&quot;&lt;i&gt;%s&lt;/i&gt;&quot; % self.templates[tpl_id]['author'])
         self.widgets['l_tpl_email'].set_markup(&quot;&lt;i&gt;%s&lt;/i&gt;&quot; % self.templates[tpl_id]['email'])
@@ -463,18 +413,18 @@
                 self.widgets['combo_style'].insert_text(i, self.templates[tpl_id]['styles'][i]['name'])    # template name
             self.widgets['combo_style'].set_active(0)
         else:
-            self.config['style'] = None
+            self.settings['style'] = None
             self.widgets['image_preview'].set_from_stock(gtk.STOCK_MISSING_IMAGE, gtk.ICON_SIZE_LARGE_TOOLBAR)
 
     def on_combo_style_changed(self, widget):
-        self.config['style'] = widget.get_active()
+        self.settings['style'] = widget.get_active()
         self.widgets['cb_custom_style'].set_active(False)
         preview_file = None
 
-        tpl_id = self.config['template']
+        tpl_id = self.settings['template']
         template_dir = os.path.join(self.locations['share'], 'export_templates', self.templates[tpl_id]['dir'])
-        if self.config['style'] &gt; -1:
-            preview_file = self.templates[self.config['template']]['styles'][self.config['style']]['preview']
+        if self.settings['style'] &gt; -1:
+            preview_file = self.templates[self.settings['template']]['styles'][self.settings['style']]['preview']
         if preview_file is not None:
             preview_file = os.path.join(template_dir, preview_file)
         if preview_file is not None and not os.path.isfile(preview_file):
@@ -489,20 +439,20 @@
 
     def on_cb_custom_style_toggled(self, widget):
         if widget.get_active():
-            self.config['custom_style'] = True
+            self.settings['custom_style'] = True
             self.widgets['image_preview'].hide()
         else:
-            self.config['custom_style'] = False
+            self.settings['custom_style'] = False
             self.widgets['image_preview'].show()
 
     def on_fcb_custom_style_file_activated(self, widget):
-        self.config['custom_style_file'] = widget.get_filename()
+        self.settings['custom_style_file'] = widget.get_filename()
         self.widgets['cb_custom_style'].set_active(True)
     #}}} }}}
 
     def make_navigation(self, pages, current):#{{{
         if pages &gt; 1:    # navigation needed
-            tpl_id = self.config['template']
+            tpl_id = self.settings['template']
             t = '&lt;div class=&quot;navi&quot;&gt;\n\t&lt;p id=&quot;prev&quot;&gt;'
             if current &gt; 1:
                 t += '&lt;a href=&quot;./page_%s.%s&quot;&gt;%s&lt;/a&gt;' % \
@@ -547,95 +497,46 @@
     #}}}
 
     def select(self):    #{{{
-        from sqlalchemy import select, outerjoin
-        config = self.config
-        
-        # columns to select
-        columns = []
-        for i in self.fields_as_columns:
-            try:
-                columns.append(db.movies_table.c[self.fields_as_columns[i]])
-            except:
-                pass
-        # use outer join to media table to get the name of the media
-        columns.append(db.media_table.c['name'])
-        media_join = outerjoin(db.movies_table, db.media_table, \
-                db.movies_table.c.medium_id==db.media_table.c.medium_id)
-        # use outer join to collections table to get the name of the collection
-        columns.append(db.collections_table.c['name'])
-        collection_join = media_join.outerjoin(db.collections_table, \
-            db.movies_table.c.collection_id==db.collections_table.c.collection_id)
-        # use outer join to volumes table to get the name of the volume
-        columns.append(db.volumes_table.c['name'])
-        volume_join = collection_join.outerjoin(db.volumes_table, \
-            db.movies_table.c.volume_id==db.volumes_table.c.volume_id)
-        # use outer join to volumes table to get the name of the volume
-        columns.append(db.vcodecs_table.c['name'])
-        vcodec_join = volume_join.outerjoin(db.vcodecs_table, \
-            db.movies_table.c.vcodec_id==db.vcodecs_table.c.vcodec_id)
-        #
-        # selecting the audio codec doesn't work with joins because if more than one codec per movie is
-        # added it would duplicate the movie in the result set as many as audio codecs are added to the movie
-        #
-        # use outer join to language and acodec table to get the name of the audio codec
-        #movie_lang_join = vcodec_join.outerjoin( \
-        #    db.movie_lang_table, \
-        #    db.movies_table.c.movie_id==db.movie_lang_table.c.movie_id)
-        #columns.append(db.acodec_table.c['name'])
-        #acodec_join = movie_lang_join.outerjoin( \
-        #    db.acodec_table, \
-        #    db.movie_lang_table.c.acodec_id==db.acodec_table.c.acodec_id)
-        
-        # sort order    TODO: more than one sort column
-        sort_columns = []
-        sorting_parts = config['sorting'].split('_')
-        if config['sorting2'] == 'ASC':
-            from sqlalchemy import asc
-            sort_columns.append(asc(db.metadata.tables[sorting_parts[0]].c['_'.join(sorting_parts[1:])]))
-        elif config['sorting2'] == 'DESC':
-            from sqlalchemy import desc
-            sort_columns.append(desc(db.metadata.tables[sorting_parts[0]].c['_'.join(sorting_parts[1:])]))
+        config = self.settings
+        # sort order TODO: update self.search_conditions[&quot;sort_by&quot;]
+        tmp = config['sorting'].split('_')
+        sort_column = &quot;%s.%s&quot; % (tmp[0], '_'.join(tmp[1:]))
 
-        statement = select(columns=columns, order_by=sort_columns, bind=self.db.session.bind,
-                    from_obj=[media_join, collection_join, volume_join, vcodec_join], use_labels=True)
-
-        # where clause
-        if config['seen_only'] == 1:
-            statement.append_whereclause(db.movies_table.c.seen==True)
-        elif config['seen_only'] == 2:
-            statement.append_whereclause(db.movies_table.c.seen!=True)
-        if config['loaned_only'] == 1:
-            statement.append_whereclause(db.movies_table.c.loaned==True)
-        elif config['loaned_only'] == 2:
-            statement.append_whereclause(db.movies_table.c.loaned!=True)
+        if config['sorting2'] == 'ASC':
+            sort_column += ' ASC'
+        else:
+            sort_column += ' DESC'
         
-        return statement.execute()
+        self.search_conditions[&quot;sort_by&quot;] = (sort_column,)
+        query = self.get_query()
+
+        return query.execute()
     #}}}
 
     #==[ main function ]============================{{{
     def export_data(self, widget):
         &quot;&quot;&quot;Main exporting function&quot;&quot;&quot;
 
-        config = self.config
+        config = self.settings
         fields = self.fields
         tid = config['template']
         
         # get data from widgets
-        self.config['exported_dir'] = self.widgets['fcw'].get_filename()
-        self.config['title']        = self.widgets['entry_header'].get_text().decode('utf-8')
-        self.config['sorting']      = self.names[self.widgets['combo_sortby'].get_active_text().decode('utf-8')]
+        self.settings['exported_dir'] = self.widgets['fcw'].get_filename()
+        self.settings['title']        = self.widgets['entry_header'].get_text().decode('utf-8')
+        self.settings['sorting']      = self.names[self.widgets['combo_sortby'].get_active_text().decode('utf-8')]
         if self.widgets['cb_reverse'].get_active():
-            self.config['sorting2'] = 'DESC'
+            self.settings['sorting2'] = 'DESC'
         else:
-            self.config['sorting2'] = 'ASC'
-        self.config['split_num']     = self.widgets['sb_split_num'].get_value_as_int()
-        self.config['poster_height'] = self.widgets['sb_height'].get_value_as_int()
-        self.config['poster_width']  = self.widgets['sb_width'].get_value_as_int()
+            self.settings['sorting2'] = 'ASC'
+        self.settings['split_num']     = self.widgets['sb_split_num'].get_value_as_int()
+        self.settings['poster_height'] = self.widgets['sb_height'].get_value_as_int()
+        self.settings['poster_width']  = self.widgets['sb_width'].get_value_as_int()
         if self.widgets['cb_black'].get_active():
-            self.config['poster_mode'] = 'L'
+            self.settings['poster_mode'] = 'L'
         else:
-            self.config['poster_mode'] = 'RGB'
-        self.config['poster_format'] = self.widgets['combo_format'].get_active_text()
+            self.settings['poster_mode'] = 'RGB'
+        self.settings['poster_format'] = self.widgets['combo_format'].get_active_text()
 
         # create directories
         if not config['exported_dir']:
@@ -657,9 +558,9 @@
                 gutils.warning(self, str(err))
         
         # persist config
-        if not self.persistent_config is None:
-            self.persistent_config.set('export_dir', config['exported_dir'], section='export-html')
-            self.persistent_config.save()
+        if self.config is not None:
+            self.config.set('export_dir', config['exported_dir'], section='export-html')
+            self.config.save()
 
         if fields['movies_image']:
             # import modules needed later
@@ -676,7 +577,7 @@
             
             posters_dir = os.path.join(config['exported_dir'], 'posters')
             if os.path.isdir(posters_dir):
-                if gutils.question(_(&quot;Directory %s already exists.\nDo you want to overwrite it?&quot;) % posters_dir, True, self) == gtk.RESPONSE_YES:
+                if gutils.question(_(&quot;Directory %s already exists.\nDo you want to overwrite it?&quot;) % posters_dir, True, self.widgets['window']) == gtk.RESPONSE_YES:
                     try:
                         shutil.rmtree(posters_dir)
                     except:
@@ -697,7 +598,7 @@
                 except:
                     gutils.warning(self,_(&quot;Can't copy %s!&quot;)%style_file)
                     config['custom_style'] = False
-                style = os.path.split(self.config['custom_style_file'])[1]
+                style = os.path.split(self.settings['custom_style_file'])[1]
             else:
                 config['custom_style'] = False
 
@@ -881,7 +782,7 @@
             im.save(image_file_dst, config['poster_format'])
         except:
             log.info(&quot;Can't convert %s&quot; % image_file_src)
-        gutils.info(_(&quot;Document has been generated.&quot;), self)
+        gutils.info(_(&quot;Document has been generated.&quot;), self.widgets['window'])
         self.on_quit()
     #}}}
 

Modified: trunk/lib/plugins/export/PluginExportPDF.py
===================================================================
--- trunk/lib/plugins/export/PluginExportPDF.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/PluginExportPDF.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 from reportlab.pdfgen import canvas
 from reportlab.lib.pagesizes import letter, A4
 from reportlab.lib.units import mm, inch
@@ -39,37 +37,33 @@
 import string
 import sys
 from locale import getdefaultlocale
-from sqlalchemy import select
 import db
 import gutils
 import version
+from plugins.export import Base
 
-exec_location = os.path.abspath(os.path.dirname(sys.argv[0]))
+class ExportPlugin(Base):
+    name = &quot;PDF&quot;
+    description = _(&quot;PDF export plugin&quot;)
+    author = &quot;Vasco Nunes&quot;
+    email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
+    version = &quot;0.5&quot;
+    
+    fields_to_export = ('number', 'o_title', 'title', 'director', 'genre', 'cast')
 
-plugin_name = &quot;PDF&quot;
-plugin_description = _(&quot;PDF export plugin&quot;)
-plugin_author = &quot;Vasco Nunes&quot;
-plugin_author_email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
-plugin_version = &quot;0.4&quot;
-
-class ExportPlugin:
-    def __init__(self, database, locations, parent_window, **kwargs):
-        self.db = database
-        self.locations = locations
-        self.parent = parent_window
-        self.config = kwargs['config']
+    def initialize(self):
         self.styles = getSampleStyleSheet()
-        self.export_simple_pdf()
-        self.fontName = &quot;&quot;
+        self.fontName = ''
+        return True
 
-    def export_simple_pdf(self):
+    def run(self):
         &quot;&quot;&quot;exports a simple movie list to a pdf file&quot;&quot;&quot;
         
         if self.config.get('font', '') != '':
-                self.fontName = 'custom_font'
-                pdfmetrics.registerFont(TTFont(self.fontName, self.config.get('font', '')))
+            self.fontName = 'custom_font'
+            pdfmetrics.registerFont(TTFont(self.fontName, self.config.get('font', '')))
         else:
-                self.fontName = &quot;Helvetica&quot;
+            self.fontName = &quot;Helvetica&quot;
 
         basedir = None
         if not self.config is None:
@@ -85,7 +79,7 @@
             overwrite = None
             pdffilename = filename[0].decode('utf-8')
             if os.path.isfile(pdffilename):
-                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent)
+                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent_window)
                 if response==-8:
                     overwrite = True
                 else:
@@ -104,21 +98,19 @@
                 defaultEnc = 'utf-8'
                 style = self.styles[&quot;Normal&quot;]
                 Story = [Spacer(1,2*inch)]
-                # build the query
-                movies = select(db.movies_table.c, bind=self.db.session.bind)
-                # select sort column
+
+                # select sort column - FIXME
                 sort_column_name = self.config.get('sortby', 'number', section='mainlist')
                 sort_reverse = self.config.get('sortby_reverse', False, section='mainlist')
                 do_grouping = True
                 for i in sort_column_name.split(','):
-                    if i &lt;&gt; 'title' and i &lt;&gt; 'o_title':
+                    if i != 'title' and i != 'o_title':
                         do_grouping = False
-                    if db.movies_table.c.has_key(i):
-                        if sort_reverse:
-                            movies = movies.order_by(db.movies_table.c[i].desc())
-                        else:
-                            movies = movies.order_by(db.movies_table.c[i])
-                movies = movies.execute().fetchall()
+
+                # build the query
+                query = self.get_query()
+                movies = query.execute().fetchall()
+
                 # define some custom stylesheetfont
                 total = len(movies)
                 p = Paragraph(&quot;&lt;font name='&quot; + self.fontName +&quot;' size=\&quot;18\&quot;&gt;&quot; + saxutils.escape((_(&quot;List of films&quot;)).encode('utf-8')) + '&lt;/font&gt;', self.styles[&quot;Heading1&quot;] )
@@ -131,10 +123,10 @@
                 first_letter = '0'
                 for movie in movies:
                     number = movie.number
-                    original_title = str(movie.o_title).encode(defaultEnc)
-                    title = str(movie.title).encode(defaultEnc)
+                    original_title = movie.o_title.encode(defaultEnc)
+                    title = movie.title.encode(defaultEnc)
                     if movie.director:
-                        director = ' - ' + str(movie.director).encode(defaultEnc)
+                        director = ' - ' + movie.director.encode(defaultEnc)
                     else:
                         director = &quot;&quot;
                     # group by first letter
@@ -158,20 +150,20 @@
                         '&lt;/font&gt;'
                     p = Paragraph(paragraph_text.decode(defaultEnc), self.styles['Normal'])
                     Story.append(p)
-                    if not movie.genre is None:
+                    if movie.genre is not None:
                         paragraph_text = '&lt;font name=' + self.fontName + ' size=&quot;5&quot;&gt;' + \
-                        '&lt;b&gt;' + _('Genre') + ': &lt;/b&gt;' + saxutils.escape(str(movie.genre).encode(defaultEnc)) + \
+                        '&lt;b&gt;' + _('Genre') + ': &lt;/b&gt;' + saxutils.escape(movie.genre.encode(defaultEnc)) + \
                         '&lt;/font&gt;'
                         p = Paragraph(paragraph_text.decode(defaultEnc), self.styles['Normal'])
                         Story.append(p)
-                    if not movie.cast is None:
+                    if movie.cast is not None:
                         paragraph_text = '&lt;i&gt;&lt;font name=' + self.fontName + ' size=&quot;5&quot;&gt;' + \
-                        '&lt;b&gt;' + _('Cast') + ': &lt;/b&gt;' + saxutils.escape('; '.join(str(movie.cast).encode(defaultEnc).split(&quot;\n&quot;)[0:2])) + \
+                        '&lt;b&gt;' + _('Cast') + ': &lt;/b&gt;' + saxutils.escape('; '.join(movie.cast.encode(defaultEnc).split(&quot;\n&quot;)[0:2])) + \
                             '&lt;/font&gt;&lt;/i&gt;'
                         p = Paragraph(paragraph_text.decode(defaultEnc), self.styles['Normal'])
                         Story.append(p)
                 c.build(Story, onFirstPage=self.page_template, onLaterPages=self.page_template)
-                gutils.info(_('PDF has been created.'), self.parent)
+                gutils.info(_('PDF has been created.'), self.parent_window)
             
     def page_template(self, canvas, doc):
         canvas.saveState()

Modified: trunk/lib/plugins/export/PluginExportXML.py
===================================================================
--- trunk/lib/plugins/export/PluginExportXML.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/PluginExportXML.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -25,69 +25,65 @@
 import xml.dom.ext
 import gtk
 import os
-import gettext
-gettext.install('griffith', unicode=1)
 import db
 import gutils
+from plugins.export import Base
 
-plugin_name = &quot;XML&quot;
-plugin_description = _(&quot;Full XML list export plugin&quot;)
-plugin_author = &quot;Vasco Nunes&quot;
-plugin_author_email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
-plugin_version = &quot;0.1&quot;
+class ExportPlugin(Base):
+    name = &quot;XML&quot;
+    description = _(&quot;Full XML list export plugin&quot;)
+    author = &quot;Vasco Nunes&quot;
+    email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
+    version = &quot;0.1&quot;
 
-class ExportPlugin:
+    fields_to_export = ('number', 'o_title', 'title', 'director', 'year', 'classification', 'country',
+                        'genre', 'rating', 'runtime', 'studio', 'seen', 'loaned', 'o_site', 'site', 'trailer',
+                        'plot', 'cast', 'notes', 'image', 'volumes.name', 'collections.name', 'media.name')
 
-    def __init__(self, database, locations, parent_window, **kwargs):
-        self.db = database
-        self.locations = locations
-        self.parent = parent_window
-        if kwargs.has_key('config'):
-            self.persistent_config = kwargs['config']
-        else:
-            self.persistent_config = None
-        self.export_xml()
-
-    def export_xml(self):
+    def run(self):
         basedir = None
-        if not self.persistent_config is None:
-            basedir = self.persistent_config.get('export_dir', None, section='export-xml')
+        if self.config is not None:
+            basedir = self.config.get('export_dir', None, section='export-xml')
         if basedir is None:
             filename = gutils.file_chooser(_(&quot;Export a %s document&quot;)%&quot;XML&quot;, action=gtk.FILE_CHOOSER_ACTION_SAVE, \
                 buttons=(gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK),name='griffith_list.xml')
         else:
             filename = gutils.file_chooser(_(&quot;Export a %s document&quot;)%&quot;XML&quot;, action=gtk.FILE_CHOOSER_ACTION_SAVE, \
                 buttons=(gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK),name='griffith_list.xml',folder=basedir)
-        if filename[0]:
-            if not self.persistent_config is None and filename[1]:
-                self.persistent_config.set('export_dir', filename[1], section='export-xml')
-                self.persistent_config.save()
+        if filename and filename[0]:
+            if self.config is not None and filename[1]:
+                self.config.set('export_dir', filename[1], section='export-xml')
+                self.config.save()
             overwrite = None
             if os.path.isfile(filename[0]):
-                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent)
+                response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent_window)
                 if response==-8:
                     overwrite = True
                 else:
                     overwrite = False
                     
-            if overwrite == True or overwrite is None:
+            if overwrite or overwrite is None:
                 # create document
                 impl = xml.dom.minidom.getDOMImplementation()
                 doc  = impl.createDocument(None, &quot;root&quot;, None)
                 root = doc.documentElement
                 
+                movies = self.get_query().execute().fetchall()
                 # create object
-                for movie in self.db.session.query(db.Movie).all():
+                for movie in movies:
                     e = doc.createElement('movie')
                     root.appendChild(e)
-                    for key in db.movies_table.c.keys():
-                        e2 = doc.createElement(key)
+                    for key in self.exported_columns:
+                        e2 = doc.createElement(str(key).replace('movies_', ''))
                         if movie[key] is None:
                             value = ''
                         elif movie[key] in (True, False):
                             value = str(int(movie[key]))
                         else:
-                            value = str(movie[key])
+                            if movie[key] is unicode:
+                                value = movie[key].encode('utf-8')
+                            else:
+                                value = str(movie[key])
                         t = doc.createTextNode(value)
                         e2.appendChild(t)
                         e.appendChild(e2)
@@ -96,4 +92,5 @@
                 fp = open(filename[0], &quot;w&quot;)
                 xml.dom.ext.PrettyPrint(doc, fp)
                 fp.close()
-                gutils.info( _(&quot;%s file has been created.&quot;)%&quot;XML&quot;, self.parent)
+                gutils.info( _(&quot;%s file has been created.&quot;)%&quot;XML&quot;, self.parent_window)
+

Modified: trunk/lib/plugins/export/PluginExportiPod.py
===================================================================
--- trunk/lib/plugins/export/PluginExportiPod.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/PluginExportiPod.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -30,19 +30,12 @@
 import platform
 import shutil
 from tempfile import mkdtemp
-import gettext
-gettext.install('griffith', unicode=1)
 import db
+from plugins.export import Base
 
-plugin_name = &quot;iPod&quot;
-plugin_description = _(&quot;iPod Notes export plugin&quot;)
-plugin_author = &quot;Vasco Nunes&quot;
-plugin_author_email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
-plugin_version = &quot;0.1&quot;
-
 # TODO: bypass the 4Kb file limit on the iPod notes folder, splitting the file in multiple ones and linking them.
 
-class Path2iPod:
+class Path2iPod(object):
 
   def __init__(self):
     self.thing_to_find=&quot;iPod_Control&quot;
@@ -65,29 +58,28 @@
     else:
       return self.path_to_pod
 
-class ExportPlugin:
+class ExportPlugin(Base):
+    name = &quot;iPod&quot;
+    description = _(&quot;iPod Notes export plugin&quot;)
+    author = &quot;Vasco Nunes&quot;
+    email = &quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">vasco.m.nunes at gmail.com</A>&gt;&quot;
+    version = &quot;0.2&quot;
 
-    def __init__(self, database, locations, parent_window, **kwargs):
-        self.db = database
-        self.locations = locations
-        self.parent = parent_window
-        self.export_iPod()
+    fields_to_export = ('number', 'o_title', 'title', 'director' )
 
-    def split_file(self, filename):
-        pass
-
-    def export_iPod(self):
+    def run(self):
         tmp_dir = mkdtemp()
         griffith_list = open(os.path.join(tmp_dir,&quot;movies&quot;),&quot;w&quot;)
         t = []
-        
-        for movie in self.db.session.query(db.Movie).all():
-            t.append(&quot;%s | %s | %s | %s&quot;%(movie['number'],movie['o_title'],movie['title'],movie['director']))
+       
+        movies = self.get_query().execute().fetchall()
+        for movie in movies:
+            t.append(&quot;%s | %s | %s | %s&quot; % (movie['number'], movie['o_title'].encode('utf-8'), movie['title'].encode('utf-8'), movie['director'].encode('utf-8')))
     
-        griffith_list.write(&quot;&lt;title&gt;%s&lt;/title&gt;&lt;br&gt;&lt;br&gt;&quot;%_(&quot;My Movies List&quot;))
+        griffith_list.write(&quot;&lt;title&gt;%s&lt;/title&gt;&lt;br&gt;&lt;br&gt;&quot; % _(&quot;My Movies List&quot;))
         
         for movie in t:
-            griffith_list.write(str(movie))
+            griffith_list.write(movie)
             griffith_list.write(&quot;&lt;br&gt;&quot;)
             
         griffith_list.close()
@@ -99,22 +91,22 @@
             thisPath=thisPod.returnPath()
         
             if thisPath:
-                commands.getoutput('mv '+os.path.join(tmp_dir,&quot;movies&quot;)+' &quot;'+thisPath+'/Notes/&quot;')
-                gutils.info(_(&quot;List was successful exported to iPod.&quot;), self.parent)        
+                commands.getoutput('mv '+os.path.join(tmp_dir,&quot;movies&quot;)+' &quot;'+thisPath+'/Notes/&quot;') # FIXME: WTF?
+                gutils.info(_(&quot;List was successful exported to iPod.&quot;), self.parent_window)
             else:
-                gutils.info(_(&quot;iPod is not connected.&quot;), self.parent)
+                gutils.info(_(&quot;iPod is not connected.&quot;), self.parent_window)
         # this is not a mac, lets save the file
         else:
             filename = gutils.file_chooser(_(&quot;Export a %s document&quot;)%&quot;CSV&quot;, action=gtk.FILE_CHOOSER_ACTION_SAVE, \
                 buttons=(gtk.STOCK_CANCEL,gtk.RESPONSE_CANCEL,gtk.STOCK_SAVE,gtk.RESPONSE_OK),name='ipod_griffith_list')
-            if filename[0]:
+            if filename and filename[0]:
                 overwrite = None
                 if os.path.isfile(filename[0]):
-                    response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent)
+                    response = gutils.question(_(&quot;File exists. Do you want to overwrite it?&quot;), True, self.parent_window)
                     if response==-8:
                         overwrite = True
                     else:
                         overwrite = False
                 if overwrite == True or overwrite is None:
                     shutil.copyfile(os.path.join(tmp_dir,&quot;movies&quot;), filename[0])
-                    gutils.info(_(&quot;List was successful exported. Now you should move it to the 'Notes' folder on your iPod.&quot;), self.parent)
+                    gutils.info(_(&quot;List was successful exported. Now you should move it to the 'Notes' folder on your iPod.&quot;), self.parent_window)

Modified: trunk/lib/plugins/export/__init__.py
===================================================================
--- trunk/lib/plugins/export/__init__.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/export/__init__.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -0,0 +1,109 @@
+# -*- coding: UTF-8 -*-
+
+__revision__ = '$Id$'
+
+# Copyright (c) 2008 Piotr O&#380;arowski
+#
+# This program is free software; you can redistribute it and/or modify
+# it under the terms of the GNU General Public License as published byp
+# the Free Software Foundation; either version 2 of the License, or
+# (at your option) any later version.
+#
+# This program is distributed in the hope that it will be useful,
+# but WITHOUT ANY WARRANTY; without even the implied warranty of
+# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+# GNU Library General Public License for more details.
+#
+# You should have received a copy of the GNU General Public License
+# along with this program; if not, write to the Free Software
+# 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA
+
+# You may use and distribute this software under the terms of the
+# GNU General Public License, version 2 or later
+
+import glob
+import os.path
+
+import logging
+log = logging.getLogger(&quot;Griffith.%s&quot; % __name__)
+
+from sqlalchemy import select, outerjoin
+import db
+from sql import update_whereclause
+
+# detect all plugins:
+__all__ = [os.path.basename(x)[:-3] for x in glob.glob(&quot;%s/PluginExport*.py&quot; % os.path.dirname(__file__))]
+
+class Base(object):
+    description = None
+    author = None
+    email = None
+    version = None
+    fields_to_export = ('number', 'o_title', 'title', 'director', 'year')
+
+    def __init__(self, database, locations, parent_window, search_conditions, config, **kwargs): #{{{
+        self.db = database
+        self.locations = locations
+        self.parent_window = parent_window
+        self.search_conditions = search_conditions
+
+        self.config = config
+        self.search_conditions = search_conditions
+    #}}}
+    
+    def initialize(self):
+        &quot;&quot;&quot;Initializes plugin (get all parameters from user, etc.)&quot;&quot;&quot;
+        return True
+
+    def cleanup(self):
+        pass
+
+    def run(self):
+        raise NotImplemented
+    
+    def get_query(self):
+        tables = set()
+        columns = []
+
+        for i in self.fields_to_export:
+            table = 'movies'
+            column = i.split('.')
+            if len(column) &gt; 1:
+                table = column[0]
+                column = column[1]
+                if table not in db.tables:
+                    log.warning(&quot;Wrong table name: %s&quot;, table)
+                    continue
+                tables.add(table) # will be used to generate JOIN
+            else:
+                column = column[0]
+
+            if column in db.tables[table].columns:
+                columns.append(db.tables[table].columns[column])
+            else:
+                log.warning(&quot;Wrong field name: %s&quot;, i)
+
+        joins = []
+        if 'media' in tables:
+            joins.append((db.tables['media'], db.tables['movies'].c.medium_id==db.tables['media'].c.medium_id))
+        if 'collections' in tables:
+            joins.append((db.tables['collections'], db.tables['movies'].c.collection_id==db.tables['collections'].c.collection_id))
+        if 'volumes' in tables:
+            joins.append((db.tables['volumes'], db.tables['movies'].c.volume_id==db.tables['volumes'].c.volume_id))
+        if 'vcodecs' in tables:
+            joins.append((db.tables['vcodecs'], db.tables['movies'].c.vcodec_id==db.tables['vcodecs'].c.vcodec_id))
+
+        if joins:
+            from_obj = [ outerjoin(db.tables['movies'], *(joins[0])) ]
+            for j in joins[1:]:
+                from_obj.append(outerjoin(from_obj[-1], *j))
+            query = select(columns=columns, bind=self.db.session.bind, from_obj=from_obj, use_labels=True)
+        else:
+            query = select(columns=columns, bind=self.db.session.bind)
+
+        query = update_whereclause(query, self.search_conditions)
+
+        # save column names (will contain 'movies_title' or 'title' depending on how many tables were requested)
+        self.exported_columns = query.columns
+
+        return query

Modified: trunk/lib/plugins/imp/CSV.py
===================================================================
--- trunk/lib/plugins/imp/CSV.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/imp/CSV.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -10,8 +10,6 @@
 #
 ###########################################################################
 
-import gettext
-gettext.install('griffith', unicode=1)
 from plugins.imp import ImportPlugin as IP
 import gtk
 import gtk.glade

Modified: trunk/lib/plugins/imp/__init__.py
===================================================================
--- trunk/lib/plugins/imp/__init__.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/imp/__init__.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,18 +21,16 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-# detect all plugins:
 import glob
 import os.path
 import time
 import gc
-import gettext
-gettext.install('griffith', unicode=1)
 import logging
 log = logging.getLogger(&quot;Griffith&quot;)
 
 import db
 
+# detect all plugins:
 __all__ = [os.path.basename(x)[:-3] for x in glob.glob(&quot;%s/*.py&quot; % os.path.dirname(__file__))]
 __all__.remove('__init__')
 
@@ -116,7 +114,7 @@
         # get some values from DB to avoid queries in the loop
         statement = select([db.Movie.number, db.Movie.title, db.Movie.o_title])
         data = session.execute(statement).fetchall()
-        numbers = set([i[0] for i in data])
+        numbers = set(i[0] for i in data)
         titles = set(i[1].lower() for i in data)
         o_titles = set(i[2].lower() for i in data)
 

Modified: trunk/lib/plugins/movie/PluginMovie7arte.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovie7arte.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovie7arte.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieAllocine.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAllocine.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieAllocine.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAmazon.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieAmazon.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieAniDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAniDB.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieAniDB.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie
 import string, re
 from gutils import decompress

Modified: trunk/lib/plugins/movie/PluginMovieCSFD.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCSFD.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieCSFD.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -19,8 +19,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 import re

Modified: trunk/lib/plugins/movie/PluginMovieCineMovies.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCineMovies.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieCineMovies.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 

Modified: trunk/lib/plugins/movie/PluginMovieCinematografo.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCinematografo.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieCinematografo.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie, string
 
 plugin_name = &quot;Cinematografo&quot;

Modified: trunk/lib/plugins/movie/PluginMovieCineteka.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCineteka.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieCineteka.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieCulturalia.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieCulturalia.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieCulturalia.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieDVDEmpire.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieDVDEmpire.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieDVDEmpire.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import re

Modified: trunk/lib/plugins/movie/PluginMovieDVDPalace.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieDVDPalace.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieDVDPalace.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieE-Pipoca.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieE-Pipoca.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieE-Pipoca.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -25,8 +25,6 @@
 # <A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">joe1310 at terra.com.br</A> - S&#227;o Paulo/Brasil
 
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie, string
 
 plugin_name = &quot;E-Pipoca&quot;

Modified: trunk/lib/plugins/movie/PluginMovieFDb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFDb.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFDb.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieFilmAffinity.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmAffinity.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFilmAffinity.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieFilmDb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmDb.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFilmDb.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieFilmeVonAZ.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmeVonAZ.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFilmeVonAZ.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,9 +21,7 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
-import gutils
+mport gutils
 import movie
 import string
 import re

Modified: trunk/lib/plugins/movie/PluginMovieFilmtipset.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmtipset.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFilmtipset.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieFilmweb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmweb.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieFilmweb.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie
 import re,string
 

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie
 import string, re
 

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-es.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-es.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-es.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieIMDB.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie
 import string, re
 

Modified: trunk/lib/plugins/movie/PluginMovieKinoDe.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieKinoDe.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieKinoDe.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieMediadis.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieMediadis.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieMediadis.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -6,8 +6,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 

Modified: trunk/lib/plugins/movie/PluginMovieMoviefone.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieMoviefone.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieMoviefone.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -6,8 +6,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 

Modified: trunk/lib/plugins/movie/PluginMovieOFDb.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieOFDb.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieOFDb.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -7,8 +7,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string,re
 

Modified: trunk/lib/plugins/movie/PluginMovieOnet.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieOnet.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieOnet.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 

Modified: trunk/lib/plugins/movie/PluginMoviePTGate.py
===================================================================
--- trunk/lib/plugins/movie/PluginMoviePTGate.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMoviePTGate.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/plugins/movie/PluginMovieStopklatka.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieStopklatka.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieStopklatka.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils, movie
 import string, re
 

Modified: trunk/lib/plugins/movie/PluginMovieTanukiAnime.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieTanukiAnime.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieTanukiAnime.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 

Modified: trunk/lib/plugins/movie/PluginMovieWP.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieWP.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieWP.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie,string
 import re

Modified: trunk/lib/plugins/movie/PluginMovieZelluloid.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieZelluloid.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/plugins/movie/PluginMovieZelluloid.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import movie
 import string

Modified: trunk/lib/preferences.py
===================================================================
--- trunk/lib/preferences.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/preferences.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import os
 import socket
 import logging

Modified: trunk/lib/quick_filter.py
===================================================================
--- trunk/lib/quick_filter.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/quick_filter.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import db
 

Modified: trunk/lib/sql.py
===================================================================
--- trunk/lib/sql.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/sql.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -29,8 +29,6 @@
 from sqlalchemy.orm        import sessionmaker
 from sqlalchemy.exceptions import OperationalError
 import os.path
-import gettext
-gettext.install('griffith', unicode=1)
 import logging
 log = logging.getLogger(&quot;Griffith&quot;)
 import gutils # TODO: get rid of this import
@@ -251,14 +249,21 @@
     for rule in cond[&quot;sort_by&quot;]:
         if rule.endswith(&quot; DESC&quot;):
             reverse = True
-            rule = rule.replace(&quot; DESC&quot;, '')
+            column = rule.replace(&quot; DESC&quot;, '')
         else:
+            column = rule.replace(&quot; ASC&quot;, '') # note that &quot; ASC&quot; is optional
             reverse = False
 
+        table = 'movies'
+        tmp = column.split('.')
+        if len(tmp) &gt; 1:
+            table = tmp[0]
+            column = tmp[1]
+
         if reverse:
-            query.append_order_by(desc(db.movies_table.columns[rule]))
+            query.append_order_by(desc(db.tables[table].columns[column]))
         else:
-            query.append_order_by(asc(db.movies_table.columns[rule]))
+            query.append_order_by(asc(db.tables[table].columns[column]))
 
     log.debug(query.compile())
     return query #}}}

Modified: trunk/lib/update.py
===================================================================
--- trunk/lib/update.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/update.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gutils
 import os
 import db

Modified: trunk/lib/version.py
===================================================================
--- trunk/lib/version.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/version.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 pname        = &quot;Griffith&quot;
 pversion     = &quot;0.10~svn&quot;
 pauthor      = &quot;Vasco Nunes, Piotr O&#380;arowski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/griffith-svn">griffith-private at lists.berlios.de</A>&gt;&quot;

Modified: trunk/lib/view.py
===================================================================
--- trunk/lib/view.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/view.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,9 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
-
 # TODO: rewrite it using advfilter (see get_def_conditions)
 
 def filter_not_seen(self):

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2008-11-15 21:13:49 UTC (rev 1040)
+++ trunk/lib/widgets.py	2008-11-15 21:39:47 UTC (rev 1041)
@@ -21,8 +21,6 @@
 # You may use and distribute this software under the terms of the
 # GNU General Public License, version 2 or later
 
-import gettext
-gettext.install('griffith', unicode=1)
 import gtk
 import sys
 import advfilter


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000518.html">[Griffith-svn] r1040 - in branches/0.9.x: . lib lib/plugins/export	lib/plugins/imp lib/plugins/movie
</A></li>
	<LI>Next message: <A HREF="000520.html">[Griffith-svn] r1042 - branches/0.9.x/lib	branches/0.9.x/lib/plugins/movie trunk/lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#519">[ date ]</a>
              <a href="thread.html#519">[ thread ]</a>
              <a href="subject.html#519">[ subject ]</a>
              <a href="author.html#519">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/griffith-svn">More information about the Griffith-svn
mailing list</a><br>
</body></html>
