<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Griffith-svn] r1424 - trunk/lib/plugins/movie
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/griffith-svn/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1424%20-%20trunk/lib/plugins/movie&In-Reply-To=%3C201005291243.o4TChWfM011065%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000885.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Griffith-svn] r1424 - trunk/lib/plugins/movie</H1>
    <B>mikej06 at mail.berlios.de</B> 
    <A HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1424%20-%20trunk/lib/plugins/movie&In-Reply-To=%3C201005291243.o4TChWfM011065%40sheep.berlios.de%3E"
       TITLE="[Griffith-svn] r1424 - trunk/lib/plugins/movie">mikej06 at mail.berlios.de
       </A><BR>
    <I>Sat May 29 14:43:32 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000885.html">[Griffith-svn] r1423 - trunk/lib
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#886">[ date ]</a>
              <a href="thread.html#886">[ thread ]</a>
              <a href="subject.html#886">[ subject ]</a>
              <a href="author.html#886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mikej06
Date: 2010-05-29 14:43:21 +0200 (Sat, 29 May 2010)
New Revision: 1424

Modified:
   trunk/lib/plugins/movie/PluginMovieAllMovie.py
   trunk/lib/plugins/movie/PluginMovieAllocine.py
   trunk/lib/plugins/movie/PluginMovieAmazon.py
   trunk/lib/plugins/movie/PluginMovieAniDB.py
   trunk/lib/plugins/movie/PluginMovieFilmAffinity.py
   trunk/lib/plugins/movie/PluginMovieIMDB-de.py
   trunk/lib/plugins/movie/PluginMovieIMDB-es.py
   trunk/lib/plugins/movie/PluginMovieIMDB.py
Log:
movie plugin test data updated

Modified: trunk/lib/plugins/movie/PluginMovieAllMovie.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAllMovie.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieAllMovie.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -240,7 +240,7 @@
     # dict { movie_id -&gt; [ expected result count for original url, expected result count for translated url ] }
     #
     test_configuration = {
-        'Rocky Balboa' : [ 11, 11 ],
+        'Rocky Balboa' : [ 25, 25 ],
     }
 
 class PluginTest:

Modified: trunk/lib/plugins/movie/PluginMovieAllocine.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAllocine.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieAllocine.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -257,7 +257,22 @@
 Bill Paxton' + _(' as ') + 'le chef des punks\n\
 Brian Thompson' + _(' as ') + 'un punk\n\
 Marianne Muellerleile' + _(' as ') + 'la \'mauvaise\' Sarah Connor\n\
-Franco Columbu' + _(' as ') + 'le Terminator infiltrant le bunker dans le futur',
+Franco Columbu' + _(' as ') + 'le Terminator infiltrant le bunker dans le futur\n\
+Ken Fritz' + _(' as ') + 'Policeman\n\
+Stan Yale' + _(' as ') + 'Derelict in Alley\n\
+Brad Rearden' + _(' as ') + 'Punk\n\
+Joe Farago' + _(' as ') + 'TV Anchorman\n\
+Anthony Trujillo' + _(' as ') + 'Mexican Boy (close-ups)\n\
+Harriet Medin' + _(' as ') + 'Customer\n\
+Hugh Farrington' + _(' as ') + 'Customer\n\
+Philip Gordon' + _(' as ') + 'Mexican Boy (long shots)\n\
+Patrick Pinney' + _(' as ') + 'Bar Customer\n\
+Wayne Stone' + _(' as ') + 'Tanker Driver\n\
+Norman Friedman' + _(' as ') + 'Cleaning Man at Flophouse\n\
+Hettie Lynne Hurtes' + _(' as ') + 'TV Anchorwoman\n\
+Al Kahn' + _(' as ') + 'Customer\n\
+Bill W. Richmond' + _(' as ') + 'Bartender\n\
+Bruce M. Kerner' + _(' as ') + 'Desk Sergeant',
             'country'             : u'am&#195;&#169;ricain',
             'genre'               : u'Science fiction',
             'classification'      : False,

Modified: trunk/lib/plugins/movie/PluginMovieAmazon.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAmazon.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieAmazon.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -284,19 +284,20 @@
         return self.page
 
     def get_searches(self):
-        for result in self.page:
-            if hasattr(result, 'Item'):
-                if hasattr(result.Item, 'ASIN'):
-                    self.add_item(result.Item)
-                else:
-                    for item in result.Item:
-                        self.add_item(item)
-            elif hasattr(result, 'Items'):
-                if hasattr(result.Item, 'ASIN'):
-                    self.add_item(result.Items)
-                else:
-                    for item in result.Items:
-                        self.add_item(item)
+        if self.page:
+            for result in self.page:
+                if hasattr(result, 'Item'):
+                    if hasattr(result.Item, 'ASIN'):
+                        self.add_item(result.Item)
+                    else:
+                        for item in result.Item:
+                            self.add_item(item)
+                elif hasattr(result, 'Items'):
+                    if hasattr(result.Item, 'ASIN'):
+                        self.add_item(result.Items)
+                    else:
+                        for item in result.Items:
+                            self.add_item(item)
 
     def add_item(self, item):
         self.ids.append(item.ASIN)

Modified: trunk/lib/plugins/movie/PluginMovieAniDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieAniDB.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieAniDB.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -282,7 +282,7 @@
 [Police Officer inside Heli (&#227;&#131;&#152;&#227;&#131;&#170;&#230;&#169;&#159;&#229;&#134;&#133;&#232;&#173;&#166;&#229;&#175;&#159;&#229;&#174;&#152;)] voiced by Andy Holyfield\n\
 -; appears in; appears in episodes: 8',
             'country'             : False,
-            'genre'               : 'Action, Contemporary Fantasy, Cops, Fantasy, Gunfights, Horror, Law and Order, Seinen, Special Squads, Vampires, Violence',
+            'genre'               : 'Action, Contemporary Fantasy, Cops, Fantasy, Gunfights, Horror, Law and Order, Manga, Seinen, Special Squads, Vampires, Violence',
             'classification'      : False,
             'studio'              : False,
             'o_site'              : '<A HREF="http://www.gonzo.co.jp/works/0102.html">http://www.gonzo.co.jp/works/0102.html</A>',

Modified: trunk/lib/plugins/movie/PluginMovieFilmAffinity.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieFilmAffinity.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieFilmAffinity.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -54,10 +54,12 @@
         self.o_title = gutils.trim(self.page, u'&lt;b&gt;T&#205;TULO ORIGINAL&lt;/b&gt;&lt;/td&gt;', '&lt;/b&gt;&lt;/td&gt;')
         self.o_title = gutils.after(self.o_title, '&lt;b&gt;')
         self.o_title = re.sub('[ ]+', ' ', self.o_title)
+        self.o_title = re.sub('([(]Serie de TV[)]|[(]TV[)]|[(]TV Series[)])', '', self.o_title)
 
     def get_title(self):
         self.title = gutils.trim(self.page, 'www.filmaffinity.com/images/movie.gif&quot; border=&quot;0&quot;&gt; ', '&lt;/span&gt;')
         self.title = re.sub('[ ]+', ' ', self.title)
+        self.title = re.sub('([(]Serie de TV[)]|[(]TV[)]|[(]TV Series[)])', '', self.title)
 
     def get_director(self):
         self.director = gutils.trim(self.page,'&lt;b&gt;DIRECTOR&lt;/b&gt;&lt;/td&gt;', '&lt;/td&gt;')
@@ -267,7 +269,7 @@
 Eric Keenleyside\n\
 Christopher Heyerdahl',
             'country'             : 'Estados Unidos',
-            'genre'               : 'Terror',
+            'genre'               : u'Terror. Biogr&#225;fico. Siglo XIX. Serie [Masters of Horror]',
             'classification'      : False,
             'studio'              : 'Emitida por la cadena Showtime',
             'o_site'              : False,

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-de.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-de.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -364,10 +364,12 @@
 Nick Baker' + _(' as ') + 'Irish Pub Bartender\n\
 Don Sherman' + _(' as ') + 'Andy\n\
 Stu Nahan' + _(' as ') + 'Computer Fight Commentator (Sprechrolle)\n\
-Gary Compton' + _(' as ') + 'Sicherheitsbediensteter &#195;&#188;brige Besetzung in alphabetischer Reihenfolge:\n\
+Gary Compton' + _(' as ') + 'Sicherheitsbediensteter\n\
+Tony Devon' + _(' as ') + 'Neighbor &#195;&#188;brige Besetzung in alphabetischer Reihenfolge:\n\
 Vale Anoai' + _(' as ') + 'Shopper in Italian Market\n\
 Michael Ahl' + _(' as ') + 'Restaurant Patron (nicht im Abspann)\n\
 Andrew Aninsman' + _(' as ') + 'Promoter (nicht im Abspann)\n\
+Ben Bachelder' + _(' as ') + 'The Arm (nicht im Abspann)\n\
 Lacy Bevis' + _(' as ') + 'Boxing Spectator (nicht im Abspann)\n\
 Tim Brooks' + _(' as ') + 'Boxing Spectator (nicht im Abspann)\n\
 D.T. Carney' + _(' as ') + 'High Roller (nicht im Abspann)\n\
@@ -400,7 +402,7 @@
             'studio'            : 'Metro-Goldwyn-Mayer (MGM) (presents) (copyright owner), Columbia Pictures (presents) (copyright owner), Revolution Studios (presents) (copyright owner), Chartoff-Winkler Productions, Rogue Marble',
             'o_site'            : False,
             'site'              : '<A HREF="http://www.imdb.de/title/tt0479143">http://www.imdb.de/title/tt0479143</A>',
-            'trailer'           : '<A HREF="http://www.imdb.de/title/tt0479143/trailers">http://www.imdb.de/title/tt0479143/trailers</A>',
+            'trailer'           : '<A HREF="http://www.imdb.com/title/tt0479143/trailers">http://www.imdb.com/title/tt0479143/trailers</A>',
             'year'              : 2006,
             'notes'             : _('Language') + ': Englisch | Spanisch\n'\
 + _('Audio') + ': DTS | Dolby Digital | SDDS\n'\
@@ -447,7 +449,7 @@
             'studio'             : 'Les Films 13, Rizzoli Film',
             'o_site'             : False,
             'site'               : '<A HREF="http://www.imdb.de/title/tt0069815">http://www.imdb.de/title/tt0069815</A>',
-            'trailer'            : '<A HREF="http://www.imdb.de/title/tt0069815/trailers">http://www.imdb.de/title/tt0069815/trailers</A>',
+            'trailer'            : '<A HREF="http://www.imdb.com/title/tt0069815/trailers">http://www.imdb.com/title/tt0069815/trailers</A>',
             'year'               : 1973,
             'notes'              : _('Language') + ': Franz&#195;&#182;sisch\n'\
 + _('Audio') + ': Mono\n'\

Modified: trunk/lib/plugins/movie/PluginMovieIMDB-es.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB-es.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieIMDB-es.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -320,10 +320,12 @@
 Nick Baker' + _(' as ') + 'Irish Pub Bartender\n\
 Don Sherman' + _(' as ') + 'Andy\n\
 Stu Nahan' + _(' as ') + 'Computer Fight Commentator (voz)\n\
-Gary Compton' + _(' as ') + u'Oficial de Seguridad listado alfab&#233;tico del resto del reparto:\n\
+Gary Compton' + _(' as ') + 'Oficial de Seguridad\n\
+Tony Devon' + _(' as ') + u'Neighbor listado alfab&#233;tico del resto del reparto:\n\
 Vale Anoai' + _(' as ') + 'Shopper in Italian Market\n\
 Michael Ahl' + _(' as ') + 'Restaurant Patron (sin acreditar)\n\
 Andrew Aninsman' + _(' as ') + 'Promoter (sin acreditar)\n\
+Ben Bachelder' + _(' as ') + 'The Arm (sin acreditar)\n\
 Lacy Bevis' + _(' as ') + 'Boxing Spectator (sin acreditar)\n\
 Tim Brooks' + _(' as ') + 'Boxing Spectator (sin acreditar)\n\
 D.T. Carney' + _(' as ') + 'High Roller (sin acreditar)\n\

Modified: trunk/lib/plugins/movie/PluginMovieIMDB.py
===================================================================
--- trunk/lib/plugins/movie/PluginMovieIMDB.py	2010-05-24 19:41:49 UTC (rev 1423)
+++ trunk/lib/plugins/movie/PluginMovieIMDB.py	2010-05-29 12:43:21 UTC (rev 1424)
@@ -256,7 +256,7 @@
     #
     test_configuration = {
         'Rocky Balboa'         : [ 20, 20 ],
-        'Ein gl&#195;&#188;ckliches Jahr' : [ 41, 41 ]
+        'Ein gl&#195;&#188;ckliches Jahr' : [ 42, 42 ]
     }
 
 class PluginTest:


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000885.html">[Griffith-svn] r1423 - trunk/lib
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#886">[ date ]</a>
              <a href="thread.html#886">[ thread ]</a>
              <a href="subject.html#886">[ subject ]</a>
              <a href="author.html#886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/griffith-svn">More information about the Griffith-svn
mailing list</a><br>
</body></html>
