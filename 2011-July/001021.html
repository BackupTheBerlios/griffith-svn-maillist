<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Griffith-svn] r1562 - in trunk: . glade lib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/griffith-svn/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1562%20-%20in%20trunk%3A%20.%20glade%20lib&In-Reply-To=%3C20110718193019.E73374815B1%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Griffith-svn] r1562 - in trunk: . glade lib</H1>
    <B>mikej06 at mail.berlios.de</B> 
    <A HREF="mailto:griffith-svn%40lists.berlios.de?Subject=Re%3A%20%5BGriffith-svn%5D%20r1562%20-%20in%20trunk%3A%20.%20glade%20lib&In-Reply-To=%3C20110718193019.E73374815B1%40sheep.berlios.de%3E"
       TITLE="[Griffith-svn] r1562 - in trunk: . glade lib">mikej06 at mail.berlios.de
       </A><BR>
    <I>Mon Jul 18 21:30:19 CEST 2011</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001022.html">[Griffith-svn] r1563 - in trunk: . glade lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1021">[ date ]</a>
              <a href="thread.html#1021">[ thread ]</a>
              <a href="subject.html#1021">[ subject ]</a>
              <a href="author.html#1021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: mikej06
Date: 2011-07-18 21:30:19 +0200 (Mon, 18 Jul 2011)
New Revision: 1562

Modified:
   trunk/ChangeLog
   trunk/glade/griffith.glade
   trunk/lib/add.py
   trunk/lib/preferences.py
   trunk/lib/widgets.py
Log:
configurable default value for field &quot;seen it&quot;

Modified: trunk/ChangeLog
===================================================================
--- trunk/ChangeLog	2011-06-22 23:31:36 UTC (rev 1561)
+++ trunk/ChangeLog	2011-07-18 19:30:19 UTC (rev 1562)
@@ -4,12 +4,16 @@
 ------------------
 (c) 2005-2011  Vasco Nunes, Piotr O&#380;arowski
 
+
+2011-07-18  Michael Jahn
+	* configurable default value for field &quot;seen it&quot;
+
 2011-06-22  Filippo Valsorda
-    * Fixed and completed PluginMovieMyMoviesIt (hidden bug)
-    * Added gutils.rtrim (think at string.rfind)
+	* Fixed and completed PluginMovieMyMoviesIt (hidden bug)
+	* Added gutils.rtrim (think at string.rfind)
 
 2011-06-20  Filippo Valsorda
-    * Refresh IMDB-it plugin
+	* Refresh IMDB-it plugin
 
 2011-06-20  Michael Jahn
 	* [#570053] Region selection shows DVD regions when media is not DVD.

Modified: trunk/glade/griffith.glade
===================================================================
--- trunk/glade/griffith.glade	2011-06-22 23:31:36 UTC (rev 1561)
+++ trunk/glade/griffith.glade	2011-07-18 19:30:19 UTC (rev 1562)
@@ -3069,7 +3069,7 @@
                         &lt;child&gt;
                           &lt;widget class=&quot;GtkTable&quot; id=&quot;table15&quot;&gt;
                             &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
-                            &lt;property name=&quot;n_rows&quot;&gt;6&lt;/property&gt;
+                            &lt;property name=&quot;n_rows&quot;&gt;7&lt;/property&gt;
                             &lt;property name=&quot;n_columns&quot;&gt;2&lt;/property&gt;
                             &lt;child&gt;
                               &lt;widget class=&quot;GtkComboBox&quot; id=&quot;p_vcodec&quot;&gt;
@@ -3167,6 +3167,38 @@
                               &lt;/packing&gt;
                             &lt;/child&gt;
                             &lt;child&gt;
+                              &lt;widget class=&quot;GtkLabel&quot; id=&quot;label147&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;Seen it&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;7&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
+                              &lt;widget class=&quot;GtkCheckButton&quot; id=&quot;p_seen&quot;&gt;
+                                &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;&lt;/property&gt;
+                                &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;response_id&quot;&gt;0&lt;/property&gt;
+                                &lt;property name=&quot;active&quot;&gt;True&lt;/property&gt;
+                                &lt;property name=&quot;draw_indicator&quot;&gt;True&lt;/property&gt;
+                              &lt;/widget&gt;
+                              &lt;packing&gt;
+                                &lt;property name=&quot;left_attach&quot;&gt;1&lt;/property&gt;
+                                &lt;property name=&quot;right_attach&quot;&gt;2&lt;/property&gt;
+                                &lt;property name=&quot;top_attach&quot;&gt;6&lt;/property&gt;
+                                &lt;property name=&quot;bottom_attach&quot;&gt;7&lt;/property&gt;
+                                &lt;property name=&quot;x_options&quot;&gt;GTK_FILL&lt;/property&gt;
+                                &lt;property name=&quot;y_options&quot;&gt;&lt;/property&gt;
+                              &lt;/packing&gt;
+                            &lt;/child&gt;
+                            &lt;child&gt;
                               &lt;widget class=&quot;GtkLabel&quot; id=&quot;label145&quot;&gt;
                                 &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
                                 &lt;property name=&quot;xalign&quot;&gt;0&lt;/property&gt;

Modified: trunk/lib/add.py
===================================================================
--- trunk/lib/add.py	2011-06-22 23:31:36 UTC (rev 1561)
+++ trunk/lib/add.py	2011-07-18 19:30:19 UTC (rev 1562)
@@ -536,10 +536,13 @@
         w['rating_slider'].set_value(gutils.digits_only(item['rating'], 10))
     else:
         w['rating_slider'].set_value(0)
-    if 'seen' in item and item['seen'] is True:
-        w['seen'].set_active(True)
+    if 'seen' in item:
+        if item['seen'] is True:
+            w['seen'].set_active(True)
+        else:
+            w['seen'].set_active(False)
     else:
-        w['seen'].set_active(False)
+        w['seen'].set_active(bool(self.config.get('seen', True, section='defaults')))
     if 'cast' in item and item['cast']:
         cast_buffer.set_text(item['cast'])
     else:

Modified: trunk/lib/preferences.py
===================================================================
--- trunk/lib/preferences.py	2011-06-22 23:31:36 UTC (rev 1561)
+++ trunk/lib/preferences.py	2011-07-18 19:30:19 UTC (rev 1562)
@@ -154,6 +154,7 @@
             w['vcodec'].set_active(    int(gutils.findKey(int(self.config.get('vcodec', 0, section='defaults')), self.vcodecs_ids)) )
         else:
             w['vcodec'].set_active(0)
+    w['seen'].set_active(bool(self.config.get('seen', True, section='defaults')))
 
     # search for:
     w['s_classification'].set_active(bool(self.config.get('s_classification', True, section='add')))
@@ -361,6 +362,7 @@
     c.set('region', str(w['region'].get_active()), section='defaults')
     c.set('layers', str(w['layers'].get_active()), section='defaults')
     c.set('color', str(w['color'].get_active()), section='defaults')
+    c.set('seen', str(w['seen'].get_active()), section='defaults')
 
     # email reminder
     if w['mail_use_auth'].get_active():

Modified: trunk/lib/widgets.py
===================================================================
--- trunk/lib/widgets.py	2011-06-22 23:31:36 UTC (rev 1561)
+++ trunk/lib/widgets.py	2011-07-18 19:30:19 UTC (rev 1562)
@@ -208,6 +208,7 @@
         'layers': get('p_layers'),
         'media': get('p_media'),
         'region': get('p_region'),
+        'seen': get('p_seen'),
         's_classification': get('p_s_classification'),
         's_country': get('p_s_country'),
         's_director': get('p_s_director'),


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001022.html">[Griffith-svn] r1563 - in trunk: . glade lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1021">[ date ]</a>
              <a href="thread.html#1021">[ thread ]</a>
              <a href="subject.html#1021">[ subject ]</a>
              <a href="author.html#1021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/griffith-svn">More information about the Griffith-svn
mailing list</a><br>
</body></html>
